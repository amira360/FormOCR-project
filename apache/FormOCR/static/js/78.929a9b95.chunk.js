(this["webpackJsonpisct-group"]=this["webpackJsonpisct-group"]||[]).push([[78,79],{2503:function(e,t,a){"use strict";a.r(t);var n=a(13),c=a(89),i=a(1),s=a.n(i),o=a(167),r=a(633),l=a(115),d=a(836),m=(a(639),a(1249),a(837));t.default=function(e){var t=s.a.useState(""),a=Object(c.a)(t,2),u=a[0],j=a[1],h=s.a.useState(""),p=Object(c.a)(h,2),b=p[0],x=p[1],O=s.a.useState(""),f=Object(c.a)(O,2),g=f[0],v=f[1],N=s.a.useState(null),S=Object(c.a)(N,2),y=S[0],w=S[1],k=s.a.useState(null),_=Object(c.a)(k,2),I=(_[0],_[1]);Object(i.useEffect)((function(){"true"===localStorage.getItem("new_account")&&(w(Object(n.jsx)(r.a,{color:"warning",children:"You will receive a confirmation email to activate your account!"})),localStorage.setItem("new_account","false"))}),[]);return Object(n.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(n.jsx)(r.l,{children:Object(n.jsx)(r.O,{className:"justify-content-center ",children:Object(n.jsx)(r.k,{md:"12",children:Object(n.jsxs)(r.i,{children:[Object(n.jsx)(r.f,{className:"text-white py-4 col-md-5 order-md-2",style:{background:" linear-gradient(rgba(0, 0, 255, 0.0), rgba(0, 0, 255, 0.0)), url(".concat(d.a,")")},children:Object(n.jsx)(r.g,{className:"text-center",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{src:m.a,width:"150px",style:{borderRadius:"0px"}}),Object(n.jsx)("p",{className:"mt-5",children:"Vous n'avez pas encore un compte ?"}),Object(n.jsx)(o.b,{to:"/register",children:Object(n.jsx)(r.e,{color:"primary",shape:"pill",active:!0,tabIndex:-1,children:Object(n.jsx)("b",{children:"S'inscrire maintenant!"})})})]})})}),Object(n.jsx)(r.f,{className:"p-4 col-md-7 order-md-1",children:Object(n.jsx)(r.g,{children:Object(n.jsxs)(r.u,{onSubmit:function(t){void 0!==e.match.params.token&&(I(e.match.params.token),localStorage.setItem("device_token",e.match.params.token)),t.preventDefault(),""===u&&j("error");var a={method:"POST",headers:{"X-Tenant":b,"Content-Type":"application/json"},body:JSON.stringify({domainName:b})};"success"===u&&fetch(l.e+"/api/auth/verifyDomain",a).then((function(e){return new Promise((function(t,a){e.text().then((function(e){t(e.length?JSON.parse(e):null)})).catch((function(e){a(e)}))}))})).then((function(t){if(null===t)j("notExist"),v("Invalid Domain name ! ");else if(415===t.status)y("unsupported Media type !");else{var a={method:"POST",headers:{"X-Tenant":b,"Content-Type":"application/json"},body:JSON.stringify({domainName:b})};fetch(l.e+"/api/auth/verifyDomainActivation",a).then((function(e){return new Promise((function(t,a){e.text().then((function(e){t(e.length?JSON.parse(e):null)})).catch((function(e){a(e)}))}))})).then((function(a){if("active"===a.status){var c=null;null!==t.expiration_date&&(c=t.expiration_date.substr(0,t.expiration_date.indexOf(" "))),localStorage.setItem("domain_data",t.domain),localStorage.setItem("domain_image",t.image),localStorage.setItem("domainName",JSON.parse(t.domain).domainName),localStorage.setItem("domain_expiration_date",c),e.history.push("/login")}else w(Object(n.jsx)(r.a,{color:"danger",children:"domain inactive !"}))}))}})).catch((function(e){console.log(e)}))},method:"post",children:[Object(n.jsx)("h1",{children:"Domaine"}),Object(n.jsx)("p",{className:"text-muted",children:"Entrez votre domaine"}),y,Object(n.jsxs)(r.C,{className:"mb-3",children:[Object(n.jsx)(r.A,{invalid:"error"===u||"notExist"===u,type:"text",id:"domainName",value:b,onChange:function(e){var t,a;x(e.target.value),t=e.target.value,a=1,t.length>=a?j("success"):(j("error"),v("Le nom de domaine est requis ! "))},placeholder:"Nom de domaine *"}),Object(n.jsx)(r.G,{className:"help-block",children:g})]}),Object(n.jsx)(r.O,{children:Object(n.jsx)(r.k,{xs:"12",children:Object(n.jsxs)(r.e,{type:"submit",color:"primary",className:"px-6 mt-lg-3",shape:"pill",children:[Object(n.jsx)("i",{className:"pi pi-sign-in",children:" "})," \xa0 Se connecter"]})})})]})})})]})})})})})}},836:function(e,t,a){"use strict";t.a=a.p+"static/media/bg.608704a5.jpg"},837:function(e,t,a){"use strict";t.a=a.p+"static/media/icon.cfaf8cec.gif"}}]);
//# sourceMappingURL=78.929a9b95.chunk.js.map