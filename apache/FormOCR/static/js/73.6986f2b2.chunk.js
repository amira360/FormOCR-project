(this["webpackJsonpisct-group"]=this["webpackJsonpisct-group"]||[]).push([[73],{3062:function(e,t,a){"use strict";a.r(t);var n=a(39),c=a(13),s=a(89),o=a(1),r=a.n(o),i=a(633),l=(a(639),a(653),a(681)),j=a(3025),m=a(701),d=(a(754),a(755),a(697)),u=a(704),h=a(679),b=a(115),O=Object(j.a)((function(e){return{formControl:{margin:e.spacing(1),marginLeft:"0px !important",minWidth:220,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}}));t.default=Object(m.a)(Object(n.a)({},O),{withTheme:!0})((function(e){var t=r.a.useState(!0),a=Object(s.a)(t,2),n=(a[0],a[1],r.a.useState(!0)),j=Object(s.a)(n,2),m=(j[0],j[1],r.a.useState("")),x=Object(s.a)(m,2),p=(x[0],x[1],r.a.useState("")),f=Object(s.a)(p,2),g=f[0],v=f[1],S=r.a.useState(""),N=Object(s.a)(S,2),k=(N[0],N[1],r.a.useState("form")),C=Object(s.a)(k,2),y=(C[0],C[1],r.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainId)),A=Object(s.a)(y,2),I=A[0],z=(A[1],r.a.useState([])),F=Object(s.a)(z,2),J=(F[0],F[1],r.a.useState([])),T=Object(s.a)(J,2),w=T[0],B=T[1],H=r.a.useState([]),E=Object(s.a)(H,2),M=E[0],G=E[1],_=r.a.useState([]),L=Object(s.a)(_,2),P=(L[0],L[1],r.a.useState({})),U=Object(s.a)(P,2),V=U[0],W=U[1],X=r.a.useState({}),D=Object(s.a)(X,2),R=D[0],q=D[1],K=r.a.useState(""),Q=Object(s.a)(K,2),Y=Q[0],Z=Q[1],$=r.a.useState(""),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=r.a.useState(""),ce=Object(s.a)(ne,2),se=ce[0],oe=ce[1],re=r.a.useState([]),ie=Object(s.a)(re,2),le=ie[0],je=ie[1],me=r.a.useState([]),de=Object(s.a)(me,2),ue=de[0],he=de[1],be=r.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainName),Oe=Object(s.a)(be,2),xe=Oe[0];Oe[1],O();Object(o.useEffect)((function(){var t={method:"GET",headers:{"X-Tenant":xe,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")}},a=e.match.params.masterId;v(a);var n=[];fetch(b.v+"/api/auth/role/getRoles",t).then((function(e){return e.json()})).then((function(e){console.log(e),e.map((function(e){n.push({value:e.roleName,label:e.roleName,id:e.roleId})})),G(n);var t={method:"POST",headers:{"X-Tenant":xe,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")},body:JSON.stringify({id:a})};fetch(b.n+"/api/master/getByMasterId",t).then((function(e){return new Promise((function(t,a){e.text().then((function(e){t(e.length?JSON.parse(e):null)})).catch((function(e){a(e)}))}))})).then((function(e){console.log(e);var t=JSON.parse(e.master),a=JSON.parse(e.user_roles),c=JSON.parse(e.admin_roles);ae(t.name),Z(t.code),W(t),q(JSON.parse(e.json));var s=[],o=[];console.log(a),a.map((function(e){var t=n.filter((function(t){return t.id===e.roleId}));o.push(t[0])})),console.log(o),he([].concat(o)),c.map((function(e){var t=n.filter((function(t){return t.id===e.roleId}));s.push(t[0])})),console.log(s),je([].concat(s))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}),[]);return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(i.k,{xs:"12",sm:"12",children:Object(c.jsxs)(i.f,{children:[Object(c.jsx)(i.j,{children:Object(c.jsxs)("h4",{children:["Edit  -  ",V.name]})}),Object(c.jsx)(i.g,{children:Object(c.jsxs)(i.u,{noValidate:!0,children:[Object(c.jsxs)(i.v,{row:!0,className:"my-0",children:[Object(c.jsx)(i.k,{xs:"6",children:Object(c.jsxs)(i.v,{children:[Object(c.jsx)(i.H,{htmlFor:"SNo",children:"S No"}),Object(c.jsx)(i.A,{id:"SNo",value:V.sno,disabled:!0})]})}),Object(c.jsx)(i.k,{xs:"6",children:Object(c.jsxs)(i.v,{children:[Object(c.jsx)(i.H,{htmlFor:"masterName",children:"Nom du ma\xeetre"}),Object(c.jsx)(i.A,{id:"masterName",onChange:function(e){return ae(e.target.value)},value:te})]})})]}),Object(c.jsxs)(i.v,{row:!0,className:"my-0",children:[Object(c.jsx)(i.k,{sm:12,md:6,children:Object(c.jsxs)(i.v,{children:[Object(c.jsx)(i.H,{htmlFor:"masterCode",children:"Code du ma\xeetre"}),Object(c.jsx)(i.A,{id:"masterCode",value:Y,disabled:!0})]})}),Object(c.jsx)(i.k,{sm:12,md:6,children:Object(c.jsxs)(i.v,{children:[Object(c.jsx)(i.H,{htmlFor:"AccessControlAdmin",children:"Contr\xf4le d'acc\xe8s (Admin)"}),Object(c.jsx)(h.a,{name:"form-field-name2",placeholder:"Global",value:le,options:M,onChange:je,isMulti:!0})]})}),Object(c.jsx)(i.k,{sm:12,md:6,children:Object(c.jsxs)(i.v,{children:[Object(c.jsx)(i.H,{htmlFor:"AccessControlUser",children:"Contr\xf4le d'acc\xe8s (Utilisateur)"}),Object(c.jsx)(h.a,{name:"form-field-name2",placeholder:"Global",value:ue,options:M,onChange:he,isMulti:!0})]})})]}),Object(c.jsx)(i.v,{row:!0,className:"my-0",children:Object(c.jsx)(i.k,{xs:"12",children:Object(c.jsxs)(i.v,{variant:"custom-checkbox",inline:!0,style:{marginBottom:"20px"},children:[Object(c.jsx)(i.B,{custom:!0,id:"inline-checkbox2",name:"inline-checkbox2",onChange:function(e){return oe(e.target.value)},value:se}),Object(c.jsx)(i.H,{variant:"custom-checkbox",htmlFor:"inline-checkbox2",children:"D\xe9sactiver bouton Ajouter un nouveau"})]})})}),Object(c.jsxs)(i.f,{children:[Object(c.jsx)(i.j,{style:{backgroundColor:"#F5F5F5"},children:"G\xe9n\xe9rateur de ma\xeetre"}),Object(c.jsx)(i.g,{children:Object(c.jsx)(l.FormBuilder,{form:R,onChange:function(e){B(e.components)}})})]}),Object(c.jsxs)(i.O,{xs:"4",children:[Object(c.jsx)(i.k,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0",children:Object(c.jsxs)(i.e,{block:!0,variant:"outline",color:"info",id:"formSave",onClick:function(t){t.preventDefault();var a={display:"form",components:w},n={method:"POST",headers:{"X-Tenant":xe,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")},body:JSON.stringify({masterName:te,masterId:g,disableAddNewButton:se,form:a,domainId:I,rolesAdmin:le,rolesUser:ue})};fetch(b.n+"/api/master/edit",n).then((function(t){console.log(t),e.history.push("/admin/master/list")}))},children:[Object(c.jsx)(d.a,{})," Enregister"]})}),Object(c.jsx)(i.k,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0",children:Object(c.jsxs)(i.e,{block:!0,variant:"outline",color:"danger",onClick:function(){return e.history.push("/admin/master/list")},children:[Object(c.jsx)(u.a,{}),"Annuler"]})})]})]})})]})})})}))},697:function(e,t,a){"use strict";var n=a(1),c=a(1054);t.a=Object(c.a)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save")},704:function(e,t,a){"use strict";var n=a(1),c=a(1054);t.a=Object(c.a)(n.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel")}}]);
//# sourceMappingURL=73.6986f2b2.chunk.js.map