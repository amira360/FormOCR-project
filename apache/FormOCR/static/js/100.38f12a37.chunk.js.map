{"version":3,"sources":["views/Administration/masterBuilder/PreviewMaster.js"],"names":["makeStyles","theme","formControl","margin","spacing","marginLeft","minWidth","maxWidth","chips","display","flexWrap","chip","noLabel","marginTop","PreviewMaster","props","React","useState","master","setMaster","masterData","setMasterData","JSON","parse","localStorage","getItem","domainName","useEffect","masterId","match","params","master_data","method","headers","body","stringify","id","fetch","MASTER_SERVICE","then","response","Promise","resolve","reject","text","length","catch","err","data","console","log","json","error","className","name","form"],"mappings":"iOA6BkBA,aAAW,SAACC,GAAD,MAAY,CACvCC,YAAa,CACXC,OAAQF,EAAMG,QAAQ,GACtBC,WAAY,iBACZC,SAAU,IACVC,SAAU,KAEZC,MAAO,CACLC,QAAS,OACTC,SAAU,QAEZC,KAAM,CACJR,OAAQ,GAEVS,QAAS,CACPC,UAAWZ,EAAMG,QAAQ,QA4EdU,UA9DO,SAACC,GAAW,IAAD,EAELC,IAAMC,SAAS,IAFV,mBAE1BC,EAF0B,KAElBC,EAFkB,OAGGH,IAAMC,SAAS,IAHlB,gCAIGD,IAAMC,SAAS,KAJlB,mBAI1BG,EAJ0B,KAIdC,EAJc,OAKKL,IAAMC,SAASK,KAAKC,MAAMC,aAAaC,QAAQ,gBAAgBC,YALpE,mBAKxBA,EALwB,UA0C/B,OAnCFC,qBAAU,WAAM,IAENC,EAAab,EAAMc,MAAMC,OAAzBF,SACFG,EAAc,CAClBC,OAAQ,OACRC,QAAS,CACP,WAAYP,EACZ,eAAgB,mBAChB,cAAiB,UAAYF,aAAaC,QAAQ,kBACpDS,KAAMZ,KAAKa,UAAU,CAACC,GAAKR,KAE7BS,MAAMC,IAAiB,4BAA4BP,GAChDQ,MAAK,SAAAC,GACJ,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BH,EAASI,OAAOL,MAAK,SAAAL,GACnBQ,EACER,EAAKW,OAASvB,KAAKC,MAAMW,GAAQ,SAElCY,OAAM,SAAAC,GACPJ,EAAOI,YAIZR,MAAK,SAAAS,GACJC,QAAQC,IAAIF,GAEZ7B,EAAUG,KAAKC,MAAMyB,EAAKG,OAC1B9B,EAAcC,KAAKC,MAAMyB,EAAK9B,YAG/B4B,OAAM,SAAAM,GACLH,QAAQC,IAAIE,QACV,IAIJ,8BACE,eAAC,IAAD,WACE,cAAC,IAAD,UACE,qBAAKC,UAAU,cAAf,SACE,qBAAKA,UAAU,4BAAf,SACE,qBAAKA,UAAU,oBAAf,SAAmC,oBACjCA,UAAU,mDADuB,SAC4B,uBAAMA,UAAU,cAAhB,yBAA2CjC,EAAWkC,kBAK3H,cAAC,IAAD,UACE,cAAC,OAAD,CAAMC,KAAMrC","file":"static/js/100.38f12a37.chunk.js","sourcesContent":["\n\nimport React, {useEffect} from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CFormGroup,\n  CInput, CSelect,\n  CLabel, CNavbar, CNavbarBrand, CRow, CForm, CInputGroup, CInvalidFeedback,\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { DocsLink } from 'src/reusable'\nimport { Link } from 'react-router-dom'\nimport {FormBuilder} from 'react-formio';\nimport {makeStyles, withStyles} from '@material-ui/core/styles';\nimport {Form} from 'react-formio';\nimport {SERVER_URL, MASTER_SERVICE} from '../../../constants';\n\nimport 'formiojs/dist/formio.full.min';\nimport 'formiojs/dist/formio.full.min.css';\nimport {Cancel, Save} from \"@material-ui/icons\";\nimport {Chip} from \"@material-ui/core\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Input from \"@material-ui/core/Input\";\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    marginLeft: 0+'px !important',\n    minWidth: 220,\n    maxWidth: 300,\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nconst PreviewMaster = (props) => {\n\nconst [master, setMaster] = React.useState({});\nconst [masterName, setMasterName] = React.useState({});\nconst [masterData, setMasterData] = React.useState({});\n  const [domainName, setDomainName] = React.useState(JSON.parse(localStorage.getItem('domain_data')).domainName);\n\nuseEffect(()=> {\n\n  const { masterId } = props.match.params;\n  const master_data = {\n    method: 'POST',\n    headers: {\n      \"X-Tenant\": domainName,\n      'Content-Type': 'application/json',\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"Authorization\")},\n    body: JSON.stringify({id : masterId})\n  };\n  fetch(MASTER_SERVICE + '/api/master/getByMasterId',master_data)\n    .then(response => {\n      return new Promise((resolve, reject) => {\n        response.text().then(body => {\n          resolve(\n            body.length ? JSON.parse(body) : null\n          );\n        }).catch(err => {\n          reject(err);\n        });\n      });\n    })\n    .then(data => {\n      console.log(data);\n      //  setComponents(JSON.parse(data.form_json).components)\n      setMaster(JSON.parse(data.json))\n      setMasterData(JSON.parse(data.master));\n      // this.props.history.push(\"/admin/formView\");\n    })\n    .catch(error => {\n      console.log(error);\n    })},[])\n\n\n  return (\n    <div>\n      <CCard>\n        <CCardHeader>\n          <div className=\"m-subheader\">\n            <div className=\"d-flex align-items-center\">\n              <div className=\"mr-auto col-xs-6 \"><h4\n                className=\"m-subheader__title m-subheader__title--separator\"><span className=\"ng-tns-c2-0\">Preview  -  {masterData.name}</span>\n              </h4></div>\n            </div>\n          </div>\n        </CCardHeader>\n        <CCardBody>\n          <Form form={master} />\n        </CCardBody>\n      </CCard>\n    </div>\n  )\n}\n\nexport default PreviewMaster;\n"],"sourceRoot":""}