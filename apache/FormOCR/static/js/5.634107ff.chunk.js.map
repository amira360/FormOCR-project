{"version":3,"sources":["../node_modules/lodash/filter.js","../node_modules/lodash/isUndefined.js","../node_modules/lodash/_createCtor.js","../node_modules/lodash/_replaceHolders.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/EventDefinitionReference.js","../node_modules/bpmn-js-properties-panel/lib/helper/InputOutputHelper.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Script.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ExtensionElements.js","../../node_modules/hat/index.js","../../index.js","../node_modules/bpmn-js-properties-panel/lib/helper/AsyncCapableHelper.js","../node_modules/lodash/_LazyWrapper.js","../node_modules/lodash/_baseLodash.js","../node_modules/lodash/_getHolder.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/parts/Helper.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/InputOutputParameter.js","../node_modules/lodash/noop.js","../node_modules/lodash/flattenDeep.js","../node_modules/selection-update/index.js","../node_modules/bpmn-js-properties-panel/lib/PropertiesActivator.js","../node_modules/bpmn-js-properties-panel/lib/factory/TextInputEntryFactory.js","../node_modules/bpmn-js-properties-panel/lib/factory/SelectEntryFactory.js","../node_modules/lodash/_baseSetData.js","../node_modules/lodash/_metaMap.js","../node_modules/lodash/_createHybrid.js","../node_modules/lodash/_composeArgs.js","../node_modules/lodash/_composeArgsRight.js","../node_modules/lodash/_createRecurry.js","../node_modules/lodash/_getData.js","../node_modules/lodash/_LodashWrapper.js","../node_modules/lodash/_setData.js","../node_modules/lodash/_setWrapToString.js","../node_modules/bpmn-js-properties-panel/lib/helper/ParticipantHelper.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/Name.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/TimerEventDefinition.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Callable.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ResultVariable.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/AsyncContinuation.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/JobRetryTimeCycle.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Properties.js","../node_modules/@bpmn-io/extract-process-variables/dist/index.esm.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/FieldInjection.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/InputParameters.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/OutputParameters.js","../node_modules/bpmn-js-properties-panel/lib/index.js","../node_modules/bpmn-js-properties-panel/lib/cmd/index.js","../node_modules/bpmn-js-properties-panel/lib/cmd/UpdateBusinessObjectHandler.js","../node_modules/lodash/transform.js","../node_modules/bpmn-js-properties-panel/lib/cmd/CreateAndReferenceHandler.js","../node_modules/bpmn-js-properties-panel/lib/cmd/CreateBusinessObjectListHandler.js","../node_modules/bpmn-js-properties-panel/lib/cmd/UpdateBusinessObjectListHandler.js","../node_modules/bpmn-js-properties-panel/lib/cmd/MultiCommandHandler.js","../node_modules/bpmn-js-properties-panel/lib/PropertiesPanel.js","../node_modules/lodash/_baseFilter.js","../node_modules/lodash/isEmpty.js","../node_modules/lodash/xor.js","../node_modules/lodash/_baseXor.js","../node_modules/lodash/_baseDifference.js","../node_modules/lodash/_baseUniq.js","../node_modules/lodash/_createSet.js","../node_modules/lodash/debounce.js","../node_modules/lodash/now.js","../node_modules/lodash/keyBy.js","../node_modules/lodash/_createAggregator.js","../node_modules/lodash/_arrayAggregator.js","../node_modules/lodash/_baseAggregator.js","../node_modules/lodash/reduce.js","../node_modules/lodash/_baseReduce.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/index.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/cmd/index.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/cmd/ChangeElementTemplateHandler.js","../node_modules/lodash/_createFind.js","../node_modules/lodash/findIndex.js","../node_modules/lodash/_createAssigner.js","../node_modules/lodash/remove.js","../node_modules/lodash/_basePullAt.js","../node_modules/lodash/_baseUnset.js","../node_modules/lodash/last.js","../node_modules/lodash/_parent.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/CustomElementsPropertiesActivator.js","../node_modules/lodash/isBoolean.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/ElementTemplates.js","../node_modules/lodash/values.js","../node_modules/lodash/_baseValues.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/ElementTemplatesLoader.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/Validator.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/ReplaceBehavior.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/CamundaPropertiesProvider.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/ProcessProps.js","../node_modules/bpmn-js-properties-panel/lib/factory/CheckboxEntryFactory.js","../node_modules/bpmn-js-properties-panel/lib/factory/ComboEntryFactory.js","../node_modules/bpmn-js-properties-panel/lib/factory/TextBoxEntryFactory.js","../node_modules/bpmn-js-properties-panel/lib/factory/ValidationAwareTextInput.js","../node_modules/bpmn-js-properties-panel/lib/factory/TableEntryFactory.js","../node_modules/bpmn-js-properties-panel/lib/factory/LabelFactory.js","../node_modules/bpmn-js-properties-panel/lib/factory/LinkEntryFactory.js","../node_modules/lodash/bind.js","../node_modules/lodash/_createWrap.js","../node_modules/lodash/_createBind.js","../node_modules/lodash/_createCurry.js","../node_modules/lodash/_countHolders.js","../node_modules/lodash/_isLaziable.js","../node_modules/lodash/_getFuncName.js","../node_modules/lodash/_realNames.js","../node_modules/lodash/wrapperLodash.js","../node_modules/lodash/_wrapperClone.js","../node_modules/lodash/_getWrapDetails.js","../node_modules/lodash/_insertWrapDetails.js","../node_modules/lodash/_updateWrapDetails.js","../node_modules/lodash/_reorder.js","../node_modules/lodash/_createPartial.js","../node_modules/lodash/_mergeData.js","../node_modules/bpmn-js-properties-panel/lib/factory/AutoSuggestTextBoxFactory.js","../node_modules/bpmn-js-properties-panel/lib/factory/CollapsibleEntryFactory.js","../node_modules/bpmn-js-properties-panel/lib/factory/ToggleSwitchEntryFactory.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/EventProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/MessageEventDefinition.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/SignalEventDefinition.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/ErrorEventDefinition.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/EscalationEventDefinition.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/CompensateEventDefinition.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/ConditionalEventDefinition.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/LinkProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/DocumentationProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/IdProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/NameProps.js","../node_modules/bpmn-js-properties-panel/lib/helper/CategoryHelper.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/ExecutableProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ServiceTaskDelegateProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ImplementationType.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Delegate.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/External.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/UserTaskProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/CandidateGroups.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/AsynchronousContinuationProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/CallActivityProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/MultiInstanceLoopProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/MultiInstanceLoopCharacteristics.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ConditionalProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ScriptTaskProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ErrorEventProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ErrorEventDefinition.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/FormProps.js","../node_modules/bpmn-js-properties-panel/lib/helper/FormHelper.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/StartEventInitiator.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/VariableMappingProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/VersionTagProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ProcessVariablesProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ProcessVariables.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ListenerProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Listener.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ListenerDetailProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ListenerFieldInjectionProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/parts/DescriptionProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/parts/ChooserProps.js","../node_modules/lodash/isNull.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/parts/CustomProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/parts/InputParametersProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/parts/OutputParametersProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/InputParametersProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/OutputParametersProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ConnectorDetailProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ConnectorInputParametersProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ConnectorOutputParametersProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/PropertiesProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/JobConfigurationProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/JobPriority.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/HistoryTimeToLiveProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/HistoryTimeToLive.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/CandidateStarterProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/CandidateStarter.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/TasklistProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Tasklist.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ExternalTaskConfigurationProps.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ExternalTaskPriority.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/FieldInjectionProps.js","../node_modules/scroll-tabs/index.js","../node_modules/bpmn-js/lib/util/ModelUtil.js","../node_modules/min-dash/dist/index.esm.js","../node_modules/min-dom/dist/index.esm.js","../node_modules/inherits/inherits_browser.js","../node_modules/bpmn-js-properties-panel/lib/helper/CmdHelper.js","../node_modules/bpmn-js-properties-panel/lib/factory/EntryFactory.js","../node_modules/bpmn-js-properties-panel/lib/Utils.js","../node_modules/bpmn-js/lib/features/modeling/util/ModelingUtil.js","../node_modules/bpmn-js-properties-panel/lib/helper/ElementHelper.js","../node_modules/lodash/forEach.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/Helper.js","../node_modules/bpmn-js/lib/util/DiUtil.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/CreateHelper.js","../node_modules/bpmn-js-properties-panel/lib/helper/ExtensionElementsHelper.js","../node_modules/diagram-js/lib/util/Collections.js","../node_modules/lodash/assign.js","../node_modules/bpmn-js-properties-panel/lib/factory/EntryFieldDescription.js","../node_modules/bpmn-js-properties-panel/index.js","../node_modules/bpmn-js-properties-panel/lib/provider/camunda/index.js","../node_modules/bpmn-js-properties-panel/lib/helper/EventDefinitionHelper.js","../node_modules/lodash/find.js","../node_modules/bpmn-js-properties-panel/lib/helper/ImplementationTypeHelper.js","../node_modules/bpmn-js-properties-panel/constants.js","../node_modules/diagram-js/lib/i18n/translate/index.js","../node_modules/diagram-js/lib/i18n/translate/translate.js","../node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/ElementReferenceProperty.js"],"names":["arrayFilter","require","baseFilter","baseIteratee","isArray","module","exports","collection","predicate","value","undefined","baseCreate","isObject","Ctor","args","arguments","length","thisBinding","prototype","result","apply","PLACEHOLDER","array","placeholder","index","resIndex","cmdHelper","domQuery","query","domify","domAttr","attr","forEach","find","elementHelper","utils","escapeHTML","selector","element","definition","bpmnFactory","options","elementName","elementType","referenceProperty","newElementIdPrefix","label","description","entries","push","id","html","get","entryNode","updateOptionsDropDown","reference","selectedElement","set","values","selection","props","updateBusinessObject","commands","eventDefinition","type","elements","findRootElementsByType","findElementById","root","getRoot","createElement","name","addAndRemoveElementsFromList","addElement","inputNode","nextId","optionTemplate","selectBox","parentElement","insertBefore","firstChild","option","ModelUtil","is","getBusinessObject","extensionElementsHelper","implementationTypeHelper","InputOutputHelper","getElements","bo","prop","elems","getExtensionElements","getParameters","insideConnector","inputOutput","getInputOutput","connector","this","getConnector","getServiceTaskLikeBusinessObject","getInputParameters","getOutputParameters","getInputParameter","idx","getOutputParameter","isInputOutputSupported","areOutputParametersSupported","loopCharacteristics","getScriptType","node","idPrefix","selectedType","scriptLanguagePropName","scriptValuePropName","isFormatRequired","translate","template","boScriptResource","boScript","boScriptFormat","scriptResourceValue","scriptType","scriptValue","scriptFormat","containerElement","update","validate","validationResult","clearScriptFormat","btnNode","scopeNode","canClearScriptFormat","clearScriptResource","canClearScriptResource","clearScript","canClearScript","isScriptResource","isScript","domClosest","closest","getSelectBox","currentTab","getSelected","selectedIndex","CREATE_EXTENSION_ELEMENT_ACTION","REMOVE_EXTENSION_ELEMENT_ACTION","prefix","idGeneration","businessObject","modelProperty","createExtensionElement","canCreate","removeElement","removeExtensionElement","canRemove","onSelectionChange","hideElements","hideExtensionElements","canBeHidden","setOptionLabelValue","defaultSize","size","resizable","selectionChanged","event","scope","createOption","initSelectionSize","optionsLength","elem","console","log","extensionElementValue","parentNode","action","__action","extensionElements","createListEntryTemplate","deselect","setControlValue","property","text","properties","generatedId","generateElementId","appendChild","lastChild","selected","removeChild","disableRemove","selectElement","hat","bits","base","digits","Math","pow","i","Infinity","rem","floor","res","random","toString","b","parsed","parseInt","rack","expandBy","fn","data","iters","Error","Object","hasOwnProperty","call","hats","Ids","seed","_seed","next","assigned","map","isAsyncBefore","isAsyncAfter","isExclusive","getFailedJobRetryTimeCycle","removeFailedJobRetryTimeCycle","retryTimeCycles","cycle","removeEntry","baseLodash","LazyWrapper","__wrapped__","__actions__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","constructor","func","isUndefined","isAny","ELEMENT_TEMPLATE_OPTION_EMPTY","emptyOption","version","toDateString","timestamp","date","Date","year","getFullYear","month","leftPad","String","getMonth","getDate","string","character","getOptions","elementTemplates","defaultTemplate","getDefault","getAll","appliesTo","getOption","optionId","getVersionOrDateFromTemplate","metadata","created","updated","getVariablesForScope","filter","sortBy","entryFactory","scriptImplementation","parent","factory","isList","isMap","getDescription","parameter","typeInfo","getParameter","collapsible","title","cssClasses","open","onRemove","onToggle","isOpen","setOpen","validationAwareTextField","getProperty","setProperty","validation","nameValue","containsSpace","hidden","selectOptions","parameterType","$type","createParameterTypeElem","autoSuggest","show","getItems","$parent","getScope","rootElement","getRootElement","variables","sorted","variable","sortByName","origin","o","canSuggest","word","editorNode","focusNode","globalIndex","children","childNodes","textBefore","child","contains","innerText","wholeText","findWordInContentEditable","openIndex","indexOf","closeIndex","isInsideExpression","lastIndexOf","isInsideUnclosedExpression","script","table","modelProperties","labels","addLabel","items","updateElement","item","newValue","addElementsTolist","removeElementsFromList","editable","input","entry","key","newEntry","baseFlatten","range","start","end","currentSelection","currentValue","currentCursor","newCursor","diff","currentTail","substring","insert","l_str","s_str","l_idx","s_idx","charAt","l_start","s_start","complete","l_end","s_end","newStart","newEnd","createDiff","PropertiesActivator","eventBus","priority","self","on","context","group","tab","isEntryVisible","propertyName","isPropertyEditable","$inject","entryFieldDescription","defaultParameters","resource","dataValueLabel","buttonLabel","actionName","buttonAction","actionMethod","method","showName","buttonShow","showMethod","canBeDisabled","disabled","isDisabled","isHidden","emptyParameter","concat","select","list","showCustomInput","inputName","identity","metaMap","baseSetData","WeakMap","composeArgs","composeArgsRight","countHolders","createCtor","createRecurry","getHolder","reorder","replaceHolders","createHybrid","bitmask","thisArg","partials","holders","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isCurried","isFlip","wrapper","Array","holdersCount","newHolders","reverse","nativeMax","max","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","holdersIndex","rightIndex","rightLength","offset","isLaziable","setData","setWrapToString","wrapFunc","isCurry","newData","noop","getData","LodashWrapper","chainAll","__chain__","__index__","__values__","shortOut","getWrapDetails","insertWrapDetails","setToString","updateWrapDetails","source","ParticipantHelper","modifyProcessBusinessObject","getProcessBusinessObject","textBox","getTimerDefinitionType","timer","getTimerDefinition","timerOrFunction","timerEventDefinition","createTimerEventDefinition","timerDefinitionType","timeDuration","timeDate","timeCycle","timerDefinition","newType","oldType","body","createFormalExpression","textField","resultVariable","attributeInfo","bpmn","binding","versionTag","tenantId","cmmn","dmn","mapDecisionResultOptions","delegateVariableMappingOptions","getCamundaInWithBusinessKey","camundaIn","camundaInParams","param","businessKey","setBusinessKey","camundaInWithBusinessKey","updateProperties","isSupportedCallableType","bindingOptions","getCallableType","getAttribute","getCallActivityBindingValue","getDelegateVariableMappingType","boVariableMappingClass","boVariableMappingDelegateExpression","delegateVariableMappingType","callableElementRef","callableElementLabel","newCallableElementRef","elementRef","bindingOption","callableBinding","attrVer","attrVerTag","callableVersion","checkbox","callableBusinessKey","camundaInExtensions","deleteBusinessKey","getImplementationType","hideResultVariable","mapDecisionResult","delegateVariableMapping","delegateVariableMappingLabel","assign","resultVariableEntry","asyncCapableHelper","eventDefinitionHelper","canRemoveFailedJobRetryTimeCycle","getTimerEventDefinition","labelPrefix","asyncBefore","asyncAfter","exclusive","retryTimeCycle","newCycle","createExtensionElements","createFailedJobRetryTimeCycle","getPropertyValues","getPropertiesElement","isExtensionElements","getParent","createParent","cmd","propertyProps","validationError","isIdValid","propertyValues","currentProperty","getFormFields","formData","getFormData","extensionValues","$instanceOf","getParents","parents","current","eachElement","depth","s","add","e","unique","canAdd","selfAndFlowElements","maxDepth","processedFlowElements","flowElements","selfAndAllFlowElements","allowDuplicates","addVariableToList","variablesList","newVariable","a","foundIdx","findIndex","createProcessVariable","flowElement","defaultScope","globalScope","variableName","scopedParent","is$1","hasInputParameter","extractors","processVariables","outputParameters","getResultVariable","formFields","field","outMappings","getOutMappings","mapping","local","target","getProcessVariables","extractor","allVariables","scopeElement","elementId","allElements","getElement","scopeVariables","parentsScopeVariables","extensionElementsEntry","DEFAULT_PROPS","CAMUNDA_FIELD_EXTENSION_ELEMENT","insideListener","getSelectedListener","isSelected","getSelectedField","fieldEntry","getCamundaFields","selectedListener","fields","getCamundaListenerFields","getFieldType","fieldType","expressionValue","expression","stringValue","newFieldElem","selectedField","fieldName","fieldTypeOptions","fieldValue","inputOutputHelper","InputOutputParameter","createInputOutput","createParameter","parametersOptions","inputParameters","newElem","scheduleCommands","_commands","_","getParametersHeading","params","arrays","currentEntryId","dataset","inputParameter","getInputParameterEntries","outputParameter","getOutputParameterEntries","__depends__","default","__init__","propertiesPanel","HANDLERS","CommandInitializer","commandStack","handler","registerHandler","reduce","keys","UpdateBusinessObjectHandler","elementRegistry","_elementRegistry","setProperties","execute","rootElements","referenceType","changed","oldProperties","propertyNames","getProperties","revert","arrayEach","baseForOwn","getPrototype","isBuffer","isFunction","isTypedArray","object","iteratee","accumulator","isArr","isArrLike","CreateAndReferenceElementHandler","_bpmnFactory","ensureNotNull","referencingObject","newObject","newObjectContainer","newObjectParent","referencedObject","previousReference","splice","CreateBusinessObjectListHandler","currentObject","newObjects","ensureList","childObjects","obj","childObject","previousChilds","UpdateBusinessObjectListHandler","referencePropertyName","updatedObjectList","objectsToRemove","objectsToAdd","objectsToPrepend","objectList","previousList","listCopy","slice","parentObject","MultiCommandHandler","_commandStack","preExecute","command","createDropdown","domQueryAll","queryAll","domRemove","remove","domClasses","classes","domDelegate","delegate","domMatches","matches","isEmpty","xor","debounce","flattenDeep","keyBy","updateSelection","scrollTabs","HIDE_CLASS","isToggle","isContentEditable","getFormControls","all","controls","getFormControlValuesInScope","controlNodes","controlNode","checked","getFormControlValues","listContainer","listNodes","listNode","valueEqual","oldValue","every","extractEntries","tabs","PropertiesPanel","config","modeling","propertiesProvider","canvas","_eventBus","_modeling","_canvas","_propertiesProvider","_init","isImplicitRoot","newElement","newSelection","tabBarNode","_container","scroller","selectors","tabsContainer","ignore","active","newActiveNode","oldActiveNode","direction","linkNode","tabId","activateTab","_current","detach","_bindListeners","attachTo","jquery","container","_emit","panel","tabLinks","tabLink","visibleTabs","has","activeTab","visibleTabLinks","activeTabLink","activeTabId","activeTabNode","getTabs","_entriesChanged","_create","_updateActivation","prevEntries","prevEntryIds","entryIds","fire","handleChange","entryId","delegateTarget","getEntry","onChangeAction","executeAction","applyChanges","updateState","bind","clipboardData","window","document","execCommand","preventDefault","keyCode","stopPropagation","actionId","eventHandlerId","updateShow","updateDisable","showNodes","showNode","expr","nodes","currentNode","shouldDisable","oldValues","v","valuesEqual","commandToExecute","applyValidationErrors","validationErrors","valid","error","errorMessageNode","nextSibling","textContent","listEntryNodes","listValue","validateListItem","listEntryNode","containerNode","panelNode","_createPanel","groups","extractGroups","_bindTemplate","inputNodes","placeholders","getPropertyPlaceholders","nodeValue","setToggleValue","isSelect","setSelectValue","contentEditable","activeElement","getSelection","focusOffset","anchorOffset","min","getContentEditableSelection","selectionStart","selectionEnd","domRange","domSelection","createRange","setStart","setEnd","removeAllRanges","addRange","setContentEditableSelection","setSelection","setInputValue","setTextValue","toggleVisible","visible","toggle","updateLabel","labelNode","tabNode","tabLinkNode","tabVisible","groupVisible","groupNode","entryVisible","listEntryContainer","existingElements","listItemNode","entriesToRemove","j","enabled","isGroupVisible","isTabVisible","headerNode","tabLinksNode","tabContainerNode","tabIndex","dropdown","querySelector","addEventListener","evt","defaultPrevented","cssClass","baseEach","baseKeys","getTag","isArguments","isArrayLike","isPrototype","tag","baseRest","baseXor","isArrayLikeObject","baseDifference","baseUniq","comparator","othIndex","SetCache","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","includes","isCommon","valuesLength","outer","computed","valuesIndex","createSet","setToArray","seen","seenIndex","Set","now","toNumber","nativeMin","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","clearTimeout","cancel","flush","baseAssignValue","createAggregator","arrayAggregator","baseAggregator","setter","initializer","arrayReduce","baseReduce","initAccum","eachFunc","customElementsPropertiesActivator","elementTemplatesLoader","replaceBehavior","ChangeElementTemplateHandler","registerHandlers","applyDefaultTemplate","shape","connection","commandContext","newTemplate","findExtension","findExtensions","createCamundaExecutionListenerScript","createCamundaFieldInjection","createCamundaIn","createCamundaInWithBusinessKey","createCamundaOut","createCamundaProperty","createInputParameter","createOutputParameter","EventDefinitionHelper","isString","CAMUNDA_SERVICE_TASK_LIKE","findOldBusinessObject","oldProperty","oldBinding","oldBindingType","oldBusinessObject","sourceExpression","findOldProperty","oldTemplate","newProperty","newBinding","newBindingName","newBindingType","oldBindingName","propertyChanged","oldPropertyValue","_updateCamundaModelerTemplate","_updateProperties","_updateCamundaExecutionListenerProperties","_updateCamundaFieldProperties","_updateCamundaInOutProperties","_updateCamundaInputOutputParameterProperties","_updateCamundaPropertyProperties","scopes","newScopeTemplate","scopeName","_updateScopeProperties","_getOrCreateExtensionElements","create","newProperties","oldExecutionListeners","newExecutionListeners","propertyValue","oldFields","oldField","getSignalEventDefinition","oldInsAndOuts","newInOrOut","oldInOurOut","newPropertyValue","oldInputs","oldOutputs","newInputOrOutput","oldInputOrOutput","camundaProperties","oldCamundaProperties","oldCamundaProperty","_updateConditionExpression","conditionExpression","language","camundaServiceTaskLikeProperty","findOldScopeElement","oldScopeTemplate","findOldScopeTemplate","findIndexFunc","fromIndex","iterable","baseFindIndex","toInteger","isIterateeCall","assigner","sources","customizer","guard","basePullAt","indexes","baseUnset","isIndex","lastIndex","previous","castPath","last","toKey","path","baseGet","baseSlice","inherits","getTemplateId","isBoolean","CustomElementsPropertiesActivator","entriesVisible","DEFAULT_ENTRIES_VISIBLE","defaultVisible","_all","CUSTOM_PROPERTIES_PATTERN","test","isCustomEntry","replace","split","isNaN","isEntryEditable","baseGetTag","isObjectLike","flatten","getTemplateVersion","ElementTemplates","_templates","templates","isDefault","baseValues","Validator","ElementTemplatesLoader","loadTemplates","_loadTemplates","_elementTemplates","reload","err","templateErrors","setTemplates","validator","addAll","errors","getErrors","validTemplates","getValidTemplates","templatesChanged","DROPDOWN_TYPE","VALID_TYPES","PROPERTY_TYPE","CAMUNDA_PROPERTY_TYPE","CAMUNDA_INPUT_PARAMETER_TYPE","CAMUNDA_OUTPUT_PARAMETER_TYPE","CAMUNDA_IN_TYPE","CAMUNDA_OUT_TYPE","CAMUNDA_EXECUTION_LISTENER","CAMUNDA_FIELD","VALID_BINDING_TYPES","isDropdownChoiceValid","c","_templatesById","_validTemplates","_errors","_logError","_validateTemplate","_validateProperties","_validateScopes","validProperties","_validateProperty","bindingType","join","choices","ReplaceBehavior","elementTemplate","allowed","ImplementationTypeHelper","processProps","eventProps","linkProps","documentationProps","idProps","nameProps","serviceTaskDelegateProps","userTaskProps","asynchronousContinuationProps","callActivityProps","multiInstanceProps","conditionalProps","scriptProps","errorProps","formProps","startEventInitiator","elementTemplateDescriptionProps","elementTemplateChooserProps","elementTemplateCustomProps","elementTemplateInputParametersProps","elementTemplateOutputParametersProps","jobConfiguration","historyTimeToLive","candidateStarter","tasklist","externalTaskConfiguration","isExternalTaskPriorityEnabled","externalBo","isExternalTask","isExternalCapable","isJobConfigEnabled","PROCESS_KEY_HINT","getIdOptions","getProcessOptions","processIdDescription","createGeneralTabGroups","labelTarget","generalGroup","getNameOptions","detailsGroup","multiInstanceGroup","asyncGroup","jobConfigurationGroup","externalTaskGroup","candidateStarterGroup","historyTimeToLiveGroup","tasklistGroup","documentationGroup","createFormsTabGroups","detailGroup","CamundaPropertiesProvider","generalTab","descriptionGroup","idOptions","elementTemplateInputParametersGroup","elementTemplateOutputParametersGroup","customFieldsGroups","createElementTemplateGroups","participantHelper","nameEntryFactory","idEntry","processId","idValue","processIdError","processRef","processNameEntry","selectEntryFactory","customValue","customName","comboOptions","modifiedValues","isCustomValue","comboBoxEntry","fragment","createDocumentFragment","canBeShown","isShown","__lastInvalidValue","TABLE_ROW_DIV_SNIPPET","createInputRowTemplate","columns","createInputTemplate","createLabelRowTemplate","createLabelTemplate","n","getEntryNode","getContainer","labelRow","canUpdate","pick","boElements","__invalidValues","invalidValues","valuesToValidate","deleteElement","rowToDelete","rowNode","showTable","isReadOnly","divider","labelText","showLabel","showLink","handleClick","createWrap","createBind","createCurry","createPartial","mergeData","getFuncName","lodash","funcName","other","realNames","otherFunc","wrapperClone","copyArray","clone","reWrapDetails","reSplitDetails","match","reWrapComment","details","wrapFlags","pair","sort","arrLength","oldArray","WRAP_ARY_FLAG","srcBitmask","newBitmask","isCombo","CLASS_ACTIVE","TEXT_NODE_NAME","getSelectionRange","getRangeAt","hideSuggestionList","clearSuggestionList","getSuggestionListPosition","cursorBounds","getBoundingClientRect","clientBounds","listBounds","coordinates","x","right","width","y","top","height","orientation","left","position","handleFocusLeave","suggestItems","caretPosition","startOffset","getCaretPosition","handleItemClick","wordIndex","currentWord","selectRange","currentCursorPositon","allWords","regex","regexp","RegExp","exec","matchAll","findWords","nodeName","matchValue","wordStart","wordEnd","getWordUnderCursor","results","itemLowerCase","toLowerCase","valueLowerCase","itemNode","createSuggestionItem","el","style","updateSuggestionList","collapsibleEntry","classList","isOn","descriptionOn","descriptionOff","labelOn","labelOff","shouldShow","isOff","message","signal","escalation","compensation","condition","messageEventDefinition","getMessageEventDefinition","signalEventDefinition","errorEventDefinition","getErrorEventDefinition","showEscalationCodeVariable","escalationEventDefinition","getEscalationEventDefinition","compensateEventDefinition","getCompensateEventDefinition","conditionalEventDefinition","getConditionalEventDefinition","eventDefinitionReference","elementReferenceProperty","shouldValidate","escalationCodeVariable","getFlowElements","filterElementsByType","canActivityBeCompensated","activity","boundaryEvents","triggeredByEvent","activityId","boundaryEvent","attachedToRef","isCompensationEventAttachedToActivity","getActivitiesForCompensation","getContainedBoundaryEvents","getContainedActivities","createActivityRefOptions","activities","activitiesForActivityRef","getActivitiesForActivityRef","waitForCompletion","activityRef","isEventSubProcess","getValue","modelPropertyValue","setValue","linkEventDefinition","eventDefinitions","getLinkEventDefinition","documentations","documentation","newObjectList","setList","elementDocuEntry","processDocuEntry","idError","createCategoryValue","nameOptions","categoryValue","categoryValueRef","semantic","definitions","initializeCategory","newLabel","collectionAdd","CategoryHelper","category","executableEntry","$","notification","triggerClickEvent","MAIL_NOTIFICATION_SERVICE","isServiceTaskLike","isDmnCapable","notificationListSelectEntry","arrValues","ajax","url","JSON","parse","localStorage","getItem","domainId","headers","domainName","success","notificationId","async","selectNotification","notification_data","notification_msg","notificationTo","notificationSubject","newFieldElem1","notificationCc","newFieldElem2","newFieldElem3","notificationBcc","newFieldElem4","roles","notificationRoles","role","roleName","newFieldElem5","notificationFrom","newFieldElem6","DEFAULT_DELEGATE_PROPS","DELEGATE_PROPS","DMN_CAPABLE_PROPS","EXTERNAL_CAPABLE_PROPS","DEFAULT_OPTIONS","DMN_OPTION","EXTERNAL_OPTION","CONNECTOR_OPTION","SCRIPT_OPTION","getType","hasDmnSupport","hasExternalSupport","hasServiceTaskLikeSupport","hasScriptSupport","implType","connectors","getDelegationLabel","isExternal","externalTopic","USER_SERVICE","PROCESS_SERVICE","FORM_SERVICE","candidateGroups","selectedRole","roleListSelectEntry","selectRole","setItem","RoleFieldsEntry","array_data","assignee","processListSelectEntry","formCodes","stringify","executeProcess","processDefinitionKey","string_data","candidateGroupValue","go","candidateGroup_data","asyncContinuation","callable","boCalledElement","boCaseRef","callActivityType","calledElement","multiInstanceLoopCharacteristics","jobRetryTimeCycle","getLoopCharacteristics","ensureMultiInstanceSupported","getBody","getLoopCardinalityValue","getLoopCardinality","getCompletionConditionValue","getCompletionCondition","getCollection","getElementVariable","updateFormalExpression","expressionProps","existingExpression","isValid","loopCardinality","elementVariable","completionCondition","CONDITIONAL_SOURCES","isConditionalSource","conditionType","conditionProps","conditionOrConditionExpression","isExpression","clear","canClear","SCRIPT_SERVICE","scriptListSelectEntry","script_code","selectScript","isCatchingErrorEvent","showErrorCodeVariable","showErrorMessageVariable","formCode","formHelper","selectedForm","ensureFormKeyAndDataSupported","formListSelectEntry","code","selectForm","isEditableEntry","formFieldsEntry","newConstraint","constraints","getConstraints","form_ids","FormHelper","getFormField","formField","getEnumValues","getVariableMappings","camundaMappings","getCamundaInOutMappings","getInOutType","inOutType","CAMUNDA_IN_EXTENSION_ELEMENT","CAMUNDA_OUT_EXTENSION_ELEMENT","WHITESPACE_REGEX","inOutTypeOptions","inEntry","outEntry","mappingValue","mappingType","sourceLabel","selectedMapping","versionTagEntry","processBo","canHaveOverview","processVariablesEntries","groupBy","createVariablesList","scopePrefix","variableEntries","createdInHtml","createdInList","canHaveProcessVariables","withNames","names","populateElementNames","byScope","groupByScope","listener","listenerEntry","getListeners","CAMUNDA_EXECUTION_LISTENER_ELEMENT","CAMUNDA_TASK_LISTENER_ELEMENT","LISTENER_TYPE_LABEL","class","delegateExpression","executionListenerEntry","taskListenerEntry","isSequenceFlow","listenerType","initialEvent","timerImplementation","isTimeoutTaskListener","classProp","expressionProp","delegateExpressionProp","scriptProp","executionListenerEventTypeOptions","taskListenerEventTypeOptions","eventType","eventTypeOptions","isTaskListener","isExecutionListener","listenerId","listenerValueLabel","listenerValue","timerOptions","fieldInjection","fieldInjectionEntry","domEvent","MAX_DESCRIPTION_LENGTH","createTemplateNotFoundEntry","templateId","createUpdateTemplateEntry","oldElementTemplate","newElementTemplate","newElementTemplateVersion","newestElementTemplate","currentElementTemplate","findNewestElementTemplate","descriptionText","toggleExpanded","expanded","expand","descriptionShortened","createDescriptionEntry","menu","onClick","eventDefinitionType","getEventDefinitionType","replaceElement","isNull","elementTemplateOption","applyTemplate","findInputParameter","findOutputParameter","findCamundaProperty","findCamundaInOut","CAMUNDA_IN_BUSINESS_KEY_TYPE","CAMUNDA_EXECUTION_LISTENER_TYPE","BASIC_MODDLE_TYPES","EXTENSION_BINDING_TYPES","IO_BINDING_TYPES","IN_OUT_BINDING_TYPES","propertySetter","setPropertyValue","propertyValidator","notEmpty","str","maxLength","minLength","pattern","matchesPattern","validateValue","objectWithKey","getPropertyValue","camundaProperty","ioParameter","ioElement","bindingName","unknownPropertyBinding","existingCamundaProperty","newCamundaProperty","existingIoParameter","newIoParameter","existingInOut","newInOut","updates","moddleType","$descriptor","propertiesByName","existingFieldInjections","newFieldInjections","warn","propertyWithScope","renderCustomField","p","propertyType","entryOptions","getDefaultType","customFieldsGroup","idScopeName","customScopeFieldsGroup","propertyId","scopedProperty","EMPTY_PARAMETER","findEntry","inputEntries","renderInputParameter","templateProperty","parameterEntries","assignmentIsOn","nameIdx","defaultGet","toggleSwitch","isActive","createNewInputParameter","removeInputParameter","outputEntries","renderOutputParameter","createNewOutputParameter","removeOutputParameter","inputParametersEntry","outputParametersEntry","isConnector","connectorId","propertiesEntry","jobPriority","candidateStarterGroups","candidateStarterUsers","isStartableInTasklist","externalTaskPriority","taskPriority","scrollSymbolLeft","scrollSymbolRight","ScrollTabs","$el","createEmitter","_createScrollButtons","_bindEvents","__scrollTabs","_createButton","className","button","getActiveTabNode","getTabsContainerNode","getAllTabNodes","getVisibleTabs","allTabs","getAdjacentTab","referenceTabNode","_bindWheelEvent","_bindTabClickEvents","_bindScrollButtonEvents","scrollToTabNode","sign","deltaY","oldActiveTab","newActiveTab","emit","oldActiveTabNode","newActiveTabNode","tabsContainerNode","tabWidth","offsetWidth","tabOffsetLeft","offsetLeft","tabOffsetRight","containerWidth","scrollLeft","overflow","scrollWidth","arr","nativeToString","nativeHasOwnProperty","isDefined","isNil","isNumber","ensureArray","matcher","toMatcher","val","iterator","convertKey","toNum","without","some","grouped","toExtractor","discriminator","uniqueBy","_len","collections","_key","unionBy","disc","d","matchPattern","arg","Number","timeout","lastNow","scheduledDiff","schedule","throttle","interval","throttling","_extends","others","omit","merge","_len2","_key2","sourceVal","targetVal","removeAttribute","setAttribute","indexof","re","ClassList","nodeType","removeMatching","force","shift","proto","Element","vendor","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","querySelectorAll","checkYourSelf","currentElem","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","unbind","removeEventListener","componentEvent","capture","forceCaptureEvents","bugTestDiv","srcElement","doc","m","createTextNode","innerHTML","wrap","_default","suffix","innerHTMLBug","getElementsByTagName","legend","tr","col","td","th","optgroup","thead","tbody","colgroup","caption","tfoot","polyline","ellipse","polygon","circle","line","rect","g","ctor","superCtor","super_","enumerable","writable","configurable","TempCtor","CmdHelper","listPropertyName","textInputField","checkboxField","selectBoxField","comboBoxField","textBoxField","validationAwareTextInputField","tableField","labelEntry","link","autoSuggestTextBoxField","setDefaultParameters","EntryFactory","comboBox","domClear","SPACE_REGEX","QNAME_REGEX","ID_REGEX","HTML_ESCAPE_MAP","'","selectedOption","referencedType","addEmptyParameter","refreshOptionsModel","model","referableObjects","validateId","elementSyntax","removeAllChildren","domElement","domSelector","optionEntry","$model","ids","nextPrefixed","createEvent","MouseEvent","view","bubbles","cancelable","initEvent","dispatchEvent","createEventObject","fireEvent","_onGlobalClick","dropdownNode","buttonNode","menuNode","_event","onGlobalClick","createOnGlobalClick","menuItem","menuItemNode","types","t","anyType","ElementHelper","castFunction","TEMPLATE_ID_ATTR","TEMPLATE_VERSION_ATTR","isInOut","parameters","isExpanded","di","isInterrupting","hasEventDefinition","hasErrorEventDefinition","hasEscalationEventDefinition","hasCompensateEventDefinition","createCamundaInOutAttrs","k","parameterValue","parameterDefinition","ExtensionElementsHelper","addEntry","currentIdx","assignValue","copyObject","createAssigner","escapeText","escaped","encodeURI","getEventDefinition","createFind","extensionsElementHelper","isListener","replacements"],"mappings":"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","file":"static/js/5.634107ff.chunk.js","sourcesContent":["var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nmodule.exports = replaceHolders;\n","'use strict';\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nvar domQuery = require('min-dom').query,\n    domify = require('min-dom').domify,\n    domAttr = require('min-dom').attr;\n\nvar forEach = require('lodash/forEach'),\n    find = require('lodash/find');\n\nvar elementHelper = require('../../../../helper/ElementHelper');\nvar utils = require('../../../../Utils'),\n    escapeHTML = utils.escapeHTML;\n\nvar selector = 'select[name=selectedElement]';\n\n/**\n * Get select box containing all elements.\n *\n * @param {DOMElement} node\n *\n * @return {DOMElement} the select box\n */\nfunction getSelectBox(node) {\n  return domQuery(selector, node.parentElement);\n}\n\n/**\n * Find element by given id.\n *\n * @param {ModdleElement} eventDefinition\n *\n * @return {ModdleElement} an element\n */\nfunction findElementById(eventDefinition, type, id) {\n  var elements = utils.findRootElementsByType(eventDefinition, type);\n  return find(elements, function(element) {\n    return element.id === id;\n  });\n}\n\n/**\n * Create an entry to modify the reference to an element from an\n * event definition.\n *\n * @param  {djs.model.Base} element\n * @param  {ModdleElement} definition\n * @param  {BpmnFactory} bpmnFactory\n * @param  {Object} options\n * @param  {string} options.label the label of the entry\n * @param  {string} options.description the description of the entry\n * @param  {string} options.elementName the name of the element\n * @param  {string} options.elementType the type of the element\n * @param  {string} options.referenceProperty the name of referencing property\n * @param  {string} options.newElementIdPrefix the prefix of a new created element\n *\n * @return {Array<Object>} return an array containing the entries\n */\nmodule.exports = function(element, definition, bpmnFactory, options) {\n\n  var elementName = options.elementName || '',\n      elementType = options.elementType,\n      referenceProperty = options.referenceProperty;\n\n  var newElementIdPrefix = options.newElementIdPrefix || 'elem_';\n\n  var label = options.label || '',\n      description = options.description || '';\n\n  var entries = [];\n\n  entries.push({\n\n    id: 'event-definitions-' + elementName,\n    description: description,\n    html: '<div class=\"bpp-row bpp-select\">' +\n             '<label for=\"camunda-' + escapeHTML(elementName) + '\">' + escapeHTML(label) + '</label>' +\n             '<div class=\"bpp-field-wrapper\">' +\n               '<select id=\"camunda-' + escapeHTML(elementName) + '\" name=\"selectedElement\" data-value>' +\n               '</select>' +\n               '<button class=\"action-button add\" id=\"addElement\" data-action=\"addElement\"><span>+</span></button>' +\n             '</div>' +\n          '</div>',\n\n    get: function(element, entryNode) {\n      utils.updateOptionsDropDown(selector, definition, elementType, entryNode);\n      var reference = definition.get(referenceProperty);\n      return {\n        selectedElement: (reference && reference.id) || ''\n      };\n    },\n\n    set: function(element, values) {\n      var selection = values.selectedElement;\n\n      var props = {};\n\n      if (!selection || typeof selection === 'undefined') {\n\n        // remove reference to element\n        props[referenceProperty] = undefined;\n        return cmdHelper.updateBusinessObject(element, definition, props);\n      }\n\n      var commands = [];\n\n      var selectedElement = findElementById(definition, elementType, selection);\n      if (!selectedElement) {\n        var root = utils.getRoot(definition);\n\n        // create a new element\n        selectedElement = elementHelper.createElement(elementType, { name: selection }, root, bpmnFactory);\n        commands.push(cmdHelper.addAndRemoveElementsFromList(element, root, 'rootElements', null, [ selectedElement ]));\n      }\n\n      // update reference to element\n      props[referenceProperty] = selectedElement;\n      commands.push(cmdHelper.updateBusinessObject(element, definition, props));\n\n      return commands;\n    },\n\n    addElement: function(element, inputNode) {\n\n      // note: this generated id will be used as name\n      // of the element and not as id\n      var id = utils.nextId(newElementIdPrefix);\n\n      var optionTemplate = domify('<option value=\"' + escapeHTML(id) + '\"> (id='+escapeHTML(id)+')' + '</option>');\n\n      // add new option\n      var selectBox = getSelectBox(inputNode);\n      selectBox.insertBefore(optionTemplate, selectBox.firstChild);\n\n      // select new element in the select box\n      forEach(selectBox, function(option) {\n        if (option.value === id) {\n          domAttr(option, 'selected', 'selected');\n        } else {\n          domAttr(option, 'selected', null);\n        }\n      });\n\n      return true;\n    }\n\n  });\n\n  return entries;\n\n};\n","'use strict';\n\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\n    is = ModelUtil.is,\n    getBusinessObject = ModelUtil.getBusinessObject;\n\nvar extensionElementsHelper = require('./ExtensionElementsHelper'),\n    implementationTypeHelper = require('./ImplementationTypeHelper');\n\nvar InputOutputHelper = {};\n\nmodule.exports = InputOutputHelper;\n\nfunction getElements(bo, type, prop) {\n  var elems = extensionElementsHelper.getExtensionElements(bo, type) || [];\n  return !prop ? elems : (elems[0] || {})[prop] || [];\n}\n\nfunction getParameters(element, prop, insideConnector) {\n  var inputOutput = InputOutputHelper.getInputOutput(element, insideConnector);\n  return (inputOutput && inputOutput.get(prop)) || [];\n}\n\n/**\n * Get a inputOutput from the business object\n *\n * @param {djs.model.Base} element\n * @param  {boolean} insideConnector\n *\n * @return {ModdleElement} the inputOutput object\n */\nInputOutputHelper.getInputOutput = function(element, insideConnector) {\n  if (!insideConnector) {\n    var bo = getBusinessObject(element);\n    return (getElements(bo, 'camunda:InputOutput') || [])[0];\n  }\n  var connector = this.getConnector(element);\n  return connector && connector.get('inputOutput');\n};\n\n/**\n * Get a connector from the business object\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement} the connector object\n */\nInputOutputHelper.getConnector = function(element) {\n  var bo = implementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n  return bo && (getElements(bo, 'camunda:Connector') || [])[0];\n};\n\n/**\n * Return all input parameters existing in the business object, and\n * an empty array if none exist.\n *\n * @param  {djs.model.Base} element\n * @param  {boolean} insideConnector\n *\n * @return {Array} a list of input parameter objects\n */\nInputOutputHelper.getInputParameters = function(element, insideConnector) {\n  return getParameters.apply(this, [ element, 'inputParameters', insideConnector ]);\n};\n\n/**\n * Return all output parameters existing in the business object, and\n * an empty array if none exist.\n *\n * @param  {djs.model.Base} element\n * @param  {boolean} insideConnector\n *\n * @return {Array} a list of output parameter objects\n */\nInputOutputHelper.getOutputParameters = function(element, insideConnector) {\n  return getParameters.apply(this, [ element, 'outputParameters', insideConnector ]);\n};\n\n/**\n * Get a input parameter from the business object at given index\n *\n * @param {djs.model.Base} element\n * @param  {boolean} insideConnector\n * @param {number} idx\n *\n * @return {ModdleElement} input parameter\n */\nInputOutputHelper.getInputParameter = function(element, insideConnector, idx) {\n  return this.getInputParameters(element, insideConnector)[idx];\n};\n\n/**\n * Get a output parameter from the business object at given index\n *\n * @param {djs.model.Base} element\n * @param  {boolean} insideConnector\n * @param {number} idx\n *\n * @return {ModdleElement} output parameter\n */\nInputOutputHelper.getOutputParameter = function(element, insideConnector, idx) {\n  return this.getOutputParameters(element, insideConnector)[idx];\n};\n\n/**\n * Returns 'true' if the given element supports inputOutput\n *\n * @param {djs.model.Base} element\n * @param  {boolean} insideConnector\n *\n * @return {boolean} a boolean value\n */\nInputOutputHelper.isInputOutputSupported = function(element, insideConnector) {\n\n  if (insideConnector) {\n    return true;\n  }\n\n  var bo = getBusinessObject(element);\n\n  return (\n    is(bo, 'bpmn:FlowNode') && !(\n      is(bo, 'bpmn:StartEvent') ||\n      is(bo, 'bpmn:Gateway') ||\n      is(bo, 'bpmn:BoundaryEvent') ||\n      (\n        is(bo, 'bpmn:SubProcess') && bo.get('triggeredByEvent')\n      )\n    )\n  );\n};\n\n/**\n * Returns 'true' if the given element supports output parameters\n *\n * @param {djs.model.Base} element\n * @param  {boolean} insideConnector\n *\n * @return {boolean} a boolean value\n */\nInputOutputHelper.areOutputParametersSupported = function(element, insideConnector) {\n  var bo = getBusinessObject(element);\n  return insideConnector || (!is(bo, 'bpmn:EndEvent') && !bo.loopCharacteristics);\n};\n","'use strict';\n\nvar domQuery = require('min-dom').query,\n    escapeHTML = require('../../../../Utils').escapeHTML,\n    utils = require('../../../../Utils');\n\n\nfunction getScriptType(node, idPrefix) {\n\n  // if we have an idPrefix, work with specific selector\n  var selector;\n\n  if (idPrefix && idPrefix != '') {\n    selector = 'select[id=\"' + idPrefix + 'cam-script-type\"]';\n  } else {\n    selector = 'select[name=\"scriptType\"]';\n  }\n\n  return utils.selectedType(selector, node.parentElement);\n}\n\n\nmodule.exports = function(scriptLanguagePropName, scriptValuePropName, isFormatRequired, translate, options) {\n  var idPrefix = options && options.idPrefix || '';\n\n  return {\n    template:\n    '<div class=\"bpp-row bpp-textfield\">' +\n      '<label for=\"' + idPrefix + 'cam-script-format\">' + escapeHTML(translate('Script Format')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\">' +\n        '<input id=\"' + idPrefix + 'cam-script-format\" type=\"text\" name=\"scriptFormat\" />' +\n        '<button class=\"action-button clear\" data-action=\"script.clearScriptFormat\" data-show=\"script.canClearScriptFormat\">' +\n          '<span>X</span>' +\n        '</button>' +\n      '</div>' +\n    '</div>' +\n\n    '<div class=\"bpp-row\">' +\n      '<label for=\"' + idPrefix + 'cam-script-type\">' + escapeHTML(translate('Script Type')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\">' +\n        '<select id=\"' + idPrefix + 'cam-script-type\" name=\"scriptType\" data-value>' +\n          '<option value=\"script\" selected>' + escapeHTML(translate('Inline Script')) + '</option>' +\n          '<option value=\"scriptResource\">' + escapeHTML(translate('External Resource')) + '</option>' +\n        '</select>' +\n      '</div>' +\n    '</div>' +\n\n    '<div class=\"bpp-row bpp-textfield\">' +\n      '<label for=\"' + idPrefix + 'cam-script-resource-val\" data-show=\"script.isScriptResource\">' + escapeHTML(translate('Resource')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\" data-show=\"script.isScriptResource\">' +\n        '<input id=\"' + idPrefix + 'cam-script-resource-val\" type=\"text\" name=\"scriptResourceValue\" />' +\n        '<button class=\"action-button clear\" data-action=\"script.clearScriptResource\" data-show=\"script.canClearScriptResource\">' +\n          '<span>X</span>' +\n        '</button>' +\n      '</div>' +\n    '</div>' +\n\n    '<div class=\"bpp-row\">' +\n      '<label for=\"' + idPrefix + 'cam-script-val\" data-show=\"script.isScript\">' + escapeHTML(translate('Script')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\" data-show=\"script.isScript\">' +\n        '<textarea id=\"' + idPrefix + 'cam-script-val\" type=\"text\" name=\"scriptValue\"></textarea>' +\n      '</div>'+\n    '</div>',\n\n    get: function(element, bo) {\n      var values = {};\n\n      // read values from xml:\n      var boScriptResource = bo.get('camunda:resource'),\n          boScript = bo.get(scriptValuePropName),\n          boScriptFormat = bo.get(scriptLanguagePropName);\n\n      if (typeof boScriptResource !== 'undefined') {\n        values.scriptResourceValue = boScriptResource;\n        values.scriptType = 'scriptResource';\n      } else {\n        values.scriptValue = boScript;\n        values.scriptType = 'script';\n      }\n\n      values.scriptFormat = boScriptFormat;\n\n      return values;\n    },\n\n    set: function(element, values, containerElement) {\n      var scriptFormat = values.scriptFormat,\n          scriptType = values.scriptType,\n          scriptResourceValue = values.scriptResourceValue,\n          scriptValue = values.scriptValue;\n\n      // init update\n      var update = {\n        'camunda:resource': undefined\n      };\n      update[scriptValuePropName] = undefined;\n      update[scriptLanguagePropName] = undefined;\n\n      if (isFormatRequired) {\n\n        // always set language\n        update[scriptLanguagePropName] = scriptFormat || '';\n      } else\n\n      // set language only when scriptFormat has a value\n      if (scriptFormat !== '') {\n        update[scriptLanguagePropName] = scriptFormat;\n      }\n\n      // set either inline script or resource\n      if ('scriptResource' === scriptType) {\n        update['camunda:resource'] = scriptResourceValue || '';\n      } else {\n        update[scriptValuePropName] = scriptValue || '';\n      }\n\n      return update;\n    },\n\n    validate: function(element, values) {\n      var validationResult = {};\n\n      if (values.scriptType === 'script' && !values.scriptValue) {\n        validationResult.scriptValue = translate('Must provide a value');\n      }\n\n      if (values.scriptType === 'scriptResource' && !values.scriptResourceValue) {\n        validationResult.scriptResourceValue = translate('Must provide a value');\n      }\n\n      if (isFormatRequired && (!values.scriptFormat || values.scriptFormat.length === 0)) {\n        validationResult.scriptFormat = translate('Must provide a value');\n      }\n\n      return validationResult;\n    },\n\n    clearScriptFormat: function(element, inputNode, btnNode, scopeNode) {\n      domQuery('input[name=scriptFormat]', scopeNode).value='';\n\n      return true;\n    },\n\n    canClearScriptFormat: function(element, inputNode, btnNode, scopeNode) {\n      var input = domQuery('input[name=scriptFormat]', scopeNode);\n\n      return input.value !== '';\n    },\n\n    clearScriptResource: function(element, inputNode, btnNode, scopeNode) {\n      domQuery('input[name=scriptResourceValue]', scopeNode).value='';\n\n      return true;\n    },\n\n    canClearScriptResource: function(element, inputNode, btnNode, scopeNode) {\n      var input = domQuery('input[name=scriptResourceValue]', scopeNode);\n\n      return input.value !== '';\n    },\n\n    clearScript: function(element, inputNode, btnNode, scopeNode) {\n      domQuery('textarea[name=scriptValue]', scopeNode).value='';\n\n      return true;\n    },\n\n    canClearScript: function(element, inputNode, btnNode, scopeNode) {\n      var input = domQuery('textarea[name=scriptValue]', scopeNode);\n\n      return input.value !== '';\n    },\n\n    isScriptResource: function(element, inputNode, btnNode, scopeNode) {\n      var scriptType = getScriptType(scopeNode, idPrefix);\n      return scriptType === 'scriptResource';\n    },\n\n    isScript: function(element, inputNode, btnNode, scopeNode) {\n      var scriptType = getScriptType(scopeNode, idPrefix);\n      return scriptType === 'script';\n    }\n\n  };\n\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar domQuery = require('min-dom').query,\n    domClosest = require('min-dom').closest,\n    domify = require('min-dom').domify,\n    forEach = require('lodash/forEach');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils'),\n    escapeHTML = utils.escapeHTML;\n\nfunction getSelectBox(node, id) {\n  var currentTab = domClosest(node, 'div.bpp-properties-tab');\n  var query = 'select[name=selectedExtensionElement]' + (id ? '[id=cam-extensionElements-' + id + ']' : '');\n  return domQuery(query, currentTab);\n}\n\nfunction getSelected(node, id) {\n  var selectBox = getSelectBox(node, id);\n  return {\n    value: (selectBox || {}).value,\n    idx: (selectBox || {}).selectedIndex\n  };\n}\n\nfunction generateElementId(prefix) {\n  prefix = prefix + '_';\n  return utils.nextId(prefix);\n}\n\nvar CREATE_EXTENSION_ELEMENT_ACTION = 'create-extension-element',\n    REMOVE_EXTENSION_ELEMENT_ACTION = 'remove-extension-element';\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var id = options.id,\n      prefix = options.prefix || 'elem',\n      label = options.label || id,\n      idGeneration = (options.idGeneration === false) ? options.idGeneration : true,\n      businessObject = options.businessObject || getBusinessObject(element);\n\n  var modelProperty = options.modelProperty || 'id';\n\n  var getElements = options.getExtensionElements;\n\n  var createElement = options.createExtensionElement,\n      canCreate = typeof createElement === 'function';\n\n  var removeElement = options.removeExtensionElement,\n      canRemove = typeof removeElement === 'function';\n\n  var onSelectionChange = options.onSelectionChange;\n\n  var hideElements = options.hideExtensionElements,\n      canBeHidden = typeof hideElements === 'function';\n\n  var setOptionLabelValue = options.setOptionLabelValue;\n\n  var defaultSize = options.size || 5,\n      resizable = options.resizable;\n\n  var reference = options.reference || undefined;\n\n  var selectionChanged = function(element, node, event, scope) {\n    if (typeof onSelectionChange === 'function') {\n      return onSelectionChange(element, node, event, scope);\n    }\n  };\n\n  var createOption = function(value) {\n    return '<option value=\"' + escapeHTML(value) + '\" style=\"overflow-x: scroll\" data-value data-name=\"extensionElementValue\">' + escapeHTML(value) + '</option>';\n  };\n\n  var initSelectionSize = function(selectBox, optionsLength) {\n    if (resizable) {\n      selectBox.size = optionsLength > defaultSize ? optionsLength : defaultSize;\n    }\n  };\n\n  return {\n    id: id,\n    html: '<div class=\"bpp-row bpp-element-list\"' +\n            (canBeHidden ? 'data-show=\"hideElements\"' : '') + '>' +\n            '<label for=\"cam-extensionElements-' + escapeHTML(id) + '\">' + escapeHTML(label) + '</label>' +\n            '<div class=\"bpp-field-wrapper\">' +\n              '<select   id=\"cam-extensionElements-' + escapeHTML(id) + '\"' +\n                      'name=\"selectedExtensionElement\" ' +\n                      'size=\"' + escapeHTML(defaultSize) + '\" ' +\n                      'data-list-entry-container ' +\n                      'data-on-change=\"selectElement\">' +\n              '</select>' +\n              (canCreate ? '<button class=\"action-button add\" type=\"button\" ' +\n                                   'id=\"cam-extensionElements-create-' + escapeHTML(id) + '\" ' +\n                                   'data-action=\"createElement\">' +\n                             '<span>+</span>' +\n                           '</button>' : '') +\n              (canRemove ? '<button class=\"action-button clear\" type=\"button\" ' +\n                                   'id=\"cam-extensionElements-remove-' + escapeHTML(id) + '\" ' +\n                                   'data-action=\"removeElement\" ' +\n                                   'data-disable=\"disableRemove\">' +\n                             '<span>-</span>' +\n                           '</button>' : '') +\n            '</div>' +\n          '</div>',\n\n    get: function(element, node) {\n      var elements = getElements(element, node);\n\n      var result = [];\n      forEach(elements, function(elem) {\n      console.log(elem);\n        result.push({\n          extensionElementValue: elem.get(modelProperty)\n        });\n      });\n\n      var selectBox = getSelectBox(node.parentNode, id);\n      initSelectionSize(selectBox, result.length);\n\n      return result;\n    },\n\n    set: function(element, values, node) {\n      var action = this.__action;\n      delete this.__action;\n\n      businessObject = businessObject || getBusinessObject(element);\n\n      var bo =\n        (reference && businessObject.get(reference))\n          ? businessObject.get(reference)\n          : businessObject;\n\n      var extensionElements = bo.get('extensionElements');\n\n      if (action.id === CREATE_EXTENSION_ELEMENT_ACTION) {\n        var commands = [];\n        if (!extensionElements) {\n          extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n          commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n        }\n        commands.push(createElement(element, extensionElements, action.value, node));\n        return commands;\n\n      }\n      else if (action.id === REMOVE_EXTENSION_ELEMENT_ACTION) {\n        return removeElement(element, extensionElements, action.value, action.idx, node);\n      }\n\n    },\n\n    createListEntryTemplate: function(value, index, selectBox) {\n      initSelectionSize(selectBox, selectBox.options.length + 1);\n      return createOption(value.extensionElementValue);\n    },\n\n    deselect: function(element, node) {\n      var selectBox = getSelectBox(node, id);\n      selectBox.selectedIndex = -1;\n    },\n\n    getSelected: function(element, node) {\n      return getSelected(node, id);\n    },\n\n    setControlValue: function(element, node, option, property, value, idx) {\n      node.value = value;\n\n      if (!setOptionLabelValue) {\n        node.text = value;\n      } else {\n        setOptionLabelValue(element, node, option, property, value, idx);\n      }\n    },\n\n    createElement: function(element, node, properties) {\n\nconsole.log(element.businessObject);\n      // create option template\n      var generatedId;\n      if (idGeneration) {\n        generatedId = generateElementId(prefix);\n      }\n\n      var selectBox = getSelectBox(node, id);\n\n      var template = domify(createOption(properties.id));\n\n      // add new empty option as last child element\n      selectBox.appendChild(template);\n\n      // select last child element\n      selectBox.lastChild.selected = 'selected';\n      selectionChanged(element, node);\n\n      // update select box size\n      initSelectionSize(selectBox, selectBox.options.length);\n\n      this.__action = {\n        id: CREATE_EXTENSION_ELEMENT_ACTION,\n        value: generatedId\n      };\n\n      return true;\n    },\n\n    removeElement: function(element, node) {\n      var selection = getSelected(node, id);\n\n      var selectBox = getSelectBox(node, id);\n      selectBox.removeChild(selectBox.options[selection.idx]);\n\n      // update select box size\n      initSelectionSize(selectBox, selectBox.options.length);\n\n      this.__action = {\n        id: REMOVE_EXTENSION_ELEMENT_ACTION,\n        value: selection.value,\n        idx: selection.idx\n      };\n\n      return true;\n    },\n\n    hideElements: function(element, entryNode, node, scopeNode) {\n      return !hideElements(element, entryNode, node, scopeNode);\n    },\n\n    disableRemove: function(element, entryNode, node, scopeNode) {\n      return (getSelected(entryNode, id) || {}).idx < 0;\n    },\n\n    selectElement: selectionChanged\n  };\n\n};\n","var hat = module.exports = function (bits, base) {\n    if (!base) base = 16;\n    if (bits === undefined) bits = 128;\n    if (bits <= 0) return '0';\n    \n    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n    for (var i = 2; digits === Infinity; i *= 2) {\n        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n    }\n    \n    var rem = digits - Math.floor(digits);\n    \n    var res = '';\n    \n    for (var i = 0; i < Math.floor(digits); i++) {\n        var x = Math.floor(Math.random() * base).toString(base);\n        res = x + res;\n    }\n    \n    if (rem) {\n        var b = Math.pow(base, rem);\n        var x = Math.floor(Math.random() * b).toString(base);\n        res = x + res;\n    }\n    \n    var parsed = parseInt(res, base);\n    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n        return hat(bits, base)\n    }\n    else return res;\n};\n\nhat.rack = function (bits, base, expandBy) {\n    var fn = function (data) {\n        var iters = 0;\n        do {\n            if (iters ++ > 10) {\n                if (expandBy) bits += expandBy;\n                else throw new Error('too many ID collisions, use more bits')\n            }\n            \n            var id = hat(bits, base);\n        } while (Object.hasOwnProperty.call(hats, id));\n        \n        hats[id] = data;\n        return id;\n    };\n    var hats = fn.hats = {};\n    \n    fn.get = function (id) {\n        return fn.hats[id];\n    };\n    \n    fn.set = function (id, value) {\n        fn.hats[id] = value;\n        return fn;\n    };\n    \n    fn.bits = bits || 128;\n    fn.base = base || 16;\n    return fn;\n};\n","import hat from 'hat';\n\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} seed\n */\nexport default function Ids(seed) {\n\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n\n  seed = seed || [ 128, 36, 1 ];\n  this._seed = seed.length ? hat.rack(seed[0], seed[1], seed[2]) : seed;\n}\n\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.next = function(element) {\n  return this._seed(element || true);\n};\n\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.nextPrefixed = function(prefix, element) {\n  var id;\n\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id));\n\n  // claim {prefix}{random}\n  this.claim(id, element);\n\n  // return\n  return id;\n};\n\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\nIds.prototype.claim = function(id, element) {\n  this._seed.set(id, element || true);\n};\n\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\nIds.prototype.assigned = function(id) {\n  return this._seed.get(id) || false;\n};\n\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\nIds.prototype.unclaim = function(id) {\n  delete this._seed.hats[id];\n};\n\n\n/**\n * Clear all claimed ids.\n */\nIds.prototype.clear = function() {\n\n  var hats = this._seed.hats,\n      id;\n\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};","'use strict';\n\nvar map = require('lodash/map');\n\nvar extensionElementsHelper = require('./ExtensionElementsHelper');\n\n/**\n * Returns true if the attribute 'camunda:asyncBefore' is set\n * to true.\n *\n * @param  {ModdleElement} bo\n *\n * @return {boolean} a boolean value\n */\nfunction isAsyncBefore(bo) {\n  return !!(bo.get('camunda:asyncBefore') || bo.get('camunda:async'));\n}\n\nmodule.exports.isAsyncBefore = isAsyncBefore;\n\n/**\n * Returns true if the attribute 'camunda:asyncAfter' is set\n * to true.\n *\n * @param  {ModdleElement} bo\n *\n * @return {boolean} a boolean value\n */\nfunction isAsyncAfter(bo) {\n  return !!bo.get('camunda:asyncAfter');\n}\n\nmodule.exports.isAsyncAfter = isAsyncAfter;\n\n/**\n * Returns true if the attribute 'camunda:exclusive' is set\n * to true.\n *\n * @param  {ModdleElement} bo\n *\n * @return {boolean} a boolean value\n */\nfunction isExclusive(bo) {\n  return !!bo.get('camunda:exclusive');\n}\n\nmodule.exports.isExclusive = isExclusive;\n\n/**\n * Get first 'camunda:FailedJobRetryTimeCycle' from the business object.\n *\n * @param  {ModdleElement} bo\n *\n * @return {Array<ModdleElement>} a list of 'camunda:FailedJobRetryTimeCycle'\n */\nfunction getFailedJobRetryTimeCycle(bo) {\n  return (extensionElementsHelper.getExtensionElements(bo, 'camunda:FailedJobRetryTimeCycle') || [])[0];\n}\n\nmodule.exports.getFailedJobRetryTimeCycle = getFailedJobRetryTimeCycle;\n\n/**\n * Removes all existing 'camunda:FailedJobRetryTimeCycle' from the business object\n *\n * @param  {ModdleElement} bo\n *\n * @return {Array<ModdleElement>} a list of 'camunda:FailedJobRetryTimeCycle'\n */\nfunction removeFailedJobRetryTimeCycle(bo, element) {\n  var retryTimeCycles = extensionElementsHelper.getExtensionElements(bo, 'camunda:FailedJobRetryTimeCycle');\n  return map(retryTimeCycles, function(cycle) {\n    return extensionElementsHelper.removeEntry(bo, element, cycle);\n  });\n}\n\nmodule.exports.removeFailedJobRetryTimeCycle = removeFailedJobRetryTimeCycle;","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n","/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getHolder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nmodule.exports = getHolder;\n","'use strict';\r\n\r\nvar find = require('lodash/find'),\r\n    isUndefined = require('lodash/isUndefined');\r\n\r\nvar isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny;\r\n\r\nvar ELEMENT_TEMPLATE_OPTION_EMPTY = 'element-template-option-empty';\r\n\r\nmodule.exports.ELEMENT_TEMPLATE_OPTION_EMPTY = ELEMENT_TEMPLATE_OPTION_EMPTY;\r\n\r\nvar emptyOption = {\r\n  name: '',\r\n  value: ELEMENT_TEMPLATE_OPTION_EMPTY\r\n};\r\n\r\n/**\r\n * Get options for given element and templates.\r\n *\r\n * @param {dj.model.Base} element\r\n * @param {ElementTemplates} elementTemplates\r\n * @param {Translate} translate\r\n */\r\nfunction getOptions(element, elementTemplates, translate) {\r\n  var options = [ emptyOption ];\r\n\r\n  var defaultTemplate = elementTemplates.getDefault(element);\r\n\r\n  if (defaultTemplate) {\r\n    options.push(option('element-template-option-0', defaultTemplate, translate));\r\n\r\n    return options;\r\n  }\r\n\r\n  var index = 0;\r\n\r\n  elementTemplates.getAll().forEach(function(template) {\r\n    if (!isAny(element, template.appliesTo)) {\r\n      return;\r\n    }\r\n\r\n    options.push(option('element-template-option-' + index, template, translate));\r\n\r\n    index++;\r\n  });\r\n\r\n  return options;\r\n}\r\n\r\nmodule.exports.getOptions = getOptions;\r\n\r\nfunction getOption(optionId, options) {\r\n  return find(options, function(option) {\r\n    return optionId === option.value;\r\n  });\r\n}\r\n\r\nmodule.exports.getOption = getOption;\r\n\r\nfunction option(value, template, translate) {\r\n  var name = translate(template.name);\r\n\r\n  if (template.version) {\r\n    name += ' (v' + template.version + ')';\r\n  }\r\n\r\n  var option = {\r\n    id: template.id,\r\n    name: name,\r\n    value: value\r\n  };\r\n\r\n  if (template.version) {\r\n    option.version = template.version;\r\n  }\r\n\r\n  return option;\r\n}\r\n\r\nmodule.exports.getVersionOrDateFromTemplate = function(template) {\r\n  var metadata = template.metadata,\r\n      version = template.version;\r\n\r\n  if (metadata) {\r\n    if (!isUndefined(metadata.created)) {\r\n      return 'Version ' + toDateString(metadata.created);\r\n    } else if (!isUndefined(metadata.updated)) {\r\n      return 'Version ' + toDateString(metadata.updated);\r\n    }\r\n  }\r\n\r\n  if (isUndefined(version)) {\r\n    return null;\r\n  }\r\n\r\n  return 'Version ' + version;\r\n};\r\n\r\nfunction toDateString(timestamp) {\r\n  var date = new Date(timestamp);\r\n\r\n  var year = date.getFullYear();\r\n\r\n  var month = leftPad(String(date.getMonth() + 1), 2, '0');\r\n\r\n  var day = leftPad(String(date.getDate()), 2, '0');\r\n\r\n  return day + '.' + month + '.' + year;\r\n}\r\n\r\nfunction leftPad(string, length, character) {\r\n  while (string.length < length) {\r\n    string = character + string;\r\n  }\r\n\r\n  return string;\r\n}","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny;\n\nvar getVariablesForScope = require('@bpmn-io/extract-process-variables').getVariablesForScope;\n\nvar filter = require('min-dash').filter,\n    map = require('min-dash').map,\n    sortBy = require('min-dash').sortBy;\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils');\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    scriptImplementation = require('./Script');\n\nvar domQuery = require('min-dom').query;\n\nmodule.exports = function(parameter, bpmnFactory, options, translate) {\n\n  var typeInfo = {\n    'camunda:Map': {\n      value: 'map',\n      label: translate('Map')\n    },\n    'camunda:List': {\n      value: 'list',\n      label: translate('List')\n    },\n    'camunda:Script': {\n      value: 'script',\n      label: translate('Script')\n    }\n  };\n\n  options = options || {};\n\n  var idPrefix = options.idPrefix || '';\n\n  var getParameter =\n    (options.getParameter && typeof options.getParameter === 'function') ?\n      function() {\n        return options.getParameter();\n      } :\n      function() {\n        return parameter;\n      };\n\n  var result = {},\n      entries = [];\n\n  result.entries = entries;\n\n  // heading ////////////////////////////////////////////////////////\n  var collapsible = entryFactory.collapsible({\n    id: idPrefix + 'collapsible',\n    title: parameter.name,\n    description: getDescription(parameter),\n    cssClasses: [ 'bpp-collapsible--with-mapping' ],\n    open: false,\n    onRemove: options.onRemove,\n    onToggle: options.onToggle,\n    get: function() {\n      return {\n        title: getParameter().name,\n        description: getDescription(getParameter())\n      };\n    }\n  });\n\n  var isOpen = options.isOpen || collapsible.isOpen;\n\n  result.setOpen = function(value) {\n    var entryNode = domQuery('[data-entry=\"' + collapsible.id + '\"]');\n    collapsible.setOpen(value, entryNode);\n  };\n\n  entries.push(collapsible);\n\n  // parameter name ////////////////////////////////////////////////////////\n  entries.push(entryFactory.validationAwareTextField(translate, {\n    id: idPrefix + 'parameterName',\n    label: is(parameter, 'camunda:InputParameter') ?\n      translate('Local Variable Name') : translate('Process Variable Name'),\n    modelProperty: 'name',\n\n    getProperty: function(element, node) {\n      return parameter.name;\n    },\n\n    setProperty: function(element, values, node) {\n      return cmdHelper.updateBusinessObject(element, parameter, values);\n    },\n\n    validate: function(element, values, node) {\n      var validation = {};\n      var nameValue = values.name;\n\n      if (nameValue) {\n        if (utils.containsSpace(nameValue)) {\n          validation.name = translate('Name must not contain spaces');\n        }\n      } else {\n        validation.name = translate('Parameter must have a name');\n      }\n\n      return validation;\n    },\n\n    hidden: function(element, node) {\n      return !isOpen();\n    }\n  }));\n\n\n  // parameter type //////////////////////////////////////////////////////\n\n  var selectOptions = [\n    { value: 'text', name: translate('String or Expression') },\n    { value: 'script', name: translate('Script') },\n    { value: 'list', name: translate('List') },\n    { value: 'map', name: translate('Map') }\n  ];\n\n  entries.push(entryFactory.selectBox(translate, {\n    id : idPrefix + 'parameterType',\n    label: translate('Variable Assignment Type'),\n    selectOptions: selectOptions,\n    modelProperty: 'parameterType',\n\n    get: function(element, node) {\n      var parameterType = 'text';\n\n      var definition = getParameter().get('definition');\n      if (typeof definition !== 'undefined') {\n        var type = definition.$type;\n        parameterType = typeInfo[type].value;\n      }\n\n      return {\n        parameterType: parameterType\n      };\n    },\n\n    set: function(element, values, node) {\n      var properties = {\n        value: undefined,\n        definition: undefined\n      };\n\n      var createParameterTypeElem = function(type) {\n        return createElement(type, getParameter(), bpmnFactory);\n      };\n\n      var parameterType = values.parameterType;\n\n      if (parameterType === 'script') {\n        properties.definition = createParameterTypeElem('camunda:Script');\n      }\n      else if (parameterType === 'list') {\n        properties.definition = createParameterTypeElem('camunda:List');\n      }\n      else if (parameterType === 'map') {\n        properties.definition = createParameterTypeElem('camunda:Map');\n      }\n\n      return cmdHelper.updateBusinessObject(element, getParameter(), properties);\n    },\n\n    hidden: function(element, node) {\n      return !isOpen();\n    }\n\n  }));\n\n\n  // parameter value (type = text) ///////////////////////////////////////////////////////\n\n  entries.push(entryFactory.autoSuggest(translate, {\n    id : idPrefix + 'parameterType-text',\n    label : translate('Variable Assignment Value'),\n    description: translate('Start typing \"${}\" to create an expression.'),\n    modelProperty: 'value',\n    get: function(element, node) {\n      return {\n        value: getParameter().value\n      };\n    },\n\n    set: function(element, values, node) {\n      values.value = values.value || undefined;\n      return cmdHelper.updateBusinessObject(element, getParameter(), values);\n    },\n\n    show: function(element, node) {\n      return isOpen() && !getParameter().definition;\n    },\n\n    getItems: function(element) {\n      var scope = getScope(element),\n          rootElement = getRootElement(element);\n\n      // (1) get all available variables for the current scope\n      var variables = getVariablesForScope(scope, rootElement);\n\n      // (2) ignore all variables which are (only) written in the current element\n      variables = filter(variables, function(variable) {\n        var origin = variable.origin,\n            withOutCurrent = filter(origin, function(o) {\n              return o.id !== element.id;\n            });\n\n        return !!withOutCurrent.length;\n      });\n\n      // (3) sort by name\n      var sorted = sortByName(variables);\n\n      // (4) retrieve names as suggestion items\n      return map(sorted, function(variable) {\n        return variable.name;\n      });\n    },\n\n    canSuggest: function(word, editorNode, focusNode) {\n      var globalIndex = findWordInContentEditable(word, editorNode, focusNode);\n\n      if (isInsideExpression(editorNode.innerText, globalIndex)) {\n        return true;\n      }\n\n      if (isInsideUnclosedExpression(editorNode.innerText, globalIndex)) {\n        return true;\n      }\n\n      return false;\n    }\n\n  }));\n\n\n  // parameter value (type = script) ///////////////////////////////////////////////////////\n  var script = scriptImplementation('scriptFormat', 'value', true, translate, { idPrefix: idPrefix });\n  entries.push({\n    id: idPrefix + 'parameterType-script',\n    html: '<div data-show=\"show\">' +\n            script.template +\n          '</div>',\n    get: function(element, node) {\n      return isScript(getParameter().definition) ? script.get(element, getParameter().definition) : {};\n    },\n\n    set: function(element, values, node) {\n      var update = script.set(element, values);\n      return cmdHelper.updateBusinessObject(element, getParameter().definition, update);\n    },\n\n    validate: function(element, values, node) {\n      return isScript(getParameter().definition) ? script.validate(element, getParameter().definition) : {};\n    },\n\n    script: script,\n    show: function(element, node) {\n      return isOpen() && getParameter().definition && isScript(getParameter().definition);\n    }\n  });\n\n\n  // parameter value (type = list) ///////////////////////////////////////////////////////\n\n  entries.push(entryFactory.table(translate, {\n    id: idPrefix + 'parameterType-list',\n    modelProperties: [ 'value' ],\n    labels: [ translate('Value') ],\n    addLabel: translate('Add Value'),\n\n    getElements: function(element, node) {\n\n      if (isList(getParameter().definition)) {\n        return getParameter().definition.items;\n      }\n\n      return [];\n    },\n\n    updateElement: function(element, values, node, idx) {\n      var item = getParameter().definition.items[idx];\n      return cmdHelper.updateBusinessObject(element, item, values);\n    },\n\n    addElement: function(element, node) {\n      var newValue = createElement('camunda:Value', getParameter().definition, bpmnFactory, { value: undefined });\n      return cmdHelper.addElementsTolist(element, getParameter().definition, 'items', [ newValue ]);\n    },\n\n    removeElement: function(element, node, idx) {\n      return cmdHelper.removeElementsFromList(element, getParameter().definition, 'items', null, [ getParameter().definition.items[idx] ]);\n    },\n\n    editable: function(element, node, prop, idx) {\n      var item = getParameter().definition.items[idx];\n      return !isMap(item) && !isList(item) && !isScript(item);\n    },\n\n    setControlValue: function(element, node, input, prop, value, idx) {\n      var item = getParameter().definition.items[idx];\n\n      if (!isMap(item) && !isList(item) && !isScript(item)) {\n        input.value = value;\n      } else {\n        input.value = typeInfo[item.$type].label;\n      }\n    },\n\n    show: function(element, node) {\n      return isOpen() && getParameter().definition && isList(getParameter().definition);\n    }\n\n  }));\n\n\n  // parameter value (type = map) ///////////////////////////////////////////////////////\n\n  entries.push(entryFactory.table(translate, {\n    id: idPrefix + 'parameterType-map',\n    modelProperties: [ 'key', 'value' ],\n    labels: [ translate('Key'), translate('Value') ],\n    addLabel: translate('Add Entry'),\n\n    getElements: function(element, node) {\n\n      if (getParameter() && isMap(getParameter().definition)) {\n        return getParameter().definition.entries;\n      }\n\n      return [];\n    },\n\n    updateElement: function(element, values, node, idx) {\n      var entry = getParameter().definition.entries[idx];\n\n      if (isMap(entry.definition) || isList(entry.definition) || isScript(entry.definition)) {\n        values = {\n          key: values.key\n        };\n      }\n\n      return cmdHelper.updateBusinessObject(element, entry, values);\n    },\n\n    addElement: function(element, node) {\n      var newEntry = createElement('camunda:Entry', getParameter().definition, bpmnFactory, { key: undefined, value: undefined });\n      return cmdHelper.addElementsTolist(element, getParameter().definition, 'entries', [ newEntry ]);\n    },\n\n    removeElement: function(element, node, idx) {\n      return cmdHelper.removeElementsFromList(element, getParameter().definition, 'entries', null, [ getParameter().definition.entries[idx] ]);\n    },\n\n    editable: function(element, node, prop, idx) {\n      var entry = getParameter().definition.entries[idx];\n      return prop === 'key' || (!isMap(entry.definition) && !isList(entry.definition) && !isScript(entry.definition));\n    },\n\n    setControlValue: function(element, node, input, prop, value, idx) {\n      var entry = getParameter().definition.entries[idx];\n\n      if (prop === 'key' || (!isMap(entry.definition) && !isList(entry.definition) && !isScript(entry.definition))) {\n        input.value = value;\n      } else {\n        input.value = typeInfo[entry.definition.$type].label;\n      }\n    },\n\n    show: function(element, node) {\n      return isOpen() && getParameter().definition && isMap(getParameter().definition);\n    }\n\n  }));\n\n  return result;\n};\n\n\n\n// helper /////////////////////\n\nfunction createElement(type, parent, factory, properties) {\n  return elementHelper.createElement(type, properties, parent, factory);\n}\n\nfunction isScript(elem) {\n  return is(elem, 'camunda:Script');\n}\n\nfunction isList(elem) {\n  return is(elem, 'camunda:List');\n}\n\nfunction isMap(elem) {\n  return is(elem, 'camunda:Map');\n}\n\nfunction sortByName(variables) {\n  return sortBy(variables, function(variable) {\n    return variable.name;\n  });\n}\n\nfunction getScope(element) {\n  var businessObject = getBusinessObject(element);\n\n  if (isAny(businessObject, [ 'bpmn:Process', 'bpmn:SubProcess' ])) {\n    return businessObject.id;\n  }\n\n  // look for processes or sub process in parents\n  var parent = businessObject;\n\n  while (parent.$parent && !isAny(parent, [ 'bpmn:Process', 'bpmn:SubProcess' ])) {\n    parent = parent.$parent;\n  }\n\n  return parent.id;\n}\n\nfunction getRootElement(element) {\n  var businessObject = getBusinessObject(element),\n      parent = businessObject;\n\n  while (parent.$parent && !is(parent, 'bpmn:Process')) {\n    parent = parent.$parent;\n  }\n\n  return parent;\n}\n\nfunction isInsideExpression(value, index) {\n  var openIndex = value.indexOf('${'),\n      closeIndex = value.indexOf('}');\n\n  return (\n    openIndex > -1 && openIndex <= index &&\n    closeIndex > -1 && index < closeIndex\n  );\n}\n\nfunction isInsideUnclosedExpression(value, index) {\n  var closeIndex = value.lastIndexOf('}', index),\n      openIndex = value.indexOf('${', closeIndex + 1);\n\n  return (\n    openIndex > -1 && openIndex <= index\n  );\n}\n\nfunction findWordInContentEditable(word, editorNode, focusNode) {\n\n  // retrieve value before focusNode (row)\n  var children = editorNode.childNodes,\n      textBefore = '';\n\n  for (var i = 0; i <= children.length - 1; i++) {\n    var child = children[i];\n\n    if (child.contains(focusNode)) {\n      break;\n    }\n\n    textBefore += (child.innerText || child.wholeText) + '\\n';\n  }\n\n  return textBefore.length + (word.index || 0);\n}\n\nfunction getDescription(parameter) {\n  var definition = parameter.get('definition');\n\n  if (!definition) {\n    return parameter.value;\n  }\n\n  if (isScript(definition)) {\n    return definition.value;\n  } else if (isList(definition)) {\n    return 'List';\n  } else if (isMap(definition)) {\n    return 'Map';\n  }\n}\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var baseFlatten = require('./_baseFlatten');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nmodule.exports = flattenDeep;\n","'use strict';\n\n/**\n * Calculate the selection update for the given\n * current and new input values.\n *\n * @param {Object} currentSelection as {start, end}\n * @param {String} currentValue\n * @param {String} newValue\n *\n * @return {Object} newSelection as {start, end}\n */\nfunction calculateUpdate(currentSelection, currentValue, newValue) {\n\n  var currentCursor = currentSelection.start,\n      newCursor = currentCursor,\n      diff = newValue.length - currentValue.length,\n      idx;\n\n  var lengthDelta = newValue.length - currentValue.length;\n\n  var currentTail = currentValue.substring(currentCursor);\n\n  // check if we can remove common ending from the equation\n  // to be able to properly detect a selection change for\n  // the following scenarios:\n  //\n  //  * (AAATTT|TF) => (AAAT|TF)\n  //  * (AAAT|TF) =>  (AAATTT|TF)\n  //\n  if (newValue.lastIndexOf(currentTail) === newValue.length - currentTail.length) {\n    currentValue = currentValue.substring(0, currentValue.length - currentTail.length);\n    newValue = newValue.substring(0, newValue.length - currentTail.length);\n  }\n\n  // diff\n  var diff = createDiff(currentValue, newValue);\n\n  if (diff) {\n    if (diff.type === 'remove') {\n      newCursor = diff.newStart;\n    } else {\n      newCursor = diff.newEnd;\n    }\n  }\n\n  return range(newCursor);\n}\n\nmodule.exports = calculateUpdate;\n\n\nfunction createDiff(currentValue, newValue) {\n\n  var insert;\n\n  var l_str, l_char, l_idx = 0,\n      s_str, s_char, s_idx = 0;\n\n  if (newValue.length > currentValue.length) {\n    l_str = newValue;\n    s_str = currentValue;\n  } else {\n    l_str = currentValue;\n    s_str = newValue;\n  }\n\n  // assume there will be only one insert / remove and\n  // detect that _first_ edit operation only\n  while (l_idx < l_str.length) {\n\n    l_char = l_str.charAt(l_idx);\n    s_char = s_str.charAt(s_idx);\n\n    // chars no not equal\n    if (l_char !== s_char) {\n\n      if (!insert) {\n        insert = {\n          l_start: l_idx,\n          s_start: s_idx\n        };\n      }\n\n      l_idx++;\n    }\n\n    // chars equal (again?)\n    else {\n\n      if (insert && !insert.complete) {\n        insert.l_end = l_idx;\n        insert.s_end = s_idx;\n        insert.complete = true;\n      }\n\n      s_idx++;\n      l_idx++;\n    }\n  }\n\n  if (insert && !insert.complete) {\n    insert.complete = true;\n    insert.s_end = s_str.length;\n    insert.l_end = l_str.length;\n  }\n\n  // no diff\n  if (!insert) {\n    return;\n  }\n\n  if (newValue.length > currentValue.length) {\n    return {\n      newStart: insert.l_start,\n      newEnd: insert.l_end,\n      type: 'add'\n    };\n  } else {\n    return {\n      newStart: insert.s_start,\n      newEnd: insert.s_end,\n      type: newValue.length < currentValue.length ? 'remove' : 'replace'\n    };\n  }\n}\n\n/**\n * Utility method for creating a new selection range {start, end} object.\n *\n * @param {Number} start\n * @param {Number} [end]\n *\n * @return {Object} selection range as {start, end}\n */\nfunction range(start, end) {\n  return {\n    start: start,\n    end: end === undefined ? start : end\n  };\n}\n\nmodule.exports.range = range;\n\n\nfunction splitStr(str, position) {\n  return {\n    before: str.substring(0, position),\n    after: str.substring(position)\n  };\n}","'use strict';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A component that decides upon the visibility / editable\n * state of properties in the properties panel.\n *\n * Implementors must subclass this component and override\n * {@link PropertiesActivator#isEntryVisible} and\n * {@link PropertiesActivator#isPropertyEditable} to provide\n * custom behavior.\n *\n * @class\n * @constructor\n *\n * @param {EventBus} eventBus\n * @param {Number} [priority] at which priority to hook into the activation\n */\nfunction PropertiesActivator(eventBus, priority) {\n  var self = this;\n\n  priority = priority || DEFAULT_PRIORITY;\n\n  eventBus.on('propertiesPanel.isEntryVisible', priority, function(context) {\n    var element = context.element,\n        entry = context.entry,\n        group = context.group,\n        tab = context.tab;\n\n    return self.isEntryVisible(element, entry, group, tab);\n  });\n\n  eventBus.on('propertiesPanel.isPropertyEditable', priority, function(context) {\n    var element = context.element,\n        entry = context.entry,\n        group = context.group,\n        propertyName = context.propertyName,\n        tab = context.tab;\n\n    return self.isPropertyEditable(propertyName, element, entry, group, tab);\n  });\n}\n\nPropertiesActivator.$inject = [ 'eventBus' ];\n\nmodule.exports = PropertiesActivator;\n\n\n/**\n * Should the given entry be visible for the specified element.\n *\n * @method  PropertiesActivator#isEntryVisible\n *\n * @param {ModdleElement} element\n * @param {Object} entry\n * @param {Object} group\n * @param {Object} tab\n *\n * @returns {boolean}\n */\nPropertiesActivator.prototype.isEntryVisible = function(element, entry, group, tab) {\n  return true;\n};\n\n/**\n * Should the given property be editable for the specified element\n *\n * @method  PropertiesActivator#isPropertyEditable\n *\n * @param {string} propertyName\n * @param {ModdleElement} element\n * @param {Object} entry\n * @param {Object} group\n * @param {Object} tab\n *\n * @returns {boolean}\n */\nPropertiesActivator.prototype.isPropertyEditable = function(propertyName, element, entry, group, tab) {\n  return true;\n};","'use strict';\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar domify = require('min-dom').domify,\n    domQuery = require('min-dom').query;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\n\nvar textField = function(translate, options, defaultParameters) {\n\n  // Default action for the button next to the input-field\n  var defaultButtonAction = function(element, inputNode) {\n    var input = domQuery('input[name=\"' + options.modelProperty + '\"]', inputNode);\n    input.value = '';\n\n    return true;\n  };\n\n  // default method to determine if the button should be visible\n  var defaultButtonShow = function(element, inputNode) {\n    var input = domQuery('input[name=\"' + options.modelProperty + '\"]', inputNode);\n\n    return input.value !== '';\n  };\n\n\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      dataValueLabel = options.dataValueLabel,\n      buttonLabel = (options.buttonLabel || 'X'),\n      actionName = (typeof options.buttonAction != 'undefined') ? options.buttonAction.name : 'clear',\n      actionMethod = (typeof options.buttonAction != 'undefined') ? options.buttonAction.method : defaultButtonAction,\n      showName = (typeof options.buttonShow != 'undefined') ? options.buttonShow.name : 'canClear',\n      showMethod = (typeof options.buttonShow != 'undefined') ? options.buttonShow.method : defaultButtonShow,\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n      description = options.description;\n\n  resource.html =\n    domify('<label for=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n      (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\n      (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\n      (dataValueLabel ? 'data-value=\"' + escapeHTML(dataValueLabel) + '\"' : '') + '>'+ escapeHTML(label) +'</label>' +\n    '<div class=\"bpp-field-wrapper\" ' +\n      (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n      (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n      '>' +\n      '<input id=\"camunda-' + escapeHTML(resource.id) + '\" type=\"text\" name=\"' + escapeHTML(options.modelProperty) + '\" ' +\n        (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n        (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n        ' />' +\n      '<button class=\"action-button ' + escapeHTML(actionName) + '\" data-action=\"' + escapeHTML(actionName) + '\" data-show=\"' + escapeHTML(showName) + '\" ' +\n        (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n        (canBeHidden ? ' data-show=\"isHidden\"' : '') + '>' +\n        '<span>' + escapeHTML(buttonLabel) + '</span>' +\n      '</button>' +\n    '</div>');\n\n  // add description below text input entry field\n  if (description) {\n    resource.html.appendChild(entryFieldDescription(translate, description, { show: canBeHidden && 'isHidden' }));\n  }\n\n  resource[actionName] = actionMethod;\n  resource[showName] = showMethod;\n\n  if (canBeDisabled) {\n    resource.isDisabled = function() {\n      return options.disabled.apply(resource, arguments);\n    };\n  }\n\n  if (canBeHidden) {\n    resource.isHidden = function() {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['bpp-textfield'];\n\n  return resource;\n};\n\nmodule.exports = textField;\n","'use strict';\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar domify = require('min-dom').domify,\n    domQuery = require('min-dom').query;\n\nvar forEach = require('lodash/forEach');\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\n\nvar isList = function(list) {\n  return !(!list || Object.prototype.toString.call(list) !== '[object Array]');\n};\n\nvar addEmptyParameter = function(list) {\n  return list.concat([ { name: '', value: '' } ]);\n};\n\nvar createOption = function(option) {\n  return '<option value=\"' + option.value + '\">' + option.name + '</option>';\n};\n\n/**\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} [options.label]\n * @param  {Array<Object>} options.selectOptions\n * @param  {string} options.modelProperty\n * @param  {boolean} options.emptyParameter\n * @param  {function} options.disabled\n * @param  {function} options.hidden\n * @param  {Object} defaultParameters\n *\n * @return {Object}\n */\nvar selectbox = function(translate, options, defaultParameters) {\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      selectOptions = options.selectOptions || [ { name: '', value: '' } ],\n      modelProperty = options.modelProperty,\n      emptyParameter = options.emptyParameter,\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n      description = options.description;\n\n\n  if (emptyParameter) {\n    selectOptions = addEmptyParameter(selectOptions);\n  }\n\n\n  resource.html =\n    domify('<label for=\"camunda-' + escapeHTML(resource.id) + '\"' +\n    (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\n    (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\n    '>' + escapeHTML(label) + '</label>' +\n    '<select id=\"camunda-' + escapeHTML(resource.id) + '-select\" name=\"' +\n    escapeHTML(modelProperty) + '\"' +\n    (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\n    (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\n    ' data-value></select>');\n\n  var select = domQuery('select', resource.html);\n\n  if (isList(selectOptions)) {\n    forEach(selectOptions, function(option) {\n      select.appendChild(\n        domify(\n          '<option value=\"' + escapeHTML(option.value) +\n          (option.title ? '\" title=\"' + escapeHTML(option.title) : '') +\n          '\">' +\n          (option.name ? escapeHTML(option.name) : '') +\n          '</option>'\n        )\n      );\n    });\n  }\n\n  // add description below select box entry field\n  if (description && typeof options.showCustomInput !== 'function') {\n    resource.html.appendChild(entryFieldDescription(translate, description, { show: canBeHidden && 'isHidden' }));\n  }\n\n  /**\n   * Fill the select box options dynamically.\n   *\n   * Calls the defined function #selectOptions in the entry to get the\n   * values for the options and set the value to the inputNode.\n   *\n   * @param {djs.model.Base} element\n   * @param {HTMLElement} entryNode\n   * @param {EntryDescriptor} inputNode\n   * @param {Object} inputName\n   * @param {Object} newValue\n   */\n  resource.setControlValue = function(element, entryNode, inputNode, inputName, newValue) {\n    if (typeof selectOptions === 'function') {\n\n      var options = selectOptions(element, inputNode);\n\n      if (options) {\n\n        // remove existing options\n        while (inputNode.firstChild) {\n          inputNode.removeChild(inputNode.firstChild);\n        }\n\n        // add options\n        forEach(options, function(option) {\n          var template = domify(createOption(option));\n\n          inputNode.appendChild(template);\n        });\n\n\n      }\n    }\n\n    // set select value\n    if (newValue !== undefined) {\n      inputNode.value = newValue;\n    }\n\n  };\n\n  if (canBeDisabled) {\n    resource.isDisabled = function() {\n      return options.disabled.apply(resource, arguments);\n    };\n  }\n\n  if (canBeHidden) {\n    resource.isHidden = function() {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['bpp-dropdown'];\n\n  return resource;\n};\n\nmodule.exports = selectbox;\n","var identity = require('./identity'),\n    metaMap = require('./_metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n","var WeakMap = require('./_WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","var metaMap = require('./_metaMap'),\n    noop = require('./noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n","var baseSetData = require('./_baseSetData'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity\n * function to avoid garbage collection pauses in V8. See\n * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = shortOut(baseSetData);\n\nmodule.exports = setData;\n","var getWrapDetails = require('./_getWrapDetails'),\n    insertWrapDetails = require('./_insertWrapDetails'),\n    setToString = require('./_setToString'),\n    updateWrapDetails = require('./_updateWrapDetails');\n\n/**\n * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n * with wrapper details in a comment at the top of the source body.\n *\n * @private\n * @param {Function} wrapper The function to modify.\n * @param {Function} reference The reference function.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Function} Returns `wrapper`.\n */\nfunction setWrapToString(wrapper, reference, bitmask) {\n  var source = (reference + '');\n  return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n}\n\nmodule.exports = setWrapToString;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    cmdHelper = require('./CmdHelper');\n\n\nvar ParticipantHelper = {};\n\nmodule.exports = ParticipantHelper;\n\nParticipantHelper.modifyProcessBusinessObject = function(element, property, values) {\n  if (!is(element, 'bpmn:Participant')) {\n    return {};\n  }\n\n  var bo = getBusinessObject(element).get('processRef'),\n      properties = {};\n\n  properties[property] = values[property];\n\n  return cmdHelper.updateBusinessObject(element, bo, properties);\n};\n\nParticipantHelper.getProcessBusinessObject = function(element, propertyName) {\n  if (!is(element, 'bpmn:Participant')) {\n    return {};\n  }\n\n  var bo = getBusinessObject(element).get('processRef'),\n      properties = {};\n\n  properties[propertyName] = bo.get(propertyName);\n\n  return properties;\n};","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\n/**\n * Create an entry to modify the name of an an element.\n *\n * @param  {djs.model.Base} element\n * @param  {Object} options\n * @param  {string} options.id the id of the entry\n * @param  {string} options.label the label of the entry\n *\n * @return {Array<Object>} return an array containing\n *                         the entry to modify the name\n */\nmodule.exports = function(element, options, translate) {\n\n  options = options || {};\n  var id = options.id || 'name',\n      label = options.label || translate('Name'),\n      modelProperty = options.modelProperty || 'name';\n\n  var nameEntry = entryFactory.textBox(translate, {\n    id: id,\n    label: label,\n    modelProperty: modelProperty,\n    get: options.get,\n    set: options.set\n  });\n\n  return [ nameEntry ];\n\n};\n","'use strict';\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\n/**\n * Get the timer definition type for a given timer event definition.\n *\n * @param {ModdleElement<bpmn:TimerEventDefinition>} timer\n *\n * @return {string|undefined} the timer definition type\n */\nfunction getTimerDefinitionType(timer) {\n\n  if (!timer) {\n    return;\n  }\n\n  var timeDate = timer.get('timeDate');\n  if (typeof timeDate !== 'undefined') {\n    return 'timeDate';\n  }\n\n  var timeCycle = timer.get('timeCycle');\n  if (typeof timeCycle !== 'undefined') {\n    return 'timeCycle';\n  }\n\n  var timeDuration = timer.get('timeDuration');\n  if (typeof timeDuration !== 'undefined') {\n    return 'timeDuration';\n  }\n}\n\n/**\n * Get the actual timer event definition based on option, whether it's a getter\n * to fetch the timer event definition or the exact event definition itself\n *\n * @param {ModdleElement<bpmn:TimerEventDefinition>|Function} timerOrFunction\n * @param {Shape} element\n * @param {HTMLElement} node\n *\n * @return ModdleElement<bpmn:TimerEventDefinition>\n */\nfunction getTimerDefinition(timerOrFunction, element, node) {\n  if (typeof timerOrFunction === 'function') {\n    return timerOrFunction(element, node);\n  }\n\n  return timerOrFunction;\n}\n\n/**\n * Creates 'bpmn:FormalExpression' element.\n *\n * @param {ModdleElement} parent\n * @param {string} body\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement<bpmn:FormalExpression>} a formal expression\n */\nfunction createFormalExpression(parent, body, bpmnFactory) {\n  body = body || undefined;\n  return elementHelper.createElement('bpmn:FormalExpression', { body: body }, parent, bpmnFactory);\n}\n\nfunction TimerEventDefinition(group, element, bpmnFactory, timerEventDefinition, translate, options) {\n\n  var selectOptions = [\n    { value: 'timeDate', name: translate('Date') },\n    { value: 'timeDuration', name: translate('Duration') },\n    { value: 'timeCycle', name: translate('Cycle') }\n  ];\n\n  var prefix = options && options.idPrefix,\n      createTimerEventDefinition = options && options.createTimerEventDefinition;\n\n\n  group.entries.push(entryFactory.selectBox(translate, {\n    id: prefix + 'timer-event-definition-type',\n    label: translate('Timer Definition Type'),\n    selectOptions: selectOptions,\n    emptyParameter: true,\n    modelProperty: 'timerDefinitionType',\n\n    get: function(element, node) {\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node);\n\n      return {\n        timerDefinitionType: getTimerDefinitionType(timerDefinition) || ''\n      };\n    },\n\n    set: function(element, values, node) {\n      var props = {\n        timeDuration: undefined,\n        timeDate: undefined,\n        timeCycle: undefined\n      };\n\n\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node),\n          newType = values.timerDefinitionType;\n\n      if (!timerDefinition && typeof createTimerEventDefinition === 'function') {\n        timerDefinition = createTimerEventDefinition(element, node);\n      }\n\n      if (values.timerDefinitionType) {\n        var oldType = getTimerDefinitionType(timerDefinition);\n\n        var value;\n        if (oldType) {\n          var definition = timerDefinition.get(oldType);\n          value = definition.get('body');\n        }\n\n        props[newType] = createFormalExpression(timerDefinition, value, bpmnFactory);\n      }\n\n      return cmdHelper.updateBusinessObject(element, timerDefinition, props);\n    },\n\n    hidden: function(element, node) {\n      return getTimerDefinition(timerEventDefinition, element, node) === undefined;\n    }\n\n  }));\n\n\n  group.entries.push(entryFactory.textField(translate, {\n    id: prefix + 'timer-event-definition',\n    label: translate('Timer Definition'),\n    modelProperty: 'timerDefinition',\n\n    get: function(element, node) {\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node),\n          type = getTimerDefinitionType(timerDefinition),\n          definition = type && timerDefinition.get(type),\n          value = definition && definition.get('body');\n\n      return {\n        timerDefinition: value\n      };\n    },\n\n    set: function(element, values, node) {\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node),\n          type = getTimerDefinitionType(timerDefinition),\n          definition = type && timerDefinition.get(type);\n\n      if (definition) {\n        return cmdHelper.updateBusinessObject(element, definition, {\n          body: values.timerDefinition || undefined\n        });\n      }\n    },\n\n    validate: function(element, node) {\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node),\n          type = getTimerDefinitionType(timerDefinition),\n          definition = type && timerDefinition.get(type);\n\n      if (definition) {\n        var value = definition.get('body');\n        if (!value) {\n          return {\n            timerDefinition: translate('Must provide a value')\n          };\n        }\n      }\n    },\n\n    hidden: function(element, node) {\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node);\n\n      return !getTimerDefinitionType(timerDefinition);\n    }\n\n  }));\n\n}\n\nmodule.exports = TimerEventDefinition;\n","'use strict';\n\nvar cmdHelper = require('../../../../helper/CmdHelper'),\n    entryFactory = require('../../../../factory/EntryFactory'),\n    elementHelper = require('../../../../helper/ElementHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper');\n\n\nvar resultVariable = require('./ResultVariable');\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar forEach = require('lodash/forEach');\n\nvar attributeInfo = {\n  bpmn: {\n    element: 'calledElement',\n    binding: 'camunda:calledElementBinding',\n    version: 'camunda:calledElementVersion',\n    versionTag: 'camunda:calledElementVersionTag',\n    tenantId: 'camunda:calledElementTenantId'\n  },\n\n  cmmn: {\n    element: 'camunda:caseRef',\n    binding: 'camunda:caseBinding',\n    version: 'camunda:caseVersion',\n    tenantId: 'camunda:caseTenantId'\n  },\n\n  dmn: {\n    element: 'camunda:decisionRef',\n    binding: 'camunda:decisionRefBinding',\n    version: 'camunda:decisionRefVersion',\n    versionTag: 'camunda:decisionRefVersionTag',\n    tenantId: 'camunda:decisionRefTenantId'\n  }\n};\n\nvar mapDecisionResultOptions = [\n  {\n    name: 'singleEntry (TypedValue)',\n    value: 'singleEntry'\n  },\n  {\n    name:'singleResult (Map<String, Object>)',\n    value:'singleResult'\n  },\n  {\n    name:'collectEntries (List<Object>)',\n    value:'collectEntries'\n  },\n  {\n    name:'resultList (List<Map<String, Object>>)',\n    value:'resultList'\n  }\n];\n\nvar delegateVariableMappingOptions = [\n  {\n    name: 'variableMappingClass',\n    value: 'variableMappingClass'\n  },\n  {\n    name: 'variableMappingDelegateExpression',\n    value: 'variableMappingDelegateExpression'\n  }\n];\n\nfunction getCamundaInWithBusinessKey(element) {\n  var camundaIn = [],\n      bo = getBusinessObject(element);\n\n  var camundaInParams = extensionElementsHelper.getExtensionElements(bo, 'camunda:In');\n  if (camundaInParams) {\n    forEach(camundaInParams, function(param) {\n      if (param.businessKey !== undefined) {\n        camundaIn.push(param);\n      }\n    });\n  }\n  return camundaIn;\n}\n\nfunction setBusinessKey(element, text, bpmnFactory) {\n  var commands = [];\n\n  var camundaInWithBusinessKey = getCamundaInWithBusinessKey(element);\n\n  if (camundaInWithBusinessKey.length) {\n    commands.push(cmdHelper.updateBusinessObject(element, camundaInWithBusinessKey[0], {\n      businessKey: text\n    }));\n  } else {\n    var bo = getBusinessObject(element),\n        extensionElements = bo.extensionElements;\n\n    if (!extensionElements) {\n      extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n      commands.push(cmdHelper.updateProperties(element, { extensionElements: extensionElements }));\n    }\n\n    var camundaIn = elementHelper.createElement(\n      'camunda:In',\n      { 'businessKey': text },\n      extensionElements,\n      bpmnFactory\n    );\n\n    commands.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      extensionElements,\n      'values',\n      'extensionElements',\n      [ camundaIn ],[]\n    ));\n  }\n\n  return commands;\n}\n\nfunction deleteBusinessKey(element) {\n  var camundaInExtensions = getCamundaInWithBusinessKey(element);\n  var commands = [];\n  forEach(camundaInExtensions, function(elem) {\n    commands.push(extensionElementsHelper.removeEntry(getBusinessObject(element), element, elem));\n  });\n  return commands;\n}\n\nfunction isSupportedCallableType(type) {\n  return [ 'bpmn', 'cmmn', 'dmn' ].indexOf(type) !== -1;\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var bindingOptions = [\n    {\n      name: translate('latest'),\n      value: 'latest'\n    },\n    {\n      name: translate('deployment'),\n      value: 'deployment'\n    },\n    {\n      name: translate('version'),\n      value: 'version'\n    },\n    {\n      name: translate('versionTag'),\n      value: 'versionTag'\n    }\n  ];\n\n  var getCallableType = options.getCallableType;\n\n  var entries = [];\n\n  function getAttribute(element, prop) {\n    var type = getCallableType(element);\n    return (attributeInfo[type] || {})[prop];\n  }\n\n  function getCallActivityBindingValue(element) {\n    var type = getCallableType(element);\n    var bo = getBusinessObject(element);\n    var attr = (attributeInfo[type] || {}).binding;\n    return bo.get(attr);\n  }\n\n  function getDelegateVariableMappingType(element) {\n    var bo = getBusinessObject(element);\n\n    var boVariableMappingClass = bo.get('camunda:variableMappingClass'),\n        boVariableMappingDelegateExpression = bo.get('camunda:variableMappingDelegateExpression');\n\n    var delegateVariableMappingType = '';\n    if (typeof boVariableMappingClass !== 'undefined') {\n      delegateVariableMappingType = 'variableMappingClass';\n    } else\n\n    if (typeof boVariableMappingDelegateExpression !== 'undefined') {\n      delegateVariableMappingType = 'variableMappingDelegateExpression';\n    }\n\n    return delegateVariableMappingType;\n  }\n\n\n  entries.push(entryFactory.textField(translate, {\n    id: 'callable-element-ref',\n    dataValueLabel: 'callableElementLabel',\n    modelProperty: 'callableElementRef',\n\n    get: function(element, node) {\n      var callableElementRef;\n\n      var attr = getAttribute(element, 'element');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        callableElementRef = bo.get(attr);\n      }\n\n      var label = '';\n      var type = getCallableType(element);\n      if (type === 'bpmn') {\n        label = translate('Called Element');\n      }\n      else if (type === 'cmmn') {\n        label = translate('Case Ref');\n      }\n      else if (type === 'dmn') {\n        label = translate('Decision Ref');\n      }\n\n      return {\n        callableElementRef: callableElementRef,\n        callableElementLabel: label\n      };\n    },\n\n    set: function(element, values, node) {\n      var newCallableElementRef = values.callableElementRef;\n      var attr = getAttribute(element, 'element');\n\n      var props = {};\n      props[attr] = newCallableElementRef || '';\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var elementRef = values.callableElementRef;\n      var type = getCallableType(element);\n      return isSupportedCallableType(type) && !elementRef ? { callableElementRef: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isSupportedCallableType(getCallableType(element));\n    }\n\n  }));\n\n  entries.push(entryFactory.selectBox(translate, {\n    id: 'callable-binding',\n    label: translate('Binding'),\n    selectOptions: function(element) {\n      var type = getCallableType(element);\n      var options;\n\n      if (type === 'cmmn') {\n        options = bindingOptions.filter(function(bindingOption) {\n          return bindingOption.value !== 'versionTag';\n        });\n      } else {\n        options = bindingOptions;\n      }\n      return options;\n    },\n    modelProperty: 'callableBinding',\n\n    get: function(element, node) {\n      var callableBinding;\n\n      var attr = getAttribute(element, 'binding');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        callableBinding = bo.get(attr) || 'latest';\n      }\n\n      return {\n        callableBinding: callableBinding\n      };\n    },\n\n    set: function(element, values, node) {\n      var binding = values.callableBinding;\n      var attr = getAttribute(element, 'binding'),\n          attrVer = getAttribute(element, 'version'),\n          attrVerTag = getAttribute(element, 'versionTag');\n\n      var props = {};\n      props[attr] = binding;\n\n      // set version and versionTag values always to undefined to delete the existing value\n      props[attrVer] = undefined;\n      props[attrVerTag] = undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    hidden: function(element, node) {\n      return !isSupportedCallableType(getCallableType(element));\n    }\n\n  }));\n\n  entries.push(entryFactory.textField(translate, {\n    id: 'callable-version',\n    label: translate('Version'),\n    modelProperty: 'callableVersion',\n\n    get: function(element, node) {\n      var callableVersion;\n\n      var attr = getAttribute(element, 'version');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        callableVersion = bo.get(attr);\n      }\n\n      return {\n        callableVersion: callableVersion\n      };\n    },\n\n    set: function(element, values, node) {\n      var version = values.callableVersion;\n      var attr = getAttribute(element, 'version');\n\n      var props = {};\n      props[attr] = version || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var version = values.callableVersion;\n\n      var type = getCallableType(element);\n      return (\n        isSupportedCallableType(type) &&\n        getCallActivityBindingValue(element) === 'version' && (\n          !version ? { callableVersion: translate('Must provide a value') } : {}\n        )\n      );\n    },\n\n    hidden: function(element, node) {\n      var type = getCallableType(element);\n      return !isSupportedCallableType(type) || getCallActivityBindingValue(element) !== 'version';\n    }\n\n  }));\n\n  entries.push(entryFactory.textField(translate, {\n    id: 'callable-version-tag',\n    label: translate('Version Tag'),\n    modelProperty: 'versionTag',\n\n    get: function(element, node) {\n      var versionTag;\n\n      var attr = getAttribute(element, 'versionTag');\n\n      if (attr) {\n        var bo = getBusinessObject(element);\n\n        versionTag = bo.get(attr);\n      }\n\n      return {\n        versionTag: versionTag\n      };\n    },\n\n    set: function(element, values, node) {\n      var versionTag = values.versionTag;\n\n      var attr = getAttribute(element, 'versionTag');\n\n      var props = {};\n\n      props[attr] = versionTag || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var versionTag = values.versionTag;\n\n      var type = getCallableType(element);\n\n      return (\n        isSupportedCallableType(type) &&\n        getCallActivityBindingValue(element) === 'versionTag' && (\n          !versionTag ? { versionTag: translate('Must provide a value') } : {}\n        )\n      );\n    },\n\n    hidden: function(element, node) {\n      var type = getCallableType(element);\n\n      return !isSupportedCallableType(type) || getCallActivityBindingValue(element) !== 'versionTag';\n    }\n\n  }));\n\n  entries.push(entryFactory.textField(translate, {\n    id: 'tenant-id',\n    label: translate('Tenant Id'),\n    modelProperty: 'tenantId',\n\n    get: function(element, node) {\n      var tenantId;\n\n      var attr = getAttribute(element, 'tenantId');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        tenantId = bo.get(attr);\n      }\n\n      return {\n        tenantId: tenantId\n      };\n    },\n\n    set: function(element, values, node) {\n      var tenantId = values.tenantId;\n      var attr = getAttribute(element, 'tenantId');\n\n      var props = {};\n      props[attr] = tenantId || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    hidden: function(element, node) {\n      var type = getCallableType(element);\n      return !isSupportedCallableType(type);\n    }\n\n  }));\n\n  if (is(getBusinessObject(element), 'bpmn:CallActivity')) {\n    entries.push(entryFactory.checkbox(translate, {\n      id: 'callable-business-key',\n      label: translate('Business Key'),\n      modelProperty: 'callableBusinessKey',\n\n      get: function(element, node) {\n        var camundaIn = getCamundaInWithBusinessKey(element);\n\n        return {\n          callableBusinessKey: !!(camundaIn && camundaIn.length > 0)\n        };\n      },\n\n      set: function(element, values, node) {\n        if (values.callableBusinessKey) {\n          return setBusinessKey(element, '#{execution.processBusinessKey}', bpmnFactory);\n        } else {\n          return deleteBusinessKey(element);\n        }\n      }\n    }));\n  }\n\n  entries.push(entryFactory.textField(translate, {\n    id: 'business-key-expression',\n    label: translate('Business Key Expression'),\n    modelProperty: 'businessKey',\n\n    get: function(element, node) {\n      var camundaInWithBusinessKey = getCamundaInWithBusinessKey(element);\n\n      return {\n        businessKey: (\n          camundaInWithBusinessKey.length ?\n            camundaInWithBusinessKey[0].get('camunda:businessKey') :\n            undefined\n        )\n      };\n    },\n\n    set: function(element, values, node) {\n      var businessKey = values.businessKey;\n\n      return setBusinessKey(element, businessKey, bpmnFactory);\n    },\n\n    validate: function(element, values, node) {\n      var businessKey = values.businessKey;\n\n      return businessKey === '' ? { businessKey: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !getCamundaInWithBusinessKey(element).length;\n    }\n\n  }));\n\n  entries = entries.concat(resultVariable(element, bpmnFactory, {\n    id: 'dmn-resultVariable',\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getCallableType,\n    hideResultVariable: function(element, node) {\n      return getCallableType(element) !== 'dmn';\n    }\n  }, translate));\n\n  entries.push(entryFactory.selectBox(translate, {\n    id: 'dmn-map-decision-result',\n    label: translate('Map Decision Result'),\n    selectOptions: mapDecisionResultOptions,\n    modelProperty: 'mapDecisionResult',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        mapDecisionResult: bo.get('camunda:mapDecisionResult') || 'resultList'\n      };\n    },\n\n    set: function(element, values, node) {\n      return cmdHelper.updateProperties(element, {\n        'camunda:mapDecisionResult': values.mapDecisionResult || 'resultList'\n      });\n    },\n\n    hidden: function(element, node) {\n      var bo = getBusinessObject(element);\n      var resultVariable = bo.get('camunda:resultVariable');\n      return !(getCallableType(element) === 'dmn' && typeof resultVariable !== 'undefined');\n    }\n\n  }));\n\n\n  entries.push(entryFactory.selectBox(translate, {\n    id: 'delegateVariableMappingType',\n    label: translate('Delegate Variable Mapping'),\n    selectOptions: delegateVariableMappingOptions,\n    emptyParameter: true,\n    modelProperty: 'delegateVariableMappingType',\n\n    get: function(element, node) {\n      return {\n        delegateVariableMappingType : getDelegateVariableMappingType(element)\n      };\n    },\n\n    set: function(element, values, node) {\n      var delegateVariableMappingType = values.delegateVariableMappingType;\n\n      var props = {\n        'camunda:variableMappingClass' : undefined,\n        'camunda:variableMappingDelegateExpression' : undefined\n      };\n\n      if (delegateVariableMappingType === 'variableMappingClass') {\n        props['camunda:variableMappingClass'] = '';\n      }\n      else if (delegateVariableMappingType === 'variableMappingDelegateExpression') {\n        props['camunda:variableMappingDelegateExpression'] = '';\n      }\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    hidden: function(element, node) {\n      return (getCallableType(element) !== 'bpmn');\n    }\n\n  }));\n\n  entries.push(entryFactory.textField(translate, {\n    id: 'delegateVariableMapping',\n    dataValueLabel: 'delegateVariableMappingLabel',\n    modelProperty: 'delegateVariableMapping',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n\n      var label = '';\n      var delegateVariableMapping = undefined;\n      var type = getDelegateVariableMappingType(element);\n\n      if (type === 'variableMappingClass') {\n        label = translate('Class');\n        delegateVariableMapping = bo.get('camunda:variableMappingClass');\n      }\n      else if (type === 'variableMappingDelegateExpression') {\n        label = translate('Delegate Expression');\n        delegateVariableMapping = bo.get('camunda:variableMappingDelegateExpression');\n      }\n\n      return {\n        delegateVariableMapping: delegateVariableMapping,\n        delegateVariableMappingLabel: label\n      };\n    },\n\n    set: function(element, values, node) {\n      var delegateVariableMapping = values.delegateVariableMapping;\n\n      var attr = 'camunda:' + getDelegateVariableMappingType(element);\n\n      var props = {};\n      props[attr] = delegateVariableMapping || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var delegateVariableMapping = values.delegateVariableMapping;\n      return (\n        getCallableType(element) === 'bpmn' && (\n          !delegateVariableMapping ? { delegateVariableMapping: translate('Must provide a value') } : {}\n        )\n      );\n    },\n\n    hidden: function(element, node) {\n      return !(getCallableType(element) === 'bpmn' && getDelegateVariableMappingType(element) !== '');\n    }\n\n  }));\n\n  return entries;\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar assign = require('lodash/assign');\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject,\n      hideResultVariable = options.hideResultVariable,\n      id = options.id || 'resultVariable';\n\n\n  var resultVariableEntry = entryFactory.textField(translate, {\n    id: id,\n    label: translate('Result Variable'),\n    modelProperty: 'resultVariable',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return { resultVariable: bo.get('camunda:resultVariable') };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n\n      var resultVariable = values.resultVariable || undefined;\n\n      var props = {\n        'camunda:resultVariable': resultVariable\n      };\n\n      if (is(bo, 'camunda:DmnCapable') && !resultVariable) {\n        props = assign({ 'camunda:mapDecisionResult': 'resultList' }, props);\n      }\n\n      return cmdHelper.updateBusinessObject(element, bo, props);\n    },\n\n    hidden: function(element, node) {\n      if (typeof hideResultVariable === 'function') {\n        return hideResultVariable.apply(resultVariableEntry, arguments);\n      }\n    }\n\n  });\n\n  return [ resultVariableEntry ];\n\n};\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar asyncCapableHelper = require('../../../../helper/AsyncCapableHelper'),\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nfunction isAsyncBefore(bo) {\n  return asyncCapableHelper.isAsyncBefore(bo);\n}\n\nfunction isAsyncAfter(bo) {\n  return asyncCapableHelper.isAsyncAfter(bo);\n}\n\nfunction isExclusive(bo) {\n  return asyncCapableHelper.isExclusive(bo);\n}\n\nfunction removeFailedJobRetryTimeCycle(bo, element) {\n  return asyncCapableHelper.removeFailedJobRetryTimeCycle(bo, element);\n}\n\nfunction canRemoveFailedJobRetryTimeCycle(element) {\n  return !eventDefinitionHelper.getTimerEventDefinition(element);\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var idPrefix = options.idPrefix || '',\n      labelPrefix = options.labelPrefix || '';\n\n\n  var asyncBeforeEntry = entryFactory.checkbox(translate, {\n    id: idPrefix + 'asyncBefore',\n    label: labelPrefix + translate('Asynchronous Before'),\n    modelProperty: 'asyncBefore',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        asyncBefore: isAsyncBefore(bo)\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      var asyncBefore = !!values.asyncBefore;\n\n      var props = {\n        'camunda:asyncBefore': asyncBefore,\n        'camunda:async': false\n      };\n\n      var commands = [];\n      if (!isAsyncAfter(bo) && !asyncBefore) {\n        props = assign({ 'camunda:exclusive' : true }, props);\n        if (canRemoveFailedJobRetryTimeCycle(element)) {\n          commands.push(removeFailedJobRetryTimeCycle(bo, element));\n        }\n      }\n\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\n      return commands;\n    }\n  });\n\n\n  var asyncAfterEntry = entryFactory.checkbox(translate, {\n    id: idPrefix + 'asyncAfter',\n    label: labelPrefix + translate('Asynchronous After'),\n    modelProperty: 'asyncAfter',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        asyncAfter: isAsyncAfter(bo)\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      var asyncAfter = !!values.asyncAfter;\n\n      var props = {\n        'camunda:asyncAfter': asyncAfter\n      };\n\n      var commands = [];\n      if (!isAsyncBefore(bo) && !asyncAfter) {\n        props = assign({ 'camunda:exclusive' : true }, props);\n        if (canRemoveFailedJobRetryTimeCycle(element)) {\n          commands.push(removeFailedJobRetryTimeCycle(bo, element));\n        }\n      }\n\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\n      return commands;\n    }\n  });\n\n\n  var exclusiveEntry = entryFactory.checkbox(translate, {\n    id: idPrefix + 'exclusive',\n    label: labelPrefix + translate('Exclusive'),\n    modelProperty: 'exclusive',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return { exclusive: isExclusive(bo) };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, { 'camunda:exclusive': !!values.exclusive });\n    },\n\n    hidden: function(element) {\n      var bo = getBusinessObject(element);\n      return bo && !isAsyncAfter(bo) && !isAsyncBefore(bo);\n    }\n  });\n\n  return [ asyncBeforeEntry, asyncAfterEntry, exclusiveEntry ];\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar asyncCapableHelper = require('../../../../helper/AsyncCapableHelper');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nfunction isAsyncBefore(bo) {\n  return asyncCapableHelper.isAsyncBefore(bo);\n}\n\nfunction isAsyncAfter(bo) {\n  return asyncCapableHelper.isAsyncAfter(bo);\n}\n\nfunction getFailedJobRetryTimeCycle(bo) {\n  return asyncCapableHelper.getFailedJobRetryTimeCycle(bo);\n}\n\nfunction removeFailedJobRetryTimeCycle(bo, element) {\n  return asyncCapableHelper.removeFailedJobRetryTimeCycle(bo, element);\n}\n\nfunction createExtensionElements(parent, bpmnFactory) {\n  return elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, parent, bpmnFactory);\n}\n\nfunction createFailedJobRetryTimeCycle(parent, bpmnFactory, cycle) {\n  return elementHelper.createElement('camunda:FailedJobRetryTimeCycle', { body: cycle }, parent, bpmnFactory);\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var idPrefix = options.idPrefix || '',\n      labelPrefix = options.labelPrefix || '';\n\n  var retryTimeCycleEntry = entryFactory.textField(translate, {\n    id: idPrefix + 'retryTimeCycle',\n    label: labelPrefix + translate('Retry Time Cycle'),\n    modelProperty: 'cycle',\n\n    get: function(element, node) {\n      var retryTimeCycle = getFailedJobRetryTimeCycle(getBusinessObject(element));\n      var value = retryTimeCycle && retryTimeCycle.get('body');\n      return {\n        cycle: value\n      };\n    },\n\n    set: function(element, values, node) {\n      var newCycle = values.cycle;\n      var bo = getBusinessObject(element);\n\n      if (newCycle === '' || typeof newCycle === 'undefined') {\n\n        // remove retry time cycle element(s)\n        return removeFailedJobRetryTimeCycle(bo, element);\n      }\n\n      var retryTimeCycle = getFailedJobRetryTimeCycle(bo);\n\n      if (!retryTimeCycle) {\n\n        // add new retry time cycle element\n        var commands = [];\n\n        var extensionElements = bo.get('extensionElements');\n        if (!extensionElements) {\n          extensionElements = createExtensionElements(bo, bpmnFactory);\n          commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n        }\n\n        retryTimeCycle = createFailedJobRetryTimeCycle(extensionElements, bpmnFactory, newCycle);\n        commands.push(cmdHelper.addAndRemoveElementsFromList(\n          element,\n          extensionElements,\n          'values',\n          'extensionElements',\n          [ retryTimeCycle ],\n          []\n        ));\n\n        return commands;\n      }\n\n      // update existing retry time cycle element\n      return cmdHelper.updateBusinessObject(element, retryTimeCycle, { body: newCycle });\n    },\n\n    hidden: function(element) {\n      var bo = getBusinessObject(element);\n\n      if (bo && (isAsyncBefore(bo) || isAsyncAfter(bo))) {\n        return false;\n      }\n\n      if (is(element, 'bpmn:Event')) {\n        return !eventDefinitionHelper.getTimerEventDefinition(element);\n      }\n\n      return true;\n    }\n\n  });\n\n  return [ retryTimeCycleEntry ];\n\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar factory = require('../../../../factory/EntryFactory');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils');\n\nvar assign = require('lodash/assign'),\n    forEach = require('lodash/forEach'),\n    find = require('lodash/find');\n\nfunction generatePropertyId() {\n  return utils.nextId('Property_');\n}\n\n/**\n * Get all camunda:property objects for a specific business object\n *\n * @param  {ModdleElement} parent\n *\n * @return {Array<ModdleElement>} a list of camunda:property objects\n */\nfunction getPropertyValues(parent) {\n  var properties = parent && getPropertiesElement(parent);\n  if (properties && properties.values) {\n    return properties.values;\n  }\n  return [];\n}\n\n/**\n * Get all camunda:Properties object for a specific business object\n *\n * @param  {ModdleElement} parent\n *\n * @return {ModdleElement} a camunda:Properties object\n */\nfunction getPropertiesElement(element) {\n  if (!isExtensionElements(element)) {\n    return element.properties;\n  } else {\n    return getPropertiesElementInsideExtensionElements(element);\n  }\n}\n\n/**\n * Get first camunda:Properties object for a specific bpmn:ExtensionElements\n * business object.\n *\n * @param {ModdleElement} extensionElements\n *\n * @return {ModdleElement} a camunda:Properties object\n */\nfunction getPropertiesElementInsideExtensionElements(extensionElements) {\n  return find(extensionElements.values, function(elem) {\n    return is(elem, 'camunda:Properties');\n  });\n}\n\n/**\n * Returns true, if the given business object is a bpmn:ExtensionElements.\n *\n * @param {ModdleElement} element\n *\n * @return {boolean} a boolean value\n */\nfunction isExtensionElements(element) {\n  return is(element, 'bpmn:ExtensionElements');\n}\n\n/**\n * Create a camunda:property entry using tableEntryFactory\n *\n * @param  {djs.model.Base} element\n * @param  {BpmnFactory} bpmnFactory\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {Array<string>} options.modelProperties\n * @param  {Array<string>} options.labels\n * @param  {function} options.getParent Gets the parent business object\n * @param  {function} options.show Indicate when the entry will be shown, should return boolean\n */\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getParent = options.getParent;\n\n  var modelProperties = options.modelProperties,\n      createParent = options.createParent;\n\n  var bo = getBusinessObject(element);\n  if (is(element, 'bpmn:Participant')) {\n    bo = bo.get('processRef');\n  }\n\n  // build properties group only when the participant have a processRef\n  if (!bo) {\n    return;\n  }\n\n  assign(options, {\n    addLabel: translate('Add Property'),\n    getElements: function(element, node) {\n      var parent = getParent(element, node, bo);\n      return getPropertyValues(parent);\n    },\n    addElement: function(element, node) {\n      var commands = [],\n          parent = getParent(element, node, bo);\n\n      if (!parent && typeof createParent === 'function') {\n        var result = createParent(element, bo);\n        parent = result.parent;\n        commands.push(result.cmd);\n      }\n\n      var properties = getPropertiesElement(parent);\n      if (!properties) {\n        properties = elementHelper.createElement('camunda:Properties', {}, parent, bpmnFactory);\n\n        if (!isExtensionElements(parent)) {\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { 'properties': properties }));\n        } else {\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\n            element,\n            parent,\n            'values',\n            'extensionElements',\n            [ properties ],\n            []\n          ));\n        }\n      }\n\n      var propertyProps = {};\n      forEach(modelProperties, function(prop) {\n        propertyProps[prop] = undefined;\n      });\n\n      // create id if necessary\n      if (modelProperties.indexOf('id') >= 0) {\n        propertyProps.id = generatePropertyId();\n      }\n\n      var property = elementHelper.createElement('camunda:Property', propertyProps, properties, bpmnFactory);\n      commands.push(cmdHelper.addElementsTolist(element, properties, 'values', [ property ]));\n\n      return commands;\n    },\n    updateElement: function(element, value, node, idx) {\n      var parent = getParent(element, node, bo),\n          property = getPropertyValues(parent)[idx];\n\n      forEach(modelProperties, function(prop) {\n        value[prop] = value[prop] || undefined;\n      });\n\n      return cmdHelper.updateBusinessObject(element, property, value);\n    },\n    validate: function(element, value, node, idx) {\n\n      // validate id if necessary\n      if (modelProperties.indexOf('id') >= 0) {\n\n        var parent = getParent(element, node, bo),\n            properties = getPropertyValues(parent),\n            property = properties[idx];\n\n        if (property) {\n\n          // check if id is valid\n          var validationError = utils.isIdValid(property, value.id, translate);\n\n          if (validationError) {\n            return { id: validationError };\n          }\n        }\n      }\n    },\n    removeElement: function(element, node, idx) {\n      var commands = [],\n          parent = getParent(element, node, bo),\n          properties = getPropertiesElement(parent),\n          propertyValues = getPropertyValues(parent),\n          currentProperty = propertyValues[idx];\n\n      commands.push(cmdHelper.removeElementsFromList(element, properties, 'values', null, [ currentProperty ]));\n\n      if (propertyValues.length === 1) {\n\n        // remove camunda:properties if the last existing property has been removed\n        if (!isExtensionElements(parent)) {\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { properties: undefined }));\n        } else {\n          forEach(parent.values, function(value) {\n            if (is(value, 'camunda:Properties')) {\n              commands.push(extensionElementsHelper.removeEntry(bo, element, value));\n            }\n          });\n        }\n      }\n\n      return commands;\n    }\n  });\n\n  return factory.table(translate, options);\n};\n","import { filter, find, isArray, forEach, findIndex } from 'min-dash';\n\n/**\n * Get a inputOutput from the business object\n *\n * @param {ModdleElement} element\n *\n * @return {ModdleElement} the inputOutput object\n */\nfunction getInputOutput(element) {\n  return (getElements(element, 'camunda:InputOutput') || [])[0];\n}\n\n/**\n * Return all input parameters existing in the business object, and\n * an empty array if none exist.\n *\n * @param  {ModdleElement} element\n *\n * @return {Array<ModdleElement>} a list of input parameter objects\n */\nfunction getInputParameters(element) {\n  return getParameters(element, 'inputParameters');\n}\n\n/**\n * Return all output parameters existing in the business object, and\n * an empty array if none exist.\n *\n * @param  {ModdleElement} element\n * @param  {boolean} insideConnector\n *\n * @return {Array<ModdleElement>} a list of output parameter objects\n */\nfunction getOutputParameters(element) {\n  return getParameters(element, 'outputParameters');\n}\n\n/**\n * Return all form fields existing in the business object, and\n * an empty array if none exist.\n *\n * @param {ModdleElement} element\n *\n * @return {Array<ModdleElement>} a list of form fields\n */\nfunction getFormFields(element) {\n  var formData = getFormData(element);\n  return (formData && formData.get('fields')) || [];\n}\n\n/**\n * Return form data existing in the business object\n *\n * @param {ModdleElement} element\n *\n * @return {ModdleElement}\n */\nfunction getFormData(element) {\n  return (getElements(element, 'camunda:FormData') || [])[0];\n}\n\n/**\n * Return out mappings existing in the business object\n *\n * @param {ModdleElement} element\n *\n * @return {Array<ModdleElement>}\n */\nfunction getOutMappings(element) {\n  return getElements(element, 'camunda:Out') || [];\n}\n\n\n// helpers //////////\n\nfunction getElements(element, type, property) {\n  var elements = getExtensionElements(element, type) || [];\n\n  return !property ? elements : (elements[0] || {})[property] || [];\n}\n\nfunction getParameters(element, property) {\n  var inputOutput = getInputOutput(element);\n\n  return (inputOutput && inputOutput.get(property)) || [];\n}\n\nfunction getExtensionElements(element, type) {\n  var extensionElements = element.get('extensionElements');\n\n  if (typeof extensionElements !== 'undefined') {\n    var extensionValues = extensionElements.get('values');\n\n    if (typeof extensionValues !== 'undefined') {\n      var elements = filter(extensionValues, function(value) {\n        return is(value, type);\n      });\n\n      if (elements.length) {\n        return elements;\n      }\n    }\n  }\n}\n\nfunction is(element, type) {\n  return (\n    element &&\n    typeof element.$instanceOf === 'function' &&\n    element.$instanceOf(type)\n  );\n}\n\n/**\n * Get all parent elements for a given element.\n *\n * @param {ModdleElement|string} element\n *\n * @returns {Array<ModdleElement>}\n */\nfunction getParents(element) {\n  var parents = [];\n  var current = element;\n\n  while (current.$parent) {\n    parents.push(current.$parent);\n    current = current.$parent;\n  }\n\n  return parents;\n}\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param  {Object|Array<Object>} elements\n * @param  {Function} fn iterator function called with (element, index, recursionDepth)\n * @param  {number} [depth] maximum recursion depth\n */\nfunction eachElement(elements, fn, depth) {\n  depth = depth || 0;\n\n  if (!isArray(elements)) {\n    elements = [elements];\n  }\n\n  forEach(elements, function(s, i) {\n    var filter = fn(s, i, depth);\n\n    if (isArray(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Array<Object>} elements\n * @param {Object} e\n * @param {boolean} unique\n */\nfunction add(elements, e, unique) {\n  var canAdd = !unique || elements.indexOf(e) === -1;\n\n  if (canAdd) {\n    elements.push(e);\n  }\n\n  return canAdd;\n}\n\n/**\n * Collects self + flow elements up to a given depth from a list of elements.\n *\n * @param  {ModdleElement|Array<ModdleElement>} elements the elements to select the flowElements from\n * @param  {boolean} unique whether to return a unique result set (no duplicates)\n * @param  {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Array<ModdleElement>} found elements\n */\nfunction selfAndFlowElements(elements, unique, maxDepth) {\n  var result = [],\n      processedFlowElements = [];\n\n  eachElement(elements, function(element, i, depth) {\n    add(result, element, unique);\n\n    var flowElements = element.flowElements;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n\n      // flowElements exist && flowElements not yet processed\n      if (flowElements && add(processedFlowElements, flowElements, unique)) {\n        return flowElements;\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return self + ALL flowElements for a number of elements\n *\n * @param  {Array<ModdleElement>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<ModdleElement>} the collected elements\n */\nfunction selfAndAllFlowElements(elements, allowDuplicates) {\n  return selfAndFlowElements(elements, !allowDuplicates, -1);\n}\n\n/**\n * Return full moddle element for given element id\n *\n * @param {string} elementId\n * @param {ModdleElement} rootElement\n *\n * @returns {ModdleElement}\n */\nfunction getElement(elementId, rootElement) {\n  var allElements = selfAndAllFlowElements(rootElement);\n\n  return find(allElements, function(element) {\n    return element.id === elementId;\n  });\n}\n\nfunction addVariableToList(variablesList, newVariable) {\n  var foundIdx = findIndex(variablesList, function(variable) {\n    return (\n      variable.name === newVariable.name && variable.scope === newVariable.scope\n    );\n  });\n\n  if (foundIdx >= 0) {\n    variablesList[foundIdx].origin = combineArrays(\n      variablesList[foundIdx].origin,\n      newVariable.origin\n    );\n  } else {\n    variablesList.push(newVariable);\n  }\n}\n\n/**\n * Creates new process variable definition object\n * Identifies correct (highest) scope, in which variable is available\n *\n * @param {ModdleElement} flowElement\n * @param {String} name\n * @param {ModdleElement} defaultScope\n *\n * @returns {ProcessVariable}\n */\nfunction createProcessVariable(flowElement, name, defaultScope) {\n  var scope = getScope(flowElement, defaultScope, name);\n\n  return {\n    name: name,\n    origin: [flowElement],\n    scope: scope,\n  };\n}\n\n\n// helpers ////////////////////\n\n/**\n * Set parent container if it defines it's own scope for the variable, so\n * when it defines an input mapping for it. Otherwise returns the default global scope\n */\nfunction getScope(element, globalScope, variableName) {\n  var parents = getParents(element);\n\n  var scopedParent = find(parents, function(parent) {\n    return (\n      is$1(parent, 'bpmn:SubProcess') && hasInputParameter(parent, variableName)\n    );\n  });\n\n  return scopedParent ? scopedParent : globalScope;\n}\n\nfunction is$1(element, type) {\n  return (\n    element &&\n      typeof element.$instanceOf === 'function' &&\n      element.$instanceOf(type)\n  );\n}\n\nfunction hasInputParameter(element, name) {\n  return find(getInputParameters(element), function(input) {\n    return input.name === name;\n  });\n}\n\nfunction combineArrays(a, b) {\n  return a.concat(b);\n}\n\nfunction extractOutputParameters(options) {\n  var elements = options.elements,\n      containerElement = options.containerElement,\n      processVariables = options.processVariables;\n\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  forEach(elements, function(element) {\n\n    // variables are created by output parameters\n    var outputParameters = getOutputParameters(element);\n\n    // extract all variables with correct scope\n    forEach(outputParameters, function(parameter) {\n      var newVariable = createProcessVariable(\n        element,\n        parameter.name,\n        containerElement\n      );\n\n      addVariableToList(processVariables, newVariable);\n    });\n  });\n\n  return processVariables;\n}\n\nfunction extractResultVariables(options) {\n  var elements = options.elements,\n      containerElement = options.containerElement,\n      processVariables = options.processVariables;\n\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  forEach(elements, function(element) {\n\n    var resultVariable = getResultVariable(element);\n\n    if (resultVariable) {\n      var newVariable = createProcessVariable(\n        element,\n        resultVariable,\n        containerElement\n      );\n\n      addVariableToList(processVariables, newVariable);\n    }\n  });\n\n  return processVariables;\n}\n\n\n// helpers ///////////////////////\n\nfunction getResultVariable(element) {\n  return element.get('camunda:resultVariable');\n}\n\nfunction extractFormFields(options) {\n  var elements = options.elements,\n      containerElement = options.containerElement,\n      processVariables = options.processVariables;\n\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  forEach(elements, function(element) {\n\n    var formFields = getFormFields(element);\n\n    // extract all variables with correct scope\n    forEach(formFields, function(field) {\n      var newVariable = createProcessVariable(\n        element,\n        field.id,\n        containerElement\n      );\n\n      addVariableToList(processVariables, newVariable);\n    });\n  });\n\n  return processVariables;\n}\n\nfunction extractOutMappings(options) {\n  var elements = options.elements,\n      containerElement = options.containerElement,\n      processVariables = options.processVariables;\n\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  forEach(elements, function(element) {\n\n    var outMappings = getOutMappings(element);\n\n    // extract all variables with correct scope\n    forEach(outMappings, function(mapping) {\n\n      // do not use variables marked as <local>\n      if (mapping.local) {\n        return;\n      }\n\n      var newVariable = createProcessVariable(\n        element,\n        mapping.target,\n        containerElement\n      );\n\n      addVariableToList(processVariables, newVariable);\n    });\n  });\n\n  return processVariables;\n}\n\nvar extractors = [\n  extractOutputParameters,\n  extractResultVariables,\n  extractFormFields,\n  extractOutMappings\n];\n\n/**\n * @typedef {Object} ProcessVariable\n * @property {string} name\n * @property {Array<ModdleElement>} origin\n * @property {ModdleElement} scope\n */\n\n// api /////////////////////////\n\n/**\n * Retrieves all process variables for a given container element.\n * @param {ModdleElement} containerElement\n *\n * @returns {Array<ProcessVariable>}\n */\nfunction getProcessVariables(containerElement) {\n  var processVariables = [];\n\n  // (1) extract all flow elements inside the container\n  var elements = selfAndAllFlowElements([containerElement], false);\n\n  // (2) extract all variables from the extractors\n  forEach(extractors, function(extractor) {\n    extractor({\n      elements: elements,\n      containerElement: containerElement,\n      processVariables: processVariables\n    });\n  });\n\n  return processVariables;\n}\n\n/**\n * Retrieves all variables which are available in the given scope\n *\n * * Exclude variables which are only available in other scopes\n * * Exclude variables which are produced by the given element\n * * Include variables which are available in parent scopes\n *\n * @param {string} scope\n * @param {ModdleElement} rootElement element from where to extract all variables\n *\n * @returns {Array<ProcessVariable>}\n */\nfunction getVariablesForScope(scope, rootElement) {\n\n  var allVariables = getProcessVariables(rootElement);\n\n  var scopeElement = getElement(scope, rootElement);\n\n  // (1) get variables for given scope\n  var scopeVariables = filter(allVariables, function(variable) {\n    return variable.scope.id === scopeElement.id;\n  });\n\n  // (2) get variables for parent scopes\n  var parents = getParents(scopeElement);\n\n  var parentsScopeVariables = filter(allVariables, function(variable) {\n    return find(parents, function(parent) {\n      return parent.id === variable.scope.id;\n    });\n  });\n\n  return combineArrays$1(scopeVariables, parentsScopeVariables);\n}\n\n// helpers ////////////////////\n\nfunction combineArrays$1(a, b) {\n  return a.concat(b);\n}\n\nexport { getProcessVariables, getVariablesForScope };\n","'use strict';\n\nvar extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar utils = require('../../../../Utils');\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar extensionElementsEntry = require('./ExtensionElements');\n\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\n    getBusinessObject = ModelUtil.getBusinessObject;\n\nvar assign = require('lodash/assign');\n\n\nvar DEFAULT_PROPS = {\n  'stringValue': undefined,\n  'string': undefined,\n  'expression': undefined\n};\n\nvar CAMUNDA_FIELD_EXTENSION_ELEMENT = 'camunda:Field';\n\nmodule.exports = function(element, bpmnFactory, translate, options) {\n\n  options = options || {};\n\n  var insideListener = !!options.insideListener,\n      idPrefix = options.idPrefix || '',\n      getSelectedListener = options.getSelectedListener,\n      businessObject = options.businessObject || getBusinessObject(element);\n\n  var entries = [];\n\n  var isSelected = function(element, node) {\n    return getSelectedField(element, node);\n  };\n\n  function getSelectedField(element, node) {\n    var selected = fieldEntry.getSelected(element, node.parentNode);\n\n    if (selected.idx === -1) {\n      return;\n    }\n\n    var fields = getCamundaFields(element, node);\n\n    return fields[selected.idx];\n  }\n\n  function getCamundaFields(element, node) {\n    if (!insideListener) {\n      return (\n        businessObject &&\n        extensionElementsHelper.getExtensionElements(businessObject, CAMUNDA_FIELD_EXTENSION_ELEMENT)\n      ) || [];\n    }\n    return getCamundaListenerFields(element, node);\n  }\n\n  function getCamundaListenerFields(element, node) {\n    var selectedListener = getSelectedListener(element, node);\n    return selectedListener && selectedListener.fields || [];\n  }\n\n  function getFieldType(bo) {\n    var fieldType = 'string';\n\n    var expressionValue = bo && bo.expression;\n    var stringValue = bo && (bo.string || bo.stringValue);\n\n    if (typeof stringValue !== 'undefined') {\n      fieldType = 'string';\n    } else if (typeof expressionValue !== 'undefined') {\n      fieldType = 'expression';\n    }\n\n    return fieldType;\n  }\n\n  var setOptionLabelValue = function() {\n    return function(element, node, option, property, value, idx) {\n      var camundaFields = getCamundaFields(element, node);\n      var field = camundaFields[idx];\n\n      value = (field.name) ? field.name : '<empty>';\n\n      var label = idx + ' : ' + value;\n\n      option.text = label;\n    };\n  };\n\n  var newElement = function() {\n    return function(element, extensionElements, value, node) {\n\n      var props = {\n        name: '',\n        string: ''\n      };\n\n      var newFieldElem;\n\n      if (!insideListener) {\n\n        newFieldElem = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, props, extensionElements, bpmnFactory);\n        return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newFieldElem ]);\n\n      } else {\n\n        var selectedListener = getSelectedListener(element, node);\n        newFieldElem = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, props, selectedListener, bpmnFactory);\n        return cmdHelper.addElementsTolist(element, selectedListener, 'fields', [ newFieldElem ]);\n\n      }\n\n    };\n  };\n\n  var removeElement = function() {\n    return function(element, extensionElements, value, idx, node) {\n      var camundaFields= getCamundaFields(element, node);\n      var field = camundaFields[idx];\n      if (field) {\n        if (!insideListener) {\n          return extensionElementsHelper.removeEntry(businessObject, element, field);\n        }\n        var selectedListener = getSelectedListener(element, node);\n        return cmdHelper.removeElementsFromList(element, selectedListener, 'fields', null, [ field ]);\n      }\n    };\n  };\n\n\n  var fieldEntry = extensionElementsEntry(element, bpmnFactory, {\n    id : idPrefix + 'fields',\n    label : translate('Fields'),\n    modelProperty: 'fieldName',\n    idGeneration: 'false',\n\n    businessObject: businessObject,\n\n    createExtensionElement: newElement(),\n    removeExtensionElement: removeElement(),\n\n    getExtensionElements: function(element, node) {\n      return getCamundaFields(element, node);\n    },\n\n    setOptionLabelValue: setOptionLabelValue()\n\n  });\n  entries.push(fieldEntry);\n\n\n  entries.push(entryFactory.validationAwareTextField(translate, {\n    id: idPrefix + 'field-name',\n    label: translate('Name'),\n    modelProperty: 'fieldName',\n\n    getProperty: function(element, node) {\n      return (getSelectedField(element, node) || {}).name;\n    },\n\n    setProperty: function(element, values, node) {\n      var selectedField = getSelectedField(element, node);\n      return cmdHelper.updateBusinessObject(element, selectedField, { name : values.fieldName });\n    },\n\n    validate: function(element, values, node) {\n      var bo = getSelectedField(element, node);\n\n      var validation = {};\n      if (bo) {\n        var nameValue = values.fieldName;\n\n        if (nameValue) {\n          if (utils.containsSpace(nameValue)) {\n            validation.fieldName = translate('Name must not contain spaces');\n          }\n        } else {\n          validation.fieldName = translate('Parameter must have a name');\n        }\n      }\n\n      return validation;\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n  var fieldTypeOptions = [\n    {\n      name: translate('String'),\n      value: 'string'\n    },\n    {\n      name: translate('Expression'),\n      value: 'expression'\n    }\n  ];\n\n  entries.push(entryFactory.selectBox(translate, {\n    id: idPrefix + 'field-type',\n    label: translate('Type'),\n    selectOptions: fieldTypeOptions,\n    modelProperty: 'fieldType',\n\n    get: function(element, node) {\n      var bo = getSelectedField(element, node);\n\n      var fieldType = getFieldType(bo);\n\n      return {\n        fieldType: fieldType\n      };\n    },\n\n    set: function(element, values, node) {\n      var props = assign({}, DEFAULT_PROPS);\n\n      var fieldType = values.fieldType;\n\n      if (fieldType === 'string') {\n        props.string = '';\n      }\n      else if (fieldType === 'expression') {\n        props.expression = '';\n      }\n\n      return cmdHelper.updateBusinessObject(element, getSelectedField(element, node), props);\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  entries.push(entryFactory.textBox(translate, {\n    id: idPrefix + 'field-value',\n    label: translate('Value'),\n    modelProperty: 'fieldValue',\n\n    get: function(element, node) {\n      var bo = getSelectedField(element, node);\n      var fieldType = getFieldType(bo);\n\n      var fieldValue;\n\n      if (fieldType === 'string') {\n        fieldValue = bo && (bo.string || bo.stringValue);\n      }\n      else if (fieldType === 'expression') {\n        fieldValue = bo && bo.expression;\n      }\n\n      return {\n        fieldValue: fieldValue\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getSelectedField(element, node);\n      var fieldType = getFieldType(bo);\n\n      var props = assign({}, DEFAULT_PROPS);\n\n      var fieldValue = values.fieldValue || undefined;\n\n      if (fieldType === 'string') {\n        props.string = fieldValue;\n      }\n      else if (fieldType === 'expression') {\n        props.expression = fieldValue;\n      }\n\n      return cmdHelper.updateBusinessObject(element, bo, props);\n\n    },\n\n    validate: function(element, values, node) {\n      var bo = getSelectedField(element, node);\n\n      var validation = {};\n      if (bo) {\n        if (!values.fieldValue) {\n          validation.fieldValue = translate('Must provide a value');\n        }\n      }\n\n      return validation;\n    },\n\n    show: function(element, node) {\n      return isSelected(element, node);\n    }\n\n  }));\n\n  return entries;\n\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    inputOutputHelper = require('../../../../helper/InputOutputHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils');\n\nvar entryFieldDescription = require('../../../../factory/EntryFieldDescription');\n\nvar domQuery = require('min-dom').query;\n\nvar InputOutputParameter = require('./InputOutputParameter');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  options = options || {};\n\n  var insideConnector = !!options.insideConnector,\n      idPrefix = options.idPrefix || '';\n\n  var result = {};\n\n  var entries = result.entries = [];\n\n  if (!inputOutputHelper.isInputOutputSupported(element, insideConnector)) {\n    return result;\n  }\n\n  var parametersOptions = {\n    insideConnector: insideConnector,\n    idPrefix: idPrefix\n  };\n\n  // input parameters ///////////////////////////////////////////////////////////////\n  entries.push(\n    getParametersHeading(element, bpmnFactory, {\n      idPrefix: idPrefix,\n      insideConnector: insideConnector,\n      type: 'camunda:InputParameter',\n      prop: 'inputParameters',\n      prefix: 'Input'\n    }));\n\n  append(entries,\n    getInputParameterEntries(element, bpmnFactory, parametersOptions, translate)\n  );\n\n  return result;\n};\n\nfunction getParametersHeading(element, bpmnFactory, options) {\n  var idPrefix = options.idPrefix || '',\n      prefix = options.prefix,\n      type = options.type,\n      prop = options.prop,\n      insideConnector = options.insideConnector;\n\n  var entry = {\n    id: idPrefix + prefix + '-heading',\n    cssClasses: [ 'bpp-input-output' ],\n    html: '<div class=\"bpp-field-wrapper\">' +\n      '<button type=\"button\" class=\"bpp-input-output__add add action-button\" ' + 'data-action=\"createElement\">' +\n      '</button><input name=\"hidden\" type=\"hidden\">' +\n      '</div>'\n  };\n\n  entry.createElement = function(_, entryNode) {\n    var commands = createElement();\n\n    if (commands) {\n      scheduleCommands(commands, entryNode);\n      return true;\n    }\n  };\n\n  entry.set = function() {\n    var commands = entry._commands;\n\n    if (commands) {\n      delete entry._commands;\n      return commands;\n    }\n  };\n\n  function createElement() {\n    var commands = [];\n    var bo = getBusinessObject(element);\n    var extensionElements = bo.get('extensionElements');\n\n    if (!extensionElements) {\n      extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n      commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n    }\n\n    var inputOutput = getInputOutput(element, insideConnector);\n    if (!inputOutput) {\n      var parent = !insideConnector ? extensionElements : getConnector(element);\n      inputOutput = createInputOutput(parent, bpmnFactory, {\n        inputParameters: [],\n        outputParameters: []\n      });\n\n      if (!insideConnector) {\n        commands.push(cmdHelper.addAndRemoveElementsFromList(\n          element,\n          extensionElements,\n          'values',\n          'extensionElements',\n          [ inputOutput ],\n          []\n        ));\n      } else {\n        commands.push(cmdHelper.updateBusinessObject(element, parent, { inputOutput: inputOutput }));\n      }\n    }\n\n    var newElem = createParameter(type, inputOutput, bpmnFactory, { name: generateElementId(prefix) });\n    commands.push(cmdHelper.addElementsTolist(element, inputOutput, prop, [], [ newElem ]));\n\n    return commands;\n  }\n\n  /**\n   * Schedule commands to be run with next `set` method call.\n   *\n   * @param {Array<any>} commands\n   * @param {HTMLElement} entryNode\n   */\n  function scheduleCommands(commands, entryNode) {\n    entry._commands = commands;\n\n    // @barmac: hack to make properties panel call `set`\n    var input = domQuery('input[type=\"hidden\"]', entryNode);\n    input.value = 1;\n  }\n\n  return entry;\n}\n\nfunction getInputParameterEntries(element, bpmnFactory, options, translate) {\n  var idPrefix = options.idPrefix,\n      insideConnector = options.insideConnector,\n      inputOutput = getInputOutput(element, insideConnector),\n      params = getInputParameters(element, insideConnector),\n      entries;\n\n  if (!params.length) {\n    var description = entryFieldDescription(translate, translate('No variables defined.'));\n\n    return [{\n      id: idPrefix + 'input-parameter' + '-placeholder',\n      cssClasses: [ 'bpp-input-output-placeholder' ],\n      html: description\n    }];\n  }\n\n  var inputParameters = params.map(function(param, index) {\n    function onRemove() {\n      var commands = [];\n      commands.push(cmdHelper.removeElementsFromList(element, inputOutput, 'inputParameters', null, [param]));\n\n      // remove inputOutput if there are no input/output parameters anymore\n      if (inputOutput.get('inputParameters').length === 1 && (inputOutput.get('outputParameters') || []).length === 0) {\n\n        if (!insideConnector) {\n          commands.push(extensionElementsHelper.removeEntry(getBusinessObject(element), element, inputOutput));\n        }\n        else {\n          var connector = getConnector(element);\n          commands.push(cmdHelper.updateBusinessObject(element, connector, { inputOutput: undefined }));\n        }\n      }\n\n      return commands;\n    }\n\n    return InputOutputParameter(param, bpmnFactory,\n      {\n        idPrefix: idPrefix + 'input-parameter-' + index,\n        onRemove: onRemove,\n        onToggle: onToggle\n      }, translate);\n  });\n\n  /**\n   * Close remaining collapsible entries within group.\n   *\n   * @param {boolean} value\n   * @param {HTMLElement} entryNode\n   */\n  function onToggle(value, entryNode) {\n    if (!value) {\n      return;\n    }\n\n    var currentEntryId = entryNode.dataset.entry;\n\n    inputParameters.forEach(function(inputParameter) {\n      if (inputParameter.entries[0].id === currentEntryId) {\n        return;\n      }\n\n      inputParameter.setOpen(false);\n    });\n  }\n\n  entries = inputParameters.map(function(input) {\n    return input.entries;\n  });\n\n  return flatten(entries);\n}\n\n\nfunction append(array, items) {\n  Array.prototype.push.apply(array, items);\n}\n\nfunction flatten(arrays) {\n  return Array.prototype.concat.apply([], arrays);\n}\n\nfunction generateElementId(prefix) {\n  prefix = prefix + '_';\n  return utils.nextId(prefix);\n}\n\nfunction getInputOutput(element, insideConnector) {\n  return inputOutputHelper.getInputOutput(element, insideConnector);\n}\n\nfunction getConnector(element) {\n  return inputOutputHelper.getConnector(element);\n}\n\nfunction getInputParameters(element, insideConnector) {\n  return inputOutputHelper.getInputParameters(element, insideConnector);\n}\n\nfunction createElement(type, parent, factory, properties) {\n  return elementHelper.createElement(type, properties, parent, factory);\n}\n\nfunction createInputOutput(parent, bpmnFactory, properties) {\n  return createElement('camunda:InputOutput', parent, bpmnFactory, properties);\n}\n\nfunction createParameter(type, parent, bpmnFactory, properties) {\n  return createElement(type, parent, bpmnFactory, properties);\n}\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    inputOutputHelper = require('../../../../helper/InputOutputHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils');\n\nvar entryFieldDescription = require('../../../../factory/EntryFieldDescription');\n\nvar domQuery = require('min-dom').query;\n\nvar InputOutputParameter = require('./InputOutputParameter');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  options = options || {};\n\n  var insideConnector = !!options.insideConnector,\n      idPrefix = options.idPrefix || '';\n\n  var result = {};\n\n  var entries = result.entries = [];\n\n  if (!inputOutputHelper.isInputOutputSupported(element, insideConnector) ||\n    !inputOutputHelper.areOutputParametersSupported(element, insideConnector)) {\n    return result;\n  }\n\n  var parametersOptions = {\n    insideConnector: insideConnector,\n    idPrefix: idPrefix\n  };\n\n  // output parameters ///////////////////////////////////////////////////////\n  entries.push(\n    getParametersHeading(element, bpmnFactory, {\n      idPrefix: idPrefix,\n      insideConnector: insideConnector,\n      type: 'camunda:OutputParameter',\n      prop: 'outputParameters',\n      prefix: 'Output'\n    }));\n\n  append(entries,\n    getOutputParameterEntries(element, bpmnFactory, parametersOptions, translate)\n  );\n\n  return result;\n};\n\nfunction getParametersHeading(element, bpmnFactory, options) {\n  var idPrefix = options.idPrefix || '',\n      prefix = options.prefix,\n      type = options.type,\n      prop = options.prop,\n      insideConnector = options.insideConnector;\n\n  var entry = {\n    id: idPrefix + prefix + '-heading',\n    cssClasses: [ 'bpp-input-output' ],\n    html: '<div class=\"bpp-field-wrapper\">' +\n      '<button type=\"button\" class=\"bpp-input-output__add add action-button\" ' + 'data-action=\"createElement\">' +\n      '</button><input name=\"hidden\" type=\"hidden\">' +\n      '</div>'\n  };\n\n  entry.createElement = function(_, entryNode) {\n    var commands = createElement();\n\n    if (commands) {\n      scheduleCommands(commands, entryNode);\n      return true;\n    }\n  };\n\n  entry.set = function() {\n    var commands = entry._commands;\n\n    if (commands) {\n      delete entry._commands;\n      return commands;\n    }\n  };\n\n  function createElement() {\n    var commands = [];\n    var bo = getBusinessObject(element);\n    var extensionElements = bo.get('extensionElements');\n\n    if (!extensionElements) {\n      extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n      commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n    }\n\n    var inputOutput = getInputOutput(element, insideConnector);\n    if (!inputOutput) {\n      var parent = !insideConnector ? extensionElements : getConnector(element);\n      inputOutput = createInputOutput(parent, bpmnFactory, {\n        inputParameters: [],\n        outputParameters: []\n      });\n\n      if (!insideConnector) {\n        commands.push(cmdHelper.addAndRemoveElementsFromList(\n          element,\n          extensionElements,\n          'values',\n          'extensionElements',\n          [ inputOutput ],\n          []\n        ));\n      } else {\n        commands.push(cmdHelper.updateBusinessObject(element, parent, { inputOutput: inputOutput }));\n      }\n    }\n\n    var newElem = createParameter(type, inputOutput, bpmnFactory, { name: generateElementId(prefix) });\n    commands.push(cmdHelper.addElementsTolist(element, inputOutput, prop, [], [ newElem ]));\n\n    return commands;\n  }\n\n  /**\n   * Schedule commands to be run with next `set` method call.\n   *\n   * @param {Array<any>} commands\n   * @param {HTMLElement} entryNode\n   */\n  function scheduleCommands(commands, entryNode) {\n    entry._commands = commands;\n\n    // @barmac: hack to make properties panel call `set`\n    var input = domQuery('input[type=\"hidden\"]', entryNode);\n    input.value = 1;\n  }\n\n  return entry;\n}\n\nfunction getOutputParameterEntries(element, bpmnFactory, options, translate) {\n  var idPrefix = options.idPrefix,\n      insideConnector = options.insideConnector,\n      inputOutput = getInputOutput(element, insideConnector),\n      params = getOutputParameters(element, insideConnector),\n      entries;\n\n  if (!params.length) {\n    var description = entryFieldDescription(translate, translate('No variables defined.'));\n\n    return [{\n      id: idPrefix + 'output-parameter' + '-placeholder',\n      cssClasses: [ 'bpp-input-output-placeholder' ],\n      html: description\n    }];\n  }\n\n  var outputParameters = params.map(function(param, index) {\n    function onRemove() {\n      var commands = [];\n      commands.push(cmdHelper.removeElementsFromList(element, inputOutput, 'outputParameters', null, [param]));\n\n      // remove inputOutput if there are no input/output parameters anymore\n      if (inputOutput.get('outputParameters').length === 1 && (inputOutput.get('inputParameters') || []).length === 0) {\n\n        if (!insideConnector) {\n          commands.push(extensionElementsHelper.removeEntry(getBusinessObject(element), element, inputOutput));\n        }\n        else {\n          var connector = getConnector(element);\n          commands.push(cmdHelper.updateBusinessObject(element, connector, { inputOutput: undefined }));\n        }\n      }\n\n      return commands;\n    }\n\n    return InputOutputParameter(param, bpmnFactory,\n      {\n        idPrefix: idPrefix + 'output-parameter-' + index,\n        onRemove: onRemove,\n        onToggle: onToggle\n      }, translate);\n  });\n\n  /**\n   * Close remaining collapsible entries within group.\n   *\n   * @param {boolean} value\n   * @param {HTMLElement} entryNode\n   */\n  function onToggle(value, entryNode) {\n    if (!value) {\n      return;\n    }\n\n    var currentEntryId = entryNode.dataset.entry;\n\n    outputParameters.forEach(function(outputParameter) {\n      if (outputParameter.entries[0].id === currentEntryId) {\n        return;\n      }\n\n      outputParameter.setOpen(false);\n    });\n  }\n\n  entries = outputParameters.map(function(input) {\n    return input.entries;\n  });\n\n  return flatten(entries);\n}\n\nfunction append(array, items) {\n  Array.prototype.push.apply(array, items);\n}\n\nfunction flatten(arrays) {\n  return Array.prototype.concat.apply([], arrays);\n}\n\nfunction generateElementId(prefix) {\n  prefix = prefix + '_';\n  return utils.nextId(prefix);\n}\n\nfunction getInputOutput(element, insideConnector) {\n  return inputOutputHelper.getInputOutput(element, insideConnector);\n}\n\nfunction getConnector(element) {\n  return inputOutputHelper.getConnector(element);\n}\n\nfunction getOutputParameters(element, insideConnector) {\n  return inputOutputHelper.getOutputParameters(element, insideConnector);\n}\n\nfunction createElement(type, parent, factory, properties) {\n  return elementHelper.createElement(type, properties, parent, factory);\n}\n\nfunction createInputOutput(parent, bpmnFactory, properties) {\n  return createElement('camunda:InputOutput', parent, bpmnFactory, properties);\n}\n\nfunction createParameter(type, parent, bpmnFactory, properties) {\n  return createElement(type, parent, bpmnFactory, properties);\n}\n","module.exports = {\n  __depends__: [\n    require('./cmd'),\n    require('diagram-js/lib/i18n/translate').default\n  ],\n  __init__: [ 'propertiesPanel' ],\n  propertiesPanel: [ 'type', require('./PropertiesPanel') ]\n};\n","'use strict';\n\nvar forEach = require('lodash/forEach');\n\nvar HANDLERS = {\n  'properties-panel.update-businessobject': require('./UpdateBusinessObjectHandler'),\n  'properties-panel.create-and-reference': require('./CreateAndReferenceHandler'),\n  'properties-panel.create-businessobject-list': require('./CreateBusinessObjectListHandler'),\n  'properties-panel.update-businessobject-list': require('./UpdateBusinessObjectListHandler'),\n  'properties-panel.multi-command-executor': require('./MultiCommandHandler')\n};\n\n\nfunction CommandInitializer(eventBus, commandStack) {\n\n  eventBus.on('diagram.init', function() {\n    forEach(HANDLERS, function(handler, id) {\n      commandStack.registerHandler(id, handler);\n    });\n  });\n}\n\nCommandInitializer.$inject = [ 'eventBus', 'commandStack' ];\n\nmodule.exports = {\n  __init__: [ CommandInitializer ]\n};","'use strict';\n\nvar reduce = require('lodash/transform'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    keys = require('lodash/keys'),\n    forEach = require('lodash/forEach');\n\n/**\n * A handler that implements a BPMN 2.0 property update\n * for business objects which are not represented in the\n * diagram.\n *\n * This is useful in the context of the properties panel in\n * order to update child elements of elements visible in\n * the diagram.\n *\n * Example: perform an update of a specific event definition\n * of an intermediate event.\n *\n * @class\n * @constructor\n */\nfunction UpdateBusinessObjectHandler(elementRegistry) {\n  this._elementRegistry = elementRegistry;\n}\n\nUpdateBusinessObjectHandler.$inject = [ 'elementRegistry' ];\n\nmodule.exports = UpdateBusinessObjectHandler;\n\n/**\n * returns the root element\n */\nfunction getRoot(businessObject) {\n  var parent = businessObject;\n  while (parent.$parent) {\n    parent = parent.$parent;\n  }\n  return parent;\n}\n\nfunction getProperties(businessObject, propertyNames) {\n  return reduce(propertyNames, function(result, key) {\n    result[key] = businessObject.get(key);\n    return result;\n  }, {});\n}\n\n\nfunction setProperties(businessObject, properties) {\n  forEach(properties, function(value, key) {\n    businessObject.set(key, value);\n  });\n}\n\n\n// api /////////////////////////////////////////////\n\n/**\n * Updates a business object with a list of new properties\n *\n * @method  UpdateBusinessObjectHandler#execute\n *\n * @param {Object} context\n * @param {djs.model.Base} context.element the element which has a child business object updated\n * @param {moddle.businessObject} context.businessObject the businessObject to update\n * @param {Object} context.properties a list of properties to set on the businessObject\n *\n * @return {Array<djs.mode.Base>} the updated element\n */\nUpdateBusinessObjectHandler.prototype.execute = function(context) {\n\n  var element = context.element,\n      businessObject = context.businessObject,\n      rootElements = getRoot(businessObject).rootElements,\n      referenceType = context.referenceType,\n      referenceProperty = context.referenceProperty,\n      changed = [ element ]; // this will not change any diagram-js elements\n\n  if (!element) {\n    throw new Error('element required');\n  }\n\n  if (!businessObject) {\n    throw new Error('businessObject required');\n  }\n\n  var properties = context.properties,\n      oldProperties = context.oldProperties || getProperties(businessObject, keys(properties));\n\n  // check if there the update needs an external element for reference\n  if (typeof referenceType !== 'undefined' && typeof referenceProperty !== 'undefined') {\n    forEach(rootElements, function(rootElement) {\n      if (is(rootElement, referenceType)) {\n        if (rootElement.id === properties[referenceProperty]) {\n          properties[referenceProperty] = rootElement;\n        }\n      }\n    });\n  }\n\n  // update properties\n  setProperties(businessObject, properties);\n\n  // store old values\n  context.oldProperties = oldProperties;\n  context.changed = changed;\n\n  // indicate changed on objects affected by the update\n  return changed;\n};\n\n/**\n * Reverts the update\n *\n * @method  UpdateBusinessObjectHandler#revert\n *\n * @param {Object} context\n *\n * @return {djs.mode.Base} the updated element\n */\nUpdateBusinessObjectHandler.prototype.revert = function(context) {\n\n  var oldProperties = context.oldProperties,\n      businessObject = context.businessObject;\n\n  // update properties\n  setProperties(businessObject, oldProperties);\n\n  return context.changed;\n};\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n","'use strict';\n\nvar elementHelper = require('../helper/ElementHelper');\n\n/**\n * A handler capable of creating a new element under a provided parent\n * and updating / creating a reference to it in one atomic action.\n *\n * @class\n * @constructor\n */\nfunction CreateAndReferenceElementHandler(elementRegistry, bpmnFactory) {\n  this._elementRegistry = elementRegistry;\n  this._bpmnFactory = bpmnFactory;\n}\n\nCreateAndReferenceElementHandler.$inject = [ 'elementRegistry', 'bpmnFactory' ];\n\nmodule.exports = CreateAndReferenceElementHandler;\n\n\n// api ////////////////////\n\n/**\n * Creates a new element under a provided parent and updates / creates a reference to it in\n * one atomic action.\n *\n * @method  CreateAndReferenceElementHandler#execute\n *\n * @param {Object} context\n * @param {djs.model.Base} context.element which is the context for the reference\n * @param {moddle.referencingObject} context.referencingObject the object which creates the reference\n * @param {String} context.referenceProperty the property of the referencingObject which makes the reference\n * @param {moddle.newObject} context.newObject the new object to add\n * @param {moddle.newObjectContainer} context.newObjectContainer the container for the new object\n *\n * @returns {Array<djs.mode.Base>} the updated element\n */\nCreateAndReferenceElementHandler.prototype.execute = function(context) {\n\n  var referencingObject = ensureNotNull(context.referencingObject, 'referencingObject'),\n      referenceProperty = ensureNotNull(context.referenceProperty, 'referenceProperty'),\n      newObject = ensureNotNull(context.newObject, 'newObject'),\n      newObjectContainer = ensureNotNull(context.newObjectContainer, 'newObjectContainer'),\n      newObjectParent = ensureNotNull(context.newObjectParent, 'newObjectParent'),\n      changed = [ context.element ]; // this will not change any diagram-js elements\n\n  // create new object\n  var referencedObject = elementHelper\n    .createElement(newObject.type, newObject.properties, newObjectParent, this._bpmnFactory);\n  context.referencedObject = referencedObject;\n\n  // add to containing list\n  newObjectContainer.push(referencedObject);\n\n  // adjust reference attribute\n  context.previousReference = referencingObject[referenceProperty];\n  referencingObject[referenceProperty] = referencedObject;\n\n  context.changed = changed;\n\n  // indicate changed on objects affected by the update\n  return changed;\n};\n\n/**\n * Reverts the update\n *\n * @method  CreateAndReferenceElementHandler#revert\n *\n * @param {Object} context\n *\n * @returns {djs.mode.Base} the updated element\n */\nCreateAndReferenceElementHandler.prototype.revert = function(context) {\n\n  var referencingObject = context.referencingObject,\n      referenceProperty = context.referenceProperty,\n      previousReference = context.previousReference,\n      referencedObject = context.referencedObject,\n      newObjectContainer = context.newObjectContainer;\n\n  // reset reference\n  referencingObject.set(referenceProperty, previousReference);\n\n  // remove new element\n  newObjectContainer.splice(newObjectContainer.indexOf(referencedObject), 1);\n\n  return context.changed;\n};\n\n\n\n// helpers //////////////\n\nfunction ensureNotNull(prop, name) {\n  if (!prop) {\n    throw new Error(name + ' required');\n  }\n  return prop;\n}\n","'use strict';\n\nvar forEach = require('lodash/forEach');\n\nvar elementHelper = require('../helper/ElementHelper');\n\n/**\n * A handler that implements a BPMN 2.0 property update\n * for business objects which are not represented in the\n * diagram.\n *\n * This is useful in the context of the properties panel in\n * order to update child elements of elements visible in\n * the diagram.\n *\n * Example: perform an update of a specific event definition\n * of an intermediate event.\n *\n * @class\n * @constructor\n */\nfunction CreateBusinessObjectListHandler(elementRegistry, bpmnFactory) {\n  this._elementRegistry = elementRegistry;\n  this._bpmnFactory = bpmnFactory;\n}\n\nCreateBusinessObjectListHandler.$inject = [ 'elementRegistry', 'bpmnFactory' ];\n\nmodule.exports = CreateBusinessObjectListHandler;\n\nfunction ensureNotNull(prop, name) {\n  if (!prop) {\n    throw new Error(name + ' required');\n  }\n  return prop;\n\n}\nfunction ensureList(prop, name) {\n  if (!prop || Object.prototype.toString.call(prop) !== '[object Array]') {\n    throw new Error(name + ' needs to be a list');\n  }\n  return prop;\n}\n\n// api /////////////////////////////////////////////\n\n/**\n * Creates a new element under a provided parent and updates / creates a reference to it in\n * one atomic action.\n *\n * @method  CreateBusinessObjectListHandler#execute\n *\n * @param {Object} context\n * @param {djs.model.Base} context.element which is the context for the reference\n * @param {moddle.referencingObject} context.referencingObject the object which creates the reference\n * @param {String} context.referenceProperty the property of the referencingObject which makes the reference\n * @param {moddle.newObject} context.newObject the new object to add\n * @param {moddle.newObjectContainer} context.newObjectContainer the container for the new object\n *\n * @return {Array<djs.mode.Base>} the updated element\n */\nCreateBusinessObjectListHandler.prototype.execute = function(context) {\n\n  var currentObject = ensureNotNull(context.currentObject, 'currentObject'),\n      propertyName = ensureNotNull(context.propertyName, 'propertyName'),\n      newObjects = ensureList(context.newObjects, 'newObjects'),\n      changed = [ context.element ]; // this will not change any diagram-js elements\n\n\n  var childObjects = [];\n  var self = this;\n\n  // create new array of business objects\n  forEach(newObjects, function(obj) {\n    var element = elementHelper.createElement(obj.type, obj.properties, currentObject, self._bpmnFactory);\n\n    childObjects.push(element);\n  });\n  context.childObject = childObjects;\n\n  // adjust array reference in the parent business object\n  context.previousChilds = currentObject[propertyName];\n  currentObject[propertyName] = childObjects;\n\n  context.changed = changed;\n\n  // indicate changed on objects affected by the update\n  return changed;\n};\n\n/**\n * Reverts the update\n *\n * @method  CreateBusinessObjectListHandler#revert\n *\n * @param {Object} context\n *\n * @return {djs.mode.Base} the updated element\n */\nCreateBusinessObjectListHandler.prototype.revert = function(context) {\n\n  var currentObject = context.currentObject,\n      propertyName = context.propertyName,\n      previousChilds = context.previousChilds;\n\n  // remove new element\n  currentObject.set(propertyName, previousChilds);\n\n  return context.changed;\n};\n","'use strict';\n\nvar forEach = require('lodash/forEach');\n\n/**\n * A handler that implements a BPMN 2.0 property update\n * for business object lists which are not represented in the\n * diagram.\n *\n * This is useful in the context of the properties panel in\n * order to update child elements of elements visible in\n * the diagram.\n *\n * Example: perform an update of a specific event definition\n * of an intermediate event.\n *\n * @class\n * @constructor\n */\nfunction UpdateBusinessObjectListHandler(elementRegistry, bpmnFactory) {\n  this._elementRegistry = elementRegistry;\n  this._bpmnFactory = bpmnFactory;\n}\n\nUpdateBusinessObjectListHandler.$inject = [ 'elementRegistry', 'bpmnFactory' ];\n\nmodule.exports = UpdateBusinessObjectListHandler;\n\nfunction ensureNotNull(prop, name) {\n  if (!prop) {\n    throw new Error(name + 'required');\n  }\n  return prop;\n}\n\n// api /////////////////////////////////////////////\n\n/**\n * Updates a element under a provided parent.\n */\nUpdateBusinessObjectListHandler.prototype.execute = function(context) {\n\n  var currentObject = ensureNotNull(context.currentObject, 'currentObject'),\n      propertyName = ensureNotNull(context.propertyName, 'propertyName'),\n      updatedObjectList = context.updatedObjectList,\n      objectsToRemove = context.objectsToRemove || [],\n      objectsToAdd = context.objectsToAdd || [],\n      objectsToPrepend = context.objectsToPrepend || [],\n      changed = [ context.element], // this will not change any diagram-js elements\n      referencePropertyName;\n\n  if (context.referencePropertyName) {\n    referencePropertyName = context.referencePropertyName;\n  }\n\n  var objectList = currentObject[propertyName];\n\n  // adjust array reference in the parent business object\n  context.previousList = currentObject[propertyName];\n\n  if (updatedObjectList) {\n    currentObject[propertyName] = updatedObjectList;\n  } else {\n\n    // start with objects to prepend\n    var listCopy = objectsToPrepend.slice();\n\n    // remove all objects which should be removed\n    forEach(objectList, function(object) {\n      if (objectsToRemove.indexOf(object) == -1) {\n        listCopy.push(object);\n      }\n    });\n\n    // add all objects which should be added\n    listCopy = listCopy.concat(objectsToAdd);\n\n    // set property to new list\n    if (listCopy.length > 0 || !referencePropertyName) {\n\n      // as long as there are elements in the list update the list\n      currentObject[propertyName] = listCopy;\n    } else if (referencePropertyName) {\n\n      // remove the list when it is empty\n      var parentObject = currentObject.$parent;\n      parentObject.set(referencePropertyName, undefined);\n    }\n  }\n\n  context.changed = changed;\n\n  // indicate changed on objects affected by the update\n  return changed;\n};\n\n/**\n * Reverts the update\n *\n * @method  CreateBusinessObjectListHandler#revert\n *\n * @param {Object} context\n *\n * @return {djs.mode.Base} the updated element\n */\nUpdateBusinessObjectListHandler.prototype.revert = function(context) {\n\n  var currentObject = context.currentObject,\n      propertyName = context.propertyName,\n      previousList = context.previousList,\n      parentObject = currentObject.$parent;\n\n  if (context.referencePropertyName) {\n    parentObject.set(context.referencePropertyName, currentObject);\n  }\n\n  // remove new element\n  currentObject.set(propertyName, previousList);\n\n  return context.changed;\n};\n","'use strict';\n\nvar forEach = require('lodash/forEach');\n\n/**\n * A handler that combines and executes multiple commands.\n *\n * All updates are bundled on the command stack and executed in one step.\n * This also makes it possible to revert the changes in one step.\n *\n * Example use case: remove the camunda:formKey attribute and in addition\n * add all form fields needed for the camunda:formData property.\n *\n * @class\n * @constructor\n */\nfunction MultiCommandHandler(commandStack) {\n  this._commandStack = commandStack;\n}\n\nMultiCommandHandler.$inject = [ 'commandStack' ];\n\nmodule.exports = MultiCommandHandler;\n\nMultiCommandHandler.prototype.preExecute = function(context) {\n\n  var commandStack = this._commandStack;\n\n  forEach(context, function(command) {\n    commandStack.execute(command.cmd, command.context);\n  });\n};","'use strict';\n\nvar createDropdown = require('./Utils').createDropdown,\n    escapeHTML = require('./Utils').escapeHTML;\n\nvar domify = require('min-dom').domify,\n    domQuery = require('min-dom').query,\n    domQueryAll = require('min-dom').queryAll,\n    domRemove = require('min-dom').remove,\n    domClasses = require('min-dom').classes,\n    domClosest = require('min-dom').closest,\n    domAttr = require('min-dom').attr,\n    domDelegate = require('min-dom').delegate,\n    domMatches = require('min-dom').matches;\n\nvar forEach = require('lodash/forEach'),\n    filter = require('lodash/filter'),\n    get = require('lodash/get'),\n    keys = require('lodash/keys'),\n    isEmpty = require('lodash/isEmpty'),\n    isArray = require('lodash/isArray'),\n    isFunction = require('lodash/isFunction'),\n    isObject = require('lodash/isObject'),\n    xor = require('lodash/xor'),\n    debounce = require('lodash/debounce'),\n    flattenDeep = require('lodash/flattenDeep'),\n    keyBy = require('lodash/keyBy'),\n    map = require('lodash/map'),\n    reduce = require('lodash/reduce');\n\nvar updateSelection = require('selection-update');\n\nvar scrollTabs = require('scroll-tabs').default;\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar HIDE_CLASS = 'bpp-hidden';\nvar DEBOUNCE_DELAY = 300;\n\n\nfunction isToggle(node) {\n  return node.type === 'checkbox' || node.type === 'radio';\n}\n\nfunction isSelect(node) {\n  return node.type === 'select-one';\n}\n\nfunction isContentEditable(node) {\n  return domAttr(node, 'contenteditable');\n}\n\nfunction getPropertyPlaceholders(node) {\n  var selector = 'input[name], textarea[name], [data-value], [contenteditable]';\n  var placeholders = domQueryAll(selector, node);\n  if ((!placeholders || !placeholders.length) && domMatches(node, selector)) {\n    placeholders = [ node ];\n  }\n  return placeholders;\n}\n\n/**\n * Return all active form controls.\n * This excludes the invisible controls unless all is true\n *\n * @param {Element} node\n * @param {Boolean} [all=false]\n */\nfunction getFormControls(node, all) {\n  var controls = domQueryAll('input[name], textarea[name], select[name], [contenteditable]', node);\n\n  if (!controls || !controls.length) {\n    controls = domMatches(node, 'option') ? [ node ] : controls;\n  }\n\n  if (!all) {\n    controls = filter(controls, function(node) {\n      return !domClosest(node, '.' + HIDE_CLASS);\n    });\n  }\n\n  return controls;\n}\n\nfunction getFormControlValuesInScope(entryNode) {\n  var values = {};\n\n  var controlNodes = getFormControls(entryNode);\n\n  forEach(controlNodes, function(controlNode) {\n    var value = controlNode.value;\n\n    var name = domAttr(controlNode, 'name') || domAttr(controlNode, 'data-name');\n\n    // take toggle state into account for radio / checkboxes\n    if (isToggle(controlNode)) {\n      if (controlNode.checked) {\n        if (!domAttr(controlNode, 'value')) {\n          value = true;\n        } else {\n          value = controlNode.value;\n        }\n      } else {\n        value = null;\n      }\n    } else\n    if (isContentEditable(controlNode)) {\n      value = controlNode.innerText;\n    }\n\n    if (value !== null) {\n\n      // return the actual value\n      // handle serialization in entry provider\n      // (ie. if empty string should be serialized or not)\n      values[name] = value;\n    }\n  });\n\n  return values;\n\n}\n\n/**\n * Extract input values from entry node\n *\n * @param  {DOMElement} entryNode\n * @returns {Object}\n */\nfunction getFormControlValues(entryNode) {\n\n  var values;\n\n  var listContainer = domQuery('[data-list-entry-container]', entryNode);\n  if (listContainer) {\n    values = [];\n    var listNodes = listContainer.children || [];\n    forEach(listNodes, function(listNode) {\n      values.push(getFormControlValuesInScope(listNode));\n    });\n  } else {\n    values = getFormControlValuesInScope(entryNode);\n  }\n\n  return values;\n}\n\n/**\n * Return true if the given form extracted value equals\n * to an old cached version.\n *\n * @param {Object} value\n * @param {Object} oldValue\n * @return {Boolean}\n */\nfunction valueEqual(value, oldValue) {\n\n  if (value && !oldValue) {\n    return false;\n  }\n\n  var allKeys = keys(value).concat(keys(oldValue));\n\n  return allKeys.every(function(key) {\n    return value[key] === oldValue[key];\n  });\n}\n\n/**\n * Return true if the given form extracted value(s)\n * equal an old cached version.\n *\n * @param {Array<Object>|Object} values\n * @param {Array<Object>|Object} oldValues\n * @return {Boolean}\n */\nfunction valuesEqual(values, oldValues) {\n\n  if (isArray(values)) {\n\n    if (values.length !== oldValues.length) {\n      return false;\n    }\n\n    return values.every(function(v, idx) {\n      return valueEqual(v, oldValues[idx]);\n    });\n  }\n\n  return valueEqual(values, oldValues);\n}\n\n/**\n * Return a mapping of { id: entry } for all entries in the given groups in the given tabs.\n *\n * @param {Object} tabs\n * @return {Object}\n */\nfunction extractEntries(tabs) {\n  return keyBy(flattenDeep(map(flattenDeep(map(tabs, 'groups')), 'entries')), 'id');\n}\n\n/**\n * Return a mapping of { id: group } for all groups in the given tabs.\n *\n * @param {Object} tabs\n * @return {Object}\n */\nfunction extractGroups(tabs) {\n  return keyBy(flattenDeep(map(tabs, 'groups')), 'id');\n}\n\n/**\n * A properties panel implementation.\n *\n * To use it provide a `propertiesProvider` component that knows\n * about which properties to display.\n *\n * Properties edit state / visibility can be intercepted\n * via a custom {@link PropertiesActivator}.\n *\n * @class\n * @constructor\n *\n * @param {Object} config\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {PropertiesProvider} propertiesProvider\n * @param {Canvas} canvas\n * @param {CommandStack} commandStack\n */\nfunction PropertiesPanel(config, eventBus, modeling, propertiesProvider, commandStack, canvas) {\n\n  this._eventBus = eventBus;\n  this._modeling = modeling;\n  this._commandStack = commandStack;\n  this._canvas = canvas;\n  this._propertiesProvider = propertiesProvider;\n\n  this._init(config);\n}\n\nPropertiesPanel.$inject = [\n  'config.propertiesPanel',\n  'eventBus',\n  'modeling',\n  'propertiesProvider',\n  'commandStack',\n  'canvas'\n];\n\nmodule.exports = PropertiesPanel;\n\n\nPropertiesPanel.prototype._init = function(config) {\n\n  var canvas = this._canvas,\n      eventBus = this._eventBus;\n\n  var self = this;\n\n  /**\n   * Select the root element once it is added to the canvas\n   */\n  eventBus.on('root.added', function(e) {\n    var element = e.element;\n\n    if (isImplicitRoot(element)) {\n      return;\n    }\n\n    self.update(element);\n  });\n\n  eventBus.on('selection.changed', function(e) {\n    var newElement = e.newSelection[0];\n\n    var rootElement = canvas.getRootElement();\n\n    if (isImplicitRoot(rootElement)) {\n      return;\n    }\n\n    self.update(newElement);\n  });\n\n  // add / update tab-bar scrolling\n  eventBus.on([\n    'propertiesPanel.changed',\n    'propertiesPanel.resized'\n  ], function(event) {\n\n    var tabBarNode = domQuery('.bpp-properties-tab-bar', self._container);\n\n    if (!tabBarNode) {\n      return;\n    }\n\n    var scroller = scrollTabs.get(tabBarNode);\n\n    if (!scroller) {\n\n      // we did not initialize yet, do that\n      // now and make sure we select the active\n      // tab on scroll update\n      scroller = scrollTabs(tabBarNode, {\n        selectors: {\n          tabsContainer: '.bpp-properties-tabs-links',\n          tab: '.bpp-properties-tabs-links li',\n          ignore: '.bpp-hidden',\n          active: '.bpp-active'\n        }\n      });\n\n\n      scroller.on('scroll', function(newActiveNode, oldActiveNode, direction) {\n\n        var linkNode = domQuery('[data-tab-target]', newActiveNode);\n\n        var tabId = domAttr(linkNode, 'data-tab-target');\n\n        self.activateTab(tabId);\n      });\n    }\n\n    // react on tab changes and or tabContainer resize\n    // and make sure the active tab is shown completely\n    scroller.update();\n  });\n\n  eventBus.on('elements.changed', function(e) {\n\n    var current = self._current;\n    var element = current && current.element;\n\n    if (element) {\n      if (e.elements.indexOf(element) !== -1) {\n        self.update(element);\n      }\n    }\n  });\n\n  eventBus.on('elementTemplates.changed', function() {\n    var current = self._current;\n    var element = current && current.element;\n\n    if (element) {\n      self.update(element);\n    }\n  });\n\n  eventBus.on('diagram.destroy', function() {\n    self.detach();\n  });\n\n  this._container = domify('<div class=\"bpp-properties-panel\"></div>');\n\n  this._bindListeners(this._container);\n\n  if (config && config.parent) {\n    this.attachTo(config.parent);\n  }\n};\n\n\nPropertiesPanel.prototype.attachTo = function(parentNode) {\n\n  if (!parentNode) {\n    throw new Error('parentNode required');\n  }\n\n  // ensure we detach from the\n  // previous, old parent\n  this.detach();\n\n  // unwrap jQuery if provided\n  if (parentNode.get && parentNode.constructor.prototype.jquery) {\n    parentNode = parentNode.get(0);\n  }\n\n  if (typeof parentNode === 'string') {\n    parentNode = domQuery(parentNode);\n  }\n\n  var container = this._container;\n\n  parentNode.appendChild(container);\n\n  this._emit('attach');\n};\n\nPropertiesPanel.prototype.detach = function() {\n\n  var container = this._container,\n      parentNode = container.parentNode;\n\n  if (!parentNode) {\n    return;\n  }\n\n  this._emit('detach');\n\n  parentNode.removeChild(container);\n};\n\n\n/**\n * Activate tab. Fall back to first visible tab.\n *\n * @param {Object|string} tabId\n */\nPropertiesPanel.prototype.activateTab = function(tabId) {\n  if (isObject(tabId)) {\n    tabId = tabId.id;\n  }\n\n  var tabs = domQueryAll('.bpp-properties-tab', this._current.panel),\n      tabLinks = domQueryAll('.bpp-properties-tab-link', this._current.panel);\n\n  // (1) Deactivate all tabs\n  forEach(tabs, function(tab) {\n    domClasses(tab).remove('bpp-active');\n  });\n\n  forEach(tabLinks, function(tabLink) {\n    domClasses(tabLink).remove('bpp-active');\n  });\n\n  // (2) Activate tab, fall back to first visible tab\n  var visibleTabs = filter(tabs, function(tab) {\n    return !domClasses(tab).has(HIDE_CLASS);\n  });\n\n  var activeTab = reduce(visibleTabs, function(activeTab, tab) {\n    if (domAttr(tab, 'data-tab') === tabId) {\n      return tab;\n    }\n\n    return activeTab;\n  }, visibleTabs[ 0 ]);\n\n  if (activeTab) {\n    domClasses(activeTab).add('bpp-active');\n  }\n\n  var visibleTabLinks = filter(tabLinks, function(tabLink) {\n    return !domClasses(tabLink).has(HIDE_CLASS);\n  });\n\n  var activeTabLink = reduce(visibleTabLinks, function(activeTabLink, tabLink) {\n    if (domAttr(domQuery('a[data-tab-target]', tabLink), 'data-tab-target') === tabId) {\n      return tabLink;\n    }\n\n    return activeTabLink;\n  }, visibleTabLinks[ 0 ]);\n\n  if (activeTabLink) {\n    domClasses(activeTabLink).add('bpp-active');\n  }\n};\n\n/**\n * Update properties panel to show properties of element. Create new properties panel if no previous\n * properties panel, element has changed or element has not changed but entries have.\n *\n * @param {ModdleElement|undefined} element\n */\nPropertiesPanel.prototype.update = function(element) {\n\n  // (1) Fall back to root element\n  if (!element) {\n    element = this._canvas.getRootElement();\n  }\n\n  // (2) Get tabs\n  var tabs = this._propertiesProvider.getTabs(element);\n\n  var activeTabId,\n      activeTabNode;\n\n  if (this._current) {\n    activeTabNode = domQuery('.bpp-properties-tab.bpp-active', this._current.panel);\n\n    if (activeTabNode) {\n      activeTabId = domAttr(activeTabNode, 'data-tab');\n    }\n  }\n\n  // (3) Create new properties panel if necessary\n  if (!this._current\n    || this._current.element !== element\n    || this._entriesChanged(this._current.entries, extractEntries(tabs))) {\n\n    if (this._current) {\n      domRemove(this._current.panel);\n    }\n\n    this._current = this._create(element, tabs);\n  }\n\n  // (4) Update visibility of tabs, groups and entries\n  this._updateActivation(this._current);\n\n  // (5) Update active tab\n  if (activeTabId) {\n    this.activateTab(activeTabId);\n  } else {\n    this.activateTab(this._current.tabs[ 0 ]);\n  }\n\n  this._emit('changed');\n};\n\n\n/**\n * Check whether entries have changes.\n *\n * @param  {Array} prevEntries\n * @param  {Array} entries\n *\n * @returns {Boolean}\n */\nPropertiesPanel.prototype._entriesChanged = function(prevEntries, entries) {\n  var prevEntryIds = keys(prevEntries),\n      entryIds = keys(entries);\n\n  return !isEmpty(xor(prevEntryIds, entryIds));\n};\n\nPropertiesPanel.prototype._emit = function(event) {\n  this._eventBus.fire('propertiesPanel.' + event, { panel: this, current: this._current });\n};\n\nPropertiesPanel.prototype._bindListeners = function(container) {\n\n  var self = this;\n\n  // handles a change for a given event\n  var handleChange = function handleChange(event) {\n\n    // see if we handle a change inside a [data-entry] element.\n    // if not, drop out\n    var inputNode = event.delegateTarget,\n        entryNode = domClosest(inputNode, '[data-entry]'),\n        entryId, entry;\n\n    // change from outside a [data-entry] element, simply ignore\n    if (!entryNode) {\n      return;\n    }\n\n    entryId = domAttr(entryNode, 'data-entry');\n    entry = self.getEntry(entryId);\n\n    var values = getFormControlValues(entryNode);\n\n    if (event.type === 'change') {\n\n      // - if the \"data-on-change\" attribute is present and a value is changed,\n      //   then the associated action is performed.\n      // - if the associated action returns \"true\" then an update to the business\n      //   object is done\n      // - if it does not return \"true\", then only the DOM content is updated\n      var onChangeAction = domAttr(inputNode, 'data-on-change');\n\n      if (onChangeAction) {\n        var isEntryDirty = self.executeAction(entry, entryNode, onChangeAction, event);\n\n        if (!isEntryDirty) {\n          return self.update(self._current.element);\n        }\n      }\n    }\n    self.applyChanges(entry, values, entryNode);\n    self.updateState(entry, entryNode);\n  };\n\n  // debounce update only elements that are target of key events,\n  // i.e. INPUT and TEXTAREA. SELECTs will trigger an immediate update anyway.\n  domDelegate.bind(container, 'input, textarea, [contenteditable]', 'input', debounce(handleChange, DEBOUNCE_DELAY));\n  domDelegate.bind(container, 'input, textarea, select, [contenteditable]', 'change', handleChange);\n\n  // paste as plain text only\n  domDelegate.bind(container, '[contenteditable]', 'paste', handlePaste);\n\n  function handlePaste(event) {\n    var text = (event.clipboardData || window.clipboardData).getData('text');\n    document.execCommand('insertText', false, text);\n\n    event.preventDefault();\n  }\n\n  // handle key events\n  domDelegate.bind(container, 'select', 'keydown', function(e) {\n\n    // DEL\n    if (e.keyCode === 46) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  });\n\n  function handleSuggestItems(event) {\n\n    // triggers on all inputs\n    var inputNode = event.delegateTarget;\n\n    var entryNode = domClosest(inputNode, '[data-entry]');\n\n    // only work on data entries\n    if (!entryNode) {\n      return;\n    }\n\n    var action = domAttr(inputNode, 'data-auto-suggest'),\n        entryId = domAttr(entryNode, 'data-entry');\n\n    var entry = self.getEntry(entryId);\n\n    self.executeAction(entry, entryNode, action, event);\n  }\n\n  domDelegate.bind(container, '[data-auto-suggest]', 'input', handleSuggestItems, true);\n\n  domDelegate.bind(container, '[data-action]', 'click', function onClick(event) {\n\n    // triggers on all inputs\n    var inputNode = event.delegateTarget,\n        entryNode = domClosest(inputNode, '[data-entry]');\n\n    var actionId = domAttr(inputNode, 'data-action'),\n        entryId = domAttr(entryNode, 'data-entry');\n\n    var entry = self.getEntry(entryId);\n\n    var isEntryDirty = self.executeAction(entry, entryNode, actionId, event);\n\n    if (!isEntryDirty) {\n      return self.update(self._current.element);\n    }\n\n    var values = getFormControlValues(entryNode);\n\n    self.applyChanges(entry, values, entryNode);\n    self.updateState(entry, entryNode);\n  });\n\n  function handleInput(event, element) {\n\n    // triggers on all inputs\n    var inputNode = event.delegateTarget;\n\n    var entryNode = domClosest(inputNode, '[data-entry]');\n\n    // only work on data entries\n    if (!entryNode) {\n      return;\n    }\n\n    var eventHandlerId = domAttr(inputNode, 'data-blur'),\n        entryId = domAttr(entryNode, 'data-entry');\n\n    var entry = self.getEntry(entryId);\n\n    var isEntryDirty = self.executeAction(entry, entryNode, eventHandlerId, event);\n\n    if (isEntryDirty) {\n      var values = getFormControlValues(entryNode);\n\n      self.applyChanges(entry, values, entryNode);\n    }\n\n    self.updateState(entry, entryNode);\n  }\n\n  domDelegate.bind(container, '[data-blur]', 'blur', handleInput, true);\n\n  // make tab links interactive\n  domDelegate.bind(container, '.bpp-properties-tabs-links [data-tab-target]', 'click', function(event) {\n    event.preventDefault();\n\n    var delegateTarget = event.delegateTarget;\n\n    var tabId = domAttr(delegateTarget, 'data-tab-target');\n\n    // activate tab on link click\n    self.activateTab(tabId);\n  });\n\n};\n\nPropertiesPanel.prototype.updateState = function(entry, entryNode) {\n  this.updateShow(entry, entryNode);\n  this.updateDisable(entry, entryNode);\n};\n\n/**\n * Update the visibility of the entry node in the DOM\n */\nPropertiesPanel.prototype.updateShow = function(entry, node) {\n\n  var current = this._current;\n\n  if (!current) {\n    return;\n  }\n\n  var showNodes = domQueryAll('[data-show]', node) || [];\n\n  forEach(showNodes, function(showNode) {\n\n    var expr = domAttr(showNode, 'data-show');\n    var fn = get(entry, expr);\n    if (fn) {\n      var scope = domClosest(showNode, '[data-scope]') || node;\n      var shouldShow = fn(current.element, node, showNode, scope) || false;\n      if (shouldShow) {\n        domClasses(showNode).remove(HIDE_CLASS);\n      } else {\n        domClasses(showNode).add(HIDE_CLASS);\n      }\n    }\n  });\n};\n\n/**\n * Evaluates a given function. If it returns true, then the\n * node is marked as \"disabled\".\n */\nPropertiesPanel.prototype.updateDisable = function(entry, node) {\n  var current = this._current;\n\n  if (!current) {\n    return;\n  }\n\n  var nodes = domQueryAll('[data-disable]', node) || [];\n\n  forEach(nodes, function(currentNode) {\n    var expr = domAttr(currentNode, 'data-disable');\n    var fn = get(entry, expr);\n    if (fn) {\n      var scope = domClosest(currentNode, '[data-scope]') || node;\n      var shouldDisable = fn(current.element, node, currentNode, scope) || false;\n      domAttr(currentNode, 'disabled', shouldDisable ? '' : null);\n    }\n  });\n};\n\nPropertiesPanel.prototype.executeAction = function(entry, entryNode, actionId, event) {\n  var current = this._current;\n\n  if (!current) {\n    return;\n  }\n\n  var fn = get(entry, actionId);\n  if (fn) {\n    var scopeNode = domClosest(event.target, '[data-scope]') || entryNode;\n    return fn.apply(entry, [ current.element, entryNode, event, scopeNode ]);\n  }\n};\n\n/**\n * Apply changes to the business object by executing a command\n */\nPropertiesPanel.prototype.applyChanges = function(entry, values, containerElement) {\n\n  var element = this._current.element;\n\n  // ensure we only update the model if we got dirty changes\n  if (valuesEqual(values, entry.oldValues)) {\n    return;\n  }\n\n  var command = entry.set(element, values, containerElement);\n\nif(!command){\nreturn;\n}\n  var commandToExecute;\n  if (isArray(command)) {\n    if (command.length) {\n      commandToExecute = {\n        cmd: 'properties-panel.multi-command-executor',\n        context: flattenDeep(command)\n      };\n    }\n  } else {\n    commandToExecute = command;\n  }\n\n  if (commandToExecute) {\n    this._commandStack.execute(commandToExecute.cmd, commandToExecute.context || { element : element });\n  } else {\n    this.update(element);\n  }\n};\n\n\n/**\n * apply validation errors in the DOM and show or remove an error message near the entry node.\n */\nPropertiesPanel.prototype.applyValidationErrors = function(validationErrors, entryNode) {\n\n  var valid = true;\n\n  var controlNodes = getFormControls(entryNode, true);\n\n  forEach(controlNodes, function(controlNode) {\n\n    var name = domAttr(controlNode, 'name') || domAttr(controlNode, 'data-name');\n\n    var error = validationErrors && validationErrors[name];\n\n    var errorMessageNode = domQuery('.bpp-error-message', controlNode.parentNode);\n\n    if (error) {\n      valid = false;\n\n      if (!errorMessageNode) {\n        errorMessageNode = domify('<div></div>');\n\n        domClasses(errorMessageNode).add('bpp-error-message');\n\n        // insert errorMessageNode after controlNode\n        controlNode.parentNode.insertBefore(errorMessageNode, controlNode.nextSibling);\n      }\n\n      errorMessageNode.textContent = error;\n\n      domClasses(controlNode).add('invalid');\n    } else {\n      domClasses(controlNode).remove('invalid');\n\n      if (errorMessageNode) {\n        controlNode.parentNode.removeChild(errorMessageNode);\n      }\n    }\n  });\n\n  return valid;\n};\n\n\n/**\n * Check if the entry contains valid input\n */\nPropertiesPanel.prototype.validate = function(entry, values, entryNode) {\n  var self = this;\n\n  var current = this._current;\n\n  var valid = true;\n\n  entryNode = entryNode || domQuery('[data-entry=\"' + entry.id + '\"]', current.panel);\n\n  if (values instanceof Array) {\n    var listContainer = domQuery('[data-list-entry-container]', entryNode),\n        listEntryNodes = listContainer.children || [];\n\n    // create new elements\n    for (var i = 0; i < values.length; i++) {\n      var listValue = values[i];\n\n      if (entry.validateListItem) {\n\n        var validationErrors = entry.validateListItem(current.element, listValue, entryNode, i),\n            listEntryNode = listEntryNodes[i];\n\n        valid = self.applyValidationErrors(validationErrors, listEntryNode) && valid;\n      }\n    }\n  } else {\n    if (entry.validate) {\n      this.validationErrors = entry.validate(current.element, values, entryNode);\n\n      valid = self.applyValidationErrors(this.validationErrors, entryNode) && valid;\n    }\n  }\n\n  return valid;\n};\n\nPropertiesPanel.prototype.getEntry = function(id) {\n  return this._current && this._current.entries[id];\n};\n\nPropertiesPanel.prototype._create = function(element, tabs) {\n\n  if (!element) {\n    return null;\n  }\n\n  var containerNode = this._container;\n\n  var panelNode = this._createPanel(element, tabs);\n\n  containerNode.appendChild(panelNode);\n\n  var entries = extractEntries(tabs);\n  var groups = extractGroups(tabs);\n\n  return {\n    tabs: tabs,\n    groups: groups,\n    entries: entries,\n    element: element,\n    panel: panelNode\n  };\n};\n\n/**\n * Update variable parts of the entry node on element changes.\n *\n * @param {djs.model.Base} element\n * @param {EntryDescriptor} entry\n * @param {Object} values\n * @param {HTMLElement} entryNode\n * @param {Number} idx\n */\nPropertiesPanel.prototype._bindTemplate = function(element, entry, values, entryNode, idx) {\n\n  var eventBus = this._eventBus;\n\n  function isPropertyEditable(entry, propertyName) {\n    return eventBus.fire('propertiesPanel.isPropertyEditable', {\n      entry: entry,\n      propertyName: propertyName,\n      element: element\n    });\n  }\n\n  var inputNodes = getPropertyPlaceholders(entryNode);\n\n  forEach(inputNodes, function(node) {\n\n    var name,\n        newValue,\n        editable;\n\n    // we deal with an input element\n    if ('value' in node || isContentEditable(node) === 'true') {\n      name = domAttr(node, 'name') || domAttr(node, 'data-name');\n      newValue = values[name];\n\n      editable = isPropertyEditable(entry, name);\n      if (editable && entry.editable) {\n        editable = entry.editable(element, entryNode, node, name, newValue, idx);\n      }\n\n      domAttr(node, 'readonly', editable ? null : '');\n      domAttr(node, 'disabled', editable ? null : '');\n\n      // take full control over setting the value\n      // and possibly updating the input in entry#setControlValue\n      if (entry.setControlValue) {\n        entry.setControlValue(element, entryNode, node, name, newValue, idx);\n      } else if (isToggle(node)) {\n        setToggleValue(node, newValue);\n      } else if (isSelect(node)) {\n        setSelectValue(node, newValue);\n      } else {\n        setInputValue(node, newValue);\n      }\n    }\n\n    // we deal with some non-editable html element\n    else {\n      name = domAttr(node, 'data-value');\n      newValue = values[name];\n      if (entry.setControlValue) {\n        entry.setControlValue(element, entryNode, node, name, newValue, idx);\n      } else {\n        setTextValue(node, newValue);\n      }\n    }\n  });\n};\n\n// TODO(nikku): WTF freaking name? Change / clarify.\nPropertiesPanel.prototype._updateActivation = function(current) {\n  var self = this;\n\n  var eventBus = this._eventBus;\n\n  var element = current.element;\n\n  function isEntryVisible(entry, group, tab) {\n    return eventBus.fire('propertiesPanel.isEntryVisible', {\n      element: element,\n      entry: entry,\n      group: group,\n      tab: tab\n    });\n  }\n\n  function isGroupVisible(group, element, groupNode) {\n    if (isFunction(group.enabled)) {\n      return group.enabled(element, groupNode);\n    } else {\n      return true;\n    }\n  }\n\n  function isTabVisible(tab, element) {\n    if (isFunction(tab.enabled)) {\n      return tab.enabled(element);\n    } else {\n      return true;\n    }\n  }\n\n  function toggleVisible(node, visible) {\n    domClasses(node).toggle(HIDE_CLASS, !visible);\n  }\n\n  function updateLabel(element, selector, text) {\n    var labelNode = domQuery(selector, element);\n\n    if (!labelNode) {\n      return;\n    }\n\n    labelNode.textContent = text;\n  }\n\n  var panelNode = current.panel;\n\n  forEach(current.tabs, function(tab) {\n\n    var tabNode = domQuery('[data-tab=' + tab.id + ']', panelNode);\n    var tabLinkNode = domQuery('[data-tab-target=' + tab.id + ']', panelNode).parentNode;\n\n    var tabVisible = false;\n\n    forEach(tab.groups, function(group) {\n\n      var groupVisible = false;\n\n      var groupNode = domQuery('[data-group=' + group.id + ']', tabNode);\n\n      forEach(group.entries, function(entry) {\n\n        var entryNode = domQuery('[data-entry=\"' + entry.id + '\"]', groupNode);\n\n        var entryVisible = isEntryVisible(entry, group, tab);\n\n        groupVisible = groupVisible || entryVisible;\n\n        toggleVisible(entryNode, entryVisible);\n\n        var values = 'get' in entry ? entry.get(element, entryNode) : {};\n\n        if (values instanceof Array) {\n          var listEntryContainer = domQuery('[data-list-entry-container]', entryNode);\n          var existingElements = listEntryContainer.children || [];\n\n          for (var i = 0; i < values.length; i++) {\n            var listValue = values[i];\n            var listItemNode = existingElements[i];\n            if (!listItemNode) {\n              listItemNode = domify(entry.createListEntryTemplate(listValue, i, listEntryContainer));\n              listEntryContainer.appendChild(listItemNode);\n            }\n            domAttr(listItemNode, 'data-index', i);\n\n            self._bindTemplate(element, entry, listValue, listItemNode, i);\n          }\n\n          var entriesToRemove = existingElements.length - values.length;\n\n          for (var j = 0; j < entriesToRemove; j++) {\n\n            // remove orphaned element\n            listEntryContainer.removeChild(listEntryContainer.lastChild);\n          }\n\n        } else {\n          self._bindTemplate(element, entry, values, entryNode);\n        }\n\n        // update conditionally visible elements\n        self.updateState(entry, entryNode);\n        self.validate(entry, values, entryNode);\n\n        // remember initial state for later dirty checking\n        entry.oldValues = getFormControlValues(entryNode);\n      });\n\n      if (typeof group.label === 'function') {\n        updateLabel(groupNode, '.group-label', group.label(element, groupNode));\n      }\n\n      groupVisible = groupVisible && isGroupVisible(group, element, groupNode);\n\n      tabVisible = tabVisible || groupVisible;\n\n      toggleVisible(groupNode, groupVisible);\n    });\n\n    tabVisible = tabVisible && isTabVisible(tab, element);\n\n    toggleVisible(tabNode, tabVisible);\n    toggleVisible(tabLinkNode, tabVisible);\n  });\n\n  // inject elements id into header\n  updateLabel(panelNode, '[data-label-id]', getBusinessObject(element).id || '');\n};\n\nPropertiesPanel.prototype._createPanel = function(element, tabs) {\n  var self = this;\n\n  var panelNode = domify('<div class=\"bpp-properties\"></div>'),\n      headerNode = domify('<div class=\"bpp-properties-header\">' +\n        '<div class=\"label\" data-label-id></div>' +\n      '</div>'),\n      tabBarNode = domify('<div class=\"bpp-properties-tab-bar\"></div>'),\n      tabLinksNode = domify('<ul class=\"bpp-properties-tabs-links\"></ul>'),\n      tabContainerNode = domify('<div class=\"bpp-properties-tabs-container\"></div>');\n\n  panelNode.appendChild(headerNode);\n\n  forEach(tabs, function(tab, tabIndex) {\n\n    if (!tab.id) {\n      throw new Error('tab must have an id');\n    }\n\n    var tabNode = domify('<div class=\"bpp-properties-tab\" data-tab=\"' + escapeHTML(tab.id) + '\"></div>'),\n        tabLinkNode = domify('<li class=\"bpp-properties-tab-link\">' +\n          '<a href data-tab-target=\"' + escapeHTML(tab.id) + '\">' + escapeHTML(tab.label) + '</a>' +\n        '</li>');\n\n    var groups = tab.groups;\n\n    forEach(groups, function(group) {\n\n      if (!group.id) {\n        throw new Error('group must have an id');\n      }\n\n      var groupNode = domify('<div class=\"bpp-properties-group\" data-group=\"' + escapeHTML(group.id) + '\">' +\n          '<span class=\"group-toggle\"></span>' +\n          '<div class=\"group-header\">' +\n            '<span class=\"group-label\">' + escapeHTML(group.label) + '</span>' +\n          '</div>' +\n        '</div>');\n\n      if (group.dropdown) {\n        domQuery('.group-header', groupNode).appendChild(createDropdown(group.dropdown));\n      }\n\n      // TODO(nre): use event delegation to handle that...\n      groupNode.querySelector('.group-toggle').addEventListener('click', function(evt) {\n        domClasses(groupNode).toggle('group-closed');\n        evt.preventDefault();\n        evt.stopPropagation();\n      });\n      groupNode.addEventListener('click', function(evt) {\n        if (!evt.defaultPrevented && domClasses(groupNode).has('group-closed')) {\n          domClasses(groupNode).remove('group-closed');\n        }\n      });\n\n      forEach(group.entries, function(entry) {\n\n        if (!entry.id) {\n          throw new Error('entry must have an id');\n        }\n\n        var html = entry.html;\n\n        if (typeof html === 'string') {\n          html = domify(html);\n        }\n\n        // unwrap jquery\n        if (html.get && html.constructor.prototype.jquery) {\n          html = html.get(0);\n        }\n\n        var entryNode = domify('<div class=\"bpp-properties-entry\" data-entry=\"' + escapeHTML(entry.id) + '\"></div>');\n\n        forEach(entry.cssClasses || [], function(cssClass) {\n          domClasses(entryNode).add(cssClass);\n        });\n\n        entryNode.appendChild(html);\n\n        groupNode.appendChild(entryNode);\n\n        // update conditionally visible elements\n        self.updateState(entry, entryNode);\n      });\n\n      tabNode.appendChild(groupNode);\n    });\n\n    tabLinksNode.appendChild(tabLinkNode);\n    tabContainerNode.appendChild(tabNode);\n  });\n\n  tabBarNode.appendChild(tabLinksNode);\n\n  panelNode.appendChild(tabBarNode);\n  panelNode.appendChild(tabContainerNode);\n\n  return panelNode;\n};\n\n\n\nfunction setInputValue(node, value) {\n\n  var contentEditable = isContentEditable(node);\n\n  var oldValue = contentEditable ? node.innerText : node.value;\n\n  var selection;\n\n  // prevents input fields from having the value 'undefined'\n  if (value === undefined) {\n    value = '';\n  }\n\n  if (oldValue === value) {\n    return;\n  }\n\n  // update selection on undo/redo\n  if (document.activeElement === node) {\n    selection = updateSelection(getSelection(node), oldValue, value);\n  }\n\n  if (contentEditable) {\n    node.innerText = value;\n  } else {\n    node.value = value;\n  }\n\n  if (selection) {\n    setSelection(node, selection);\n  }\n}\n\nfunction setSelectValue(node, value) {\n  if (value !== undefined) {\n    node.value = value;\n  }\n}\n\nfunction setToggleValue(node, value) {\n  var nodeValue = node.value;\n\n  node.checked = (value === nodeValue) || (!domAttr(node, 'value') && value);\n}\n\nfunction setTextValue(node, value) {\n  node.textContent = value;\n}\n\nfunction getSelection(node) {\n\n  return isContentEditable(node) ? getContentEditableSelection(node) : {\n    start: node.selectionStart,\n    end: node.selectionEnd\n  };\n}\n\nfunction getContentEditableSelection(node) {\n\n  var selection = window.getSelection();\n\n  var focusNode = selection.focusNode,\n      focusOffset = selection.focusOffset,\n      anchorOffset = selection.anchorOffset;\n\n  if (!focusNode) {\n    throw new Error('not selected');\n  }\n\n  // verify we have selection on the current element\n  if (!node.contains(focusNode)) {\n    throw new Error('not selected');\n  }\n\n  return {\n    start: Math.min(focusOffset, anchorOffset),\n    end: Math.max(focusOffset, anchorOffset)\n  };\n}\n\nfunction setSelection(node, selection) {\n\n  if (isContentEditable(node)) {\n    setContentEditableSelection(node, selection);\n  } else {\n    node.selectionStart = selection.start;\n    node.selectionEnd = selection.end;\n  }\n}\n\nfunction setContentEditableSelection(node, selection) {\n\n  var focusNode,\n      domRange,\n      domSelection;\n\n  focusNode = node.firstChild || node,\n  domRange = document.createRange();\n  domRange.setStart(focusNode, selection.start);\n  domRange.setEnd(focusNode, selection.end);\n\n  domSelection = window.getSelection();\n  domSelection.removeAllRanges();\n  domSelection.addRange(domRange);\n}\n\nfunction isImplicitRoot(element) {\n  return element.id === '__implicitroot';\n}","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","var arrayFilter = require('./_arrayFilter'),\n    baseRest = require('./_baseRest'),\n    baseXor = require('./_baseXor'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values that is the\n * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n * of the given arrays. The order of result values is determined by the order\n * they occur in the arrays.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.without\n * @example\n *\n * _.xor([2, 1], [2, 3]);\n * // => [1, 3]\n */\nvar xor = baseRest(function(arrays) {\n  return baseXor(arrayFilter(arrays, isArrayLikeObject));\n});\n\nmodule.exports = xor;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * The base implementation of methods like `_.xor`, without support for\n * iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of values.\n */\nfunction baseXor(arrays, iteratee, comparator) {\n  var length = arrays.length;\n  if (length < 2) {\n    return length ? baseUniq(arrays[0]) : [];\n  }\n  var index = -1,\n      result = Array(length);\n\n  while (++index < length) {\n    var array = arrays[index],\n        othIndex = -1;\n\n    while (++othIndex < length) {\n      if (othIndex != index) {\n        result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n      }\n    }\n  }\n  return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n}\n\nmodule.exports = baseXor;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var arrayReduce = require('./_arrayReduce'),\n    baseEach = require('./_baseEach'),\n    baseIteratee = require('./_baseIteratee'),\n    baseReduce = require('./_baseReduce'),\n    isArray = require('./isArray');\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` thru `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given, the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduceRight\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nmodule.exports = reduce;\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseReduce;\n","module.exports = {\n  __depends__: [\n    require('./cmd'),\n    require('diagram-js/lib/i18n/translate').default\n  ],\n  __init__: [\n    'customElementsPropertiesActivator',\n    'elementTemplatesLoader',\n    'replaceBehavior'\n  ],\n  customElementsPropertiesActivator: [ 'type', require('./CustomElementsPropertiesActivator') ],\n  elementTemplates: [ 'type', require('./ElementTemplates') ],\n  elementTemplatesLoader: [ 'type', require('./ElementTemplatesLoader') ],\n  replaceBehavior: [ 'type', require('./ReplaceBehavior') ],\n};\n","'use strict';\n\nvar ChangeElementTemplateHandler = require('./ChangeElementTemplateHandler');\n\nfunction registerHandlers(commandStack, elementTemplates, eventBus) {\n  commandStack.registerHandler(\n    'propertiesPanel.camunda.changeTemplate',\n    ChangeElementTemplateHandler\n  );\n\n  // apply default element templates on shape creation\n  eventBus.on([ 'commandStack.shape.create.postExecuted' ], function(context) {\n    applyDefaultTemplate(context.context.shape, elementTemplates, commandStack);\n  });\n\n  // apply default element templates on connection creation\n  eventBus.on([ 'commandStack.connection.create.postExecuted' ], function(context) {\n    applyDefaultTemplate(context.context.connection, elementTemplates, commandStack);\n  });\n}\n\nregisterHandlers.$inject = [ 'commandStack', 'elementTemplates', 'eventBus' ];\n\n\nmodule.exports = {\n  __init__: [ registerHandlers ]\n};\n\n\nfunction applyDefaultTemplate(element, elementTemplates, commandStack) {\n\n  if (!elementTemplates.get(element) && elementTemplates.getDefault(element)) {\n\n    var command = 'propertiesPanel.camunda.changeTemplate';\n    var commandContext = {\n      element: element,\n      newTemplate: elementTemplates.getDefault(element)\n    };\n\n    commandStack.execute(command, commandContext);\n  }\n}\n","'use strict';\n\nvar findExtension = require('../Helper').findExtension,\n    findExtensions = require('../Helper').findExtensions;\n\nvar createCamundaExecutionListenerScript = require('../CreateHelper').createCamundaExecutionListenerScript,\n    createCamundaFieldInjection = require('../CreateHelper').createCamundaFieldInjection,\n    createCamundaIn = require('../CreateHelper').createCamundaIn,\n    createCamundaInWithBusinessKey = require('../CreateHelper').createCamundaInWithBusinessKey,\n    createCamundaOut = require('../CreateHelper').createCamundaOut,\n    createCamundaProperty = require('../CreateHelper').createCamundaProperty,\n    createInputParameter = require('../CreateHelper').createInputParameter,\n    createOutputParameter = require('../CreateHelper').createOutputParameter;\n\nvar EventDefinitionHelper = require('../../../../helper/EventDefinitionHelper');\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny;\n\nvar find = require('lodash/find'),\n    forEach = require('lodash/forEach'),\n    isString = require('lodash/isString'),\n    keys = require('lodash/keys'),\n    remove = require('lodash/remove');\n\nvar CAMUNDA_SERVICE_TASK_LIKE = [\n  'camunda:class',\n  'camunda:delegateExpression',\n  'camunda:expression'\n];\n\n/**\n * Applies an element template to an element. Sets `camunda:modelerTemplate` and\n * `camunda:modelerTemplateVersion`.\n */\nfunction ChangeElementTemplateHandler(bpmnFactory, commandStack, modeling) {\n  this._bpmnFactory = bpmnFactory;\n  this._commandStack = commandStack;\n  this._modeling = modeling;\n}\n\nChangeElementTemplateHandler.$inject = [\n  'bpmnFactory',\n  'commandStack',\n  'modeling'\n];\n\nmodule.exports = ChangeElementTemplateHandler;\n\n/**\n   * Change an element's template and update its properties as specified in `newTemplate`. Specify\n   * `oldTemplate` to update from one template to another. If `newTemplate` isn't specified the\n   * `camunda:modelerTemplate` and `camunda:modelerTemplateVersion` properties will be removed from\n   * the element.\n   *\n   * @param {Object} context\n   * @param {Object} context.element\n   * @param {Object} [context.oldTemplate]\n   * @param {Object} [context.newTemplate]\n   */\nChangeElementTemplateHandler.prototype.preExecute = function(context) {\n  var element = context.element,\n      newTemplate = context.newTemplate,\n      oldTemplate = context.oldTemplate;\n\n  var self = this;\n\n  // Update camunda:modelerTemplate attribute\n  this._updateCamundaModelerTemplate(element, newTemplate);\n\n  if (newTemplate) {\n\n    // Update properties\n    this._updateProperties(element, oldTemplate, newTemplate);\n\n    // Update camunda:ExecutionListener properties\n    this._updateCamundaExecutionListenerProperties(element, newTemplate);\n\n    // Update camunda:Field properties\n    this._updateCamundaFieldProperties(element, oldTemplate, newTemplate);\n\n    // Update camunda:In and camunda:Out properties\n    this._updateCamundaInOutProperties(element, oldTemplate, newTemplate);\n\n    // Update camunda:InputParameter and camunda:OutputParameter properties\n    this._updateCamundaInputOutputParameterProperties(element, oldTemplate, newTemplate);\n\n    // Update camunda:Property properties\n    this._updateCamundaPropertyProperties(element, oldTemplate, newTemplate);\n\n    // Update properties for each scope\n    forEach(newTemplate.scopes, function(newScopeTemplate, scopeName) {\n      self._updateScopeProperties(element, scopeName, oldTemplate, newScopeTemplate);\n    });\n\n  }\n};\n\nChangeElementTemplateHandler.prototype._getOrCreateExtensionElements = function(element) {\n  var bpmnFactory = this._bpmnFactory,\n      modeling = this._modeling;\n\n  var businessObject = getBusinessObject(element);\n\n  var extensionElements = businessObject.get('extensionElements');\n\n  if (!extensionElements) {\n    extensionElements = bpmnFactory.create('bpmn:ExtensionElements', {\n      values: []\n    });\n\n    modeling.updateProperties(element, {\n      extensionElements: extensionElements\n    });\n  }\n\n  return extensionElements;\n};\n\n/**\n * Update `camunda:ExecutionListener` properties of specified business object. Execution listeners\n * will always be overridden. Execution listeners can only exist in `bpmn:ExtensionElements`.\n *\n * @param {djs.model.Base} element\n * @param {Object} newTemplate\n */\nChangeElementTemplateHandler.prototype._updateCamundaExecutionListenerProperties = function(element, newTemplate) {\n  var bpmnFactory = this._bpmnFactory,\n      commandStack = this._commandStack;\n\n  var newProperties = newTemplate.properties.filter(function(newProperty) {\n    var newBinding = newProperty.binding,\n        newBindingType = newBinding.type;\n\n    return newBindingType === 'camunda:executionListener';\n  });\n\n  // (1) Do not override old execution listeners if no new execution listeners specified\n  if (!newProperties.length) {\n    return;\n  }\n\n  var businessObject = this._getOrCreateExtensionElements(element);\n\n  // (2) Remove old execution listeners\n  var oldExecutionListeners = findExtensions(element, [ 'camunda:ExecutionListener' ]);\n\n  // (3) Add new execution listeners\n  var newExecutionListeners = newProperties.map(function(newProperty) {\n    var newBinding = newProperty.binding,\n        propertyValue = newProperty.value;\n\n    return createCamundaExecutionListenerScript(newBinding, propertyValue, bpmnFactory);\n  });\n\n  commandStack.execute('properties-panel.update-businessobject-list', {\n    element: element,\n    currentObject: businessObject,\n    propertyName: 'values',\n    objectsToAdd: newExecutionListeners,\n    objectsToRemove: oldExecutionListeners\n  });\n};\n\n/**\n * Update `camunda:Field` properties of specified business object.\n * If business object is `camunda:ExecutionListener` or `camunda:TaskListener` `fields` property\n * will be updated. Otherwise `extensionElements.values` property will be updated.\n *\n * @param {djs.model.Base} element\n * @param {Object} oldTemplate\n * @param {Object} newTemplate\n * @param {ModdleElement} businessObject\n */\nChangeElementTemplateHandler.prototype._updateCamundaFieldProperties = function(element, oldTemplate, newTemplate, businessObject) {\n  var bpmnFactory = this._bpmnFactory,\n      commandStack = this._commandStack;\n\n  var newProperties = newTemplate.properties.filter(function(newProperty) {\n    var newBinding = newProperty.binding,\n        newBindingType = newBinding.type;\n\n    return newBindingType === 'camunda:field';\n  });\n\n  // (1) Do not override old fields if no new fields specified\n  if (!newProperties.length) {\n    return;\n  }\n\n  if (!businessObject) {\n    businessObject = this._getOrCreateExtensionElements(element);\n  }\n\n  var propertyName = isAny(businessObject, [ 'camunda:ExecutionListener', 'camunda:TaskListener' ])\n    ? 'fields'\n    : 'values';\n\n  var oldFields = findExtensions(element, [ 'camunda:Field' ]);\n\n  newProperties.forEach(function(newProperty) {\n    var oldProperty = findOldProperty(oldTemplate, newProperty),\n        oldField = oldProperty && findOldBusinessObject(businessObject, oldProperty),\n        newBinding = newProperty.binding;\n\n    // (2) Update old fields\n    if (oldProperty && oldField) {\n\n      if (!propertyChanged(oldField, oldProperty)) {\n        commandStack.execute('properties-panel.update-businessobject', {\n          element: element,\n          businessObject: oldField,\n          properties: {\n            string: newProperty.value\n          }\n        });\n      }\n\n      remove(oldFields, oldField);\n    }\n\n    // (3) Add new fields\n    else {\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: businessObject,\n        propertyName: propertyName,\n        objectsToAdd: [ createCamundaFieldInjection(newBinding, newProperty.value, bpmnFactory) ],\n        objectsToRemove: []\n      });\n    }\n  });\n\n  // (4) Remove old fields\n  if (oldFields.length) {\n    commandStack.execute('properties-panel.update-businessobject-list', {\n      element: element,\n      currentObject: businessObject,\n      propertyName: propertyName,\n      objectsToAdd: [],\n      objectsToRemove: oldFields\n    });\n  }\n};\n\n/**\n * Update `camunda:In` and `camunda:Out` properties of specified business object. Only\n * `bpmn:CallActivity` and events with `bpmn:SignalEventDefinition` can have ins. Only\n * `camunda:CallActivity` can have outs.\n *\n * @param {djs.model.Base} element\n * @param {Object} oldTemplate\n * @param {Object} newTemplate\n */\nChangeElementTemplateHandler.prototype._updateCamundaInOutProperties = function(element, oldTemplate, newTemplate) {\n  var bpmnFactory = this._bpmnFactory,\n      commandStack = this._commandStack;\n\n  var newProperties = newTemplate.properties.filter(function(newProperty) {\n    var newBinding = newProperty.binding,\n        newBindingType = newBinding.type;\n\n    return newBindingType === 'camunda:in'\n      || newBindingType === 'camunda:in:businessKey'\n      || newBindingType === 'camunda:out';\n  });\n\n  // (1) Do not override old fields if no new fields specified\n  if (!newProperties.length) {\n    return;\n  }\n\n  // Get extension elements of either signal event definition or call activity\n  var businessObject = this._getOrCreateExtensionElements(\n    EventDefinitionHelper.getSignalEventDefinition(element) || element);\n\n  var oldInsAndOuts = findExtensions(businessObject, [ 'camunda:In', 'camunda:Out' ]);\n\n  newProperties.forEach(function(newProperty) {\n    var oldProperty = findOldProperty(oldTemplate, newProperty),\n        oldBinding = oldProperty && oldProperty.binding,\n        oldInOurOut = oldProperty && findOldBusinessObject(businessObject, oldProperty),\n        newPropertyValue = newProperty.value,\n        newBinding = newProperty.binding,\n        newBindingType = newBinding.type,\n        newInOrOut,\n        properties = {};\n\n    // (2) Update old ins and outs\n    if (oldProperty && oldInOurOut) {\n\n      if (!propertyChanged(oldInOurOut, oldProperty)) {\n        if (newBindingType === 'camunda:in') {\n          if (newBinding.expression) {\n            properties[ 'camunda:sourceExpression' ] = newPropertyValue;\n          } else {\n            properties[ 'camunda:source' ] = newPropertyValue;\n          }\n        } else if (newBindingType === 'camunda:in:businessKey') {\n          properties[ 'camunda:businessKey' ] = newPropertyValue;\n        } else if (newBindingType === 'camunda:out') {\n          properties[ 'camunda:target' ] = newPropertyValue;\n        }\n      }\n\n      // Update `camunda:local` property if it changed\n      if ((oldBinding.local && !newBinding.local) || !oldBinding.local && newBinding.local) {\n        properties.local = newBinding.local;\n      }\n\n      if (keys(properties)) {\n        commandStack.execute('properties-panel.update-businessobject', {\n          element: element,\n          businessObject: oldInOurOut,\n          properties: properties\n        });\n      }\n\n      remove(oldInsAndOuts, oldInOurOut);\n    }\n\n    // (3) Add new ins and outs\n    else {\n      if (newBindingType === 'camunda:in') {\n        newInOrOut = createCamundaIn(newBinding, newPropertyValue, bpmnFactory);\n      } else if (newBindingType === 'camunda:out') {\n        newInOrOut = createCamundaOut(newBinding, newPropertyValue, bpmnFactory);\n      } else if (newBindingType === 'camunda:in:businessKey') {\n        newInOrOut = createCamundaInWithBusinessKey(newBinding, newPropertyValue, bpmnFactory);\n      }\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: businessObject,\n        propertyName: 'values',\n        objectsToAdd: [ newInOrOut ],\n        objectsToRemove: []\n      });\n    }\n  });\n\n  // (4) Remove old ins and outs\n  if (oldInsAndOuts.length) {\n    commandStack.execute('properties-panel.update-businessobject-list', {\n      element: element,\n      currentObject: businessObject,\n      propertyName: 'values',\n      objectsToAdd: [],\n      objectsToRemove: oldInsAndOuts\n    });\n  }\n};\n\n/**\n * Update `camunda:InputParameter` and `camunda:OutputParameter` properties of specified business\n * object. Both can only exist in `camunda:InputOutput` which can exist in `bpmn:ExtensionElements`\n * or `camunda:Connector`.\n *\n * @param {djs.model.Base} element\n * @param {Object} oldTemplate\n * @param {Object} newTemplate\n */\nChangeElementTemplateHandler.prototype._updateCamundaInputOutputParameterProperties = function(element, oldTemplate, newTemplate, businessObject) {\n  var bpmnFactory = this._bpmnFactory,\n      commandStack = this._commandStack;\n\n  var newProperties = newTemplate.properties.filter(function(newProperty) {\n    var newBinding = newProperty.binding,\n        newBindingType = newBinding.type;\n\n    return newBindingType === 'camunda:inputParameter' || newBindingType === 'camunda:outputParameter';\n  });\n\n  // (1) Do not override old inputs and outputs if no new inputs and outputs specified\n  if (!newProperties.length) {\n    return;\n  }\n\n  if (!businessObject) {\n    businessObject = this._getOrCreateExtensionElements(element);\n  }\n\n  var inputOutput;\n\n  if (is(businessObject, 'camunda:Connector')) {\n    inputOutput = businessObject.get('camunda:inputOutput');\n\n    if (!inputOutput) {\n      inputOutput = bpmnFactory.create('camunda:InputOutput');\n\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: businessObject,\n        properties: {\n          inputOutput: inputOutput\n        }\n      });\n    }\n  } else {\n    inputOutput = findExtension(businessObject, 'camunda:InputOutput');\n\n    if (!inputOutput) {\n      inputOutput = bpmnFactory.create('camunda:InputOutput');\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: businessObject,\n        propertyName: 'values',\n        objectsToAdd: [ inputOutput ],\n        objectsToRemove: []\n      });\n    }\n  }\n\n  var oldInputs = inputOutput.get('camunda:inputParameters')\n    ? inputOutput.get('camunda:inputParameters').slice()\n    : [];\n\n  var oldOutputs = inputOutput.get('camunda:outputParameters')\n    ? inputOutput.get('camunda:outputParameters').slice()\n    : [];\n\n  var propertyName;\n\n  newProperties.forEach(function(newProperty) {\n    var oldProperty = findOldProperty(oldTemplate, newProperty),\n        oldInputOrOutput = oldProperty && findOldBusinessObject(businessObject, oldProperty),\n        newPropertyValue = newProperty.value,\n        newBinding = newProperty.binding,\n        newBindingType = newBinding.type;\n\n    var newInputOrOutput,\n        properties;\n\n    // (2) Update old inputs and outputs\n    if (oldProperty && oldInputOrOutput) {\n\n      if (!propertyChanged(oldInputOrOutput, oldProperty)) {\n        if (is(oldInputOrOutput, 'camunda:InputParameter')) {\n          properties = {\n            value: newPropertyValue\n          };\n        } else {\n          properties = {\n            name: newPropertyValue\n          };\n        }\n\n        commandStack.execute('properties-panel.update-businessobject', {\n          element: element,\n          businessObject: oldInputOrOutput,\n          properties: properties\n        });\n      }\n\n      if (is(oldInputOrOutput, 'camunda:InputParameter')) {\n        remove(oldInputs, oldInputOrOutput);\n      } else {\n        remove(oldOutputs, oldInputOrOutput);\n      }\n    }\n\n    // (3) Add new inputs and outputs\n    else {\n      if (newBindingType === 'camunda:inputParameter') {\n        propertyName = 'inputParameters';\n\n        newInputOrOutput = createInputParameter(newBinding, newPropertyValue, bpmnFactory);\n      } else {\n        propertyName = 'outputParameters';\n\n        newInputOrOutput = createOutputParameter(newBinding, newPropertyValue, bpmnFactory);\n      }\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: inputOutput,\n        propertyName: propertyName,\n        objectsToAdd: [ newInputOrOutput ],\n        objectsToRemove: []\n      });\n    }\n  });\n\n  // (4) Remove old inputs and outputs\n  if (oldInputs.length) {\n    commandStack.execute('properties-panel.update-businessobject-list', {\n      element: element,\n      currentObject: inputOutput,\n      propertyName: 'inputParameters',\n      objectsToAdd: [],\n      objectsToRemove: oldInputs\n    });\n  }\n\n  if (oldOutputs.length) {\n    commandStack.execute('properties-panel.update-businessobject-list', {\n      element: element,\n      currentObject: inputOutput,\n      propertyName: 'outputParameters',\n      objectsToAdd: [],\n      objectsToRemove: oldOutputs\n    });\n  }\n};\n\nChangeElementTemplateHandler.prototype._updateCamundaModelerTemplate = function(element, newTemplate) {\n  var modeling = this._modeling;\n\n  modeling.updateProperties(element, {\n    'camunda:modelerTemplate': newTemplate && newTemplate.id,\n    'camunda:modelerTemplateVersion': newTemplate && newTemplate.version\n  });\n};\n\n/**\n * Update `camunda:Property` properties of specified business object. `camunda:Property` can only\n * exist in `camunda:Properties`.\n *\n * @param {djs.model.Base} element\n * @param {Object} oldTemplate\n * @param {Object} newTemplate\n * @param {ModdleElement} businessObject\n */\nChangeElementTemplateHandler.prototype._updateCamundaPropertyProperties = function(element, oldTemplate, newTemplate, businessObject) {\n  var bpmnFactory = this._bpmnFactory,\n      commandStack = this._commandStack;\n\n  var newProperties = newTemplate.properties.filter(function(newProperty) {\n    var newBinding = newProperty.binding,\n        newBindingType = newBinding.type;\n\n    return newBindingType === 'camunda:property';\n  });\n\n  // (1) Do not override old properties if no new properties specified\n  if (!newProperties.length) {\n    return;\n  }\n\n  if (businessObject) {\n    businessObject = this._getOrCreateExtensionElements(businessObject);\n  } else {\n    businessObject = this._getOrCreateExtensionElements(element);\n  }\n\n  var camundaProperties = findExtension(businessObject, 'camunda:Properties');\n\n  if (!camundaProperties) {\n    camundaProperties = bpmnFactory.create('camunda:Properties');\n\n    commandStack.execute('properties-panel.update-businessobject-list', {\n      element: element,\n      currentObject: businessObject,\n      propertyName: 'values',\n      objectsToAdd: [ camundaProperties ],\n      objectsToRemove: []\n    });\n  }\n\n  var oldCamundaProperties = camundaProperties.get('camunda:values')\n    ? camundaProperties.get('camunda:values').slice()\n    : [];\n\n  newProperties.forEach(function(newProperty) {\n    var oldProperty = findOldProperty(oldTemplate, newProperty),\n        oldCamundaProperty = oldProperty && findOldBusinessObject(businessObject, oldProperty),\n        newPropertyValue = newProperty.value,\n        newBinding = newProperty.binding;\n\n    // (2) Update old properties\n    if (oldProperty && oldCamundaProperty) {\n\n      if (!propertyChanged(oldCamundaProperty, oldProperty)) {\n        commandStack.execute('properties-panel.update-businessobject', {\n          element: element,\n          businessObject: oldCamundaProperty,\n          properties: {\n            value: newPropertyValue\n          }\n        });\n      }\n\n      remove(oldCamundaProperties, oldCamundaProperty);\n    }\n\n    // (3) Add new properties\n    else {\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: camundaProperties,\n        propertyName: 'values',\n        objectsToAdd: [ createCamundaProperty(newBinding, newPropertyValue, bpmnFactory) ],\n        objectsToRemove: []\n      });\n    }\n  });\n\n  // (4) Remove old properties\n  if (oldCamundaProperties.length) {\n    commandStack.execute('properties-panel.update-businessobject-list', {\n      element: element,\n      currentObject: camundaProperties,\n      propertyName: 'values',\n      objectsToAdd: [],\n      objectsToRemove: oldCamundaProperties\n    });\n  }\n};\n\n/**\n * Update `bpmn:conditionExpression` property of specified element. Since condition expression is\n * is not primitive it needs special handling.\n *\n * @param {djs.model.Base} element\n * @param {Object} oldProperty\n * @param {Object} newProperty\n */\nChangeElementTemplateHandler.prototype._updateConditionExpression = function(element, oldProperty, newProperty) {\n  var bpmnFactory = this._bpmnFactory,\n      commandStack = this._commandStack,\n      modeling = this._modeling;\n\n  var newBinding = newProperty.binding,\n      newPropertyValue = newProperty.value;\n\n  if (!oldProperty) {\n    modeling.updateProperties(element, {\n      conditionExpression: bpmnFactory.create('bpmn:FormalExpression', {\n        body: newPropertyValue,\n        language: newBinding.scriptFormat\n      })\n    });\n\n    return;\n  }\n\n  var oldBinding = oldProperty.binding,\n      oldPropertyValue = oldProperty.value;\n\n  var businessObject = getBusinessObject(element),\n      conditionExpression = businessObject.get('bpmn:conditionExpression');\n\n  var properties = {};\n\n  if (conditionExpression.get('body') === oldPropertyValue) {\n    properties.body = newPropertyValue;\n  }\n\n  if (conditionExpression.get('language') === oldBinding.scriptFormat) {\n    properties.language = newBinding.scriptFormat;\n  }\n\n  if (!keys(properties).length) {\n    return;\n  }\n\n  commandStack.execute('properties-panel.update-businessobject', {\n    element: element,\n    businessObject: conditionExpression,\n    properties: properties\n  });\n};\n\nChangeElementTemplateHandler.prototype._updateProperties = function(element, oldTemplate, newTemplate, businessObject) {\n  var self = this;\n\n  var commandStack = this._commandStack;\n\n  var newProperties = newTemplate.properties.filter(function(newProperty) {\n    var newBinding = newProperty.binding,\n        newBindingType = newBinding.type;\n\n    return newBindingType === 'property';\n  });\n\n  if (!newProperties.length) {\n    return;\n  }\n\n  if (!businessObject) {\n    businessObject = getBusinessObject(element);\n  }\n\n  newProperties.forEach(function(newProperty) {\n    var oldProperty = findOldProperty(oldTemplate, newProperty),\n        newBinding = newProperty.binding,\n        newBindingName = newBinding.name,\n        newPropertyValue = newProperty.value,\n        properties;\n\n    if (newBindingName === 'conditionExpression') {\n      self._updateConditionExpression(element, oldProperty, newProperty);\n    } else {\n      if (oldProperty && propertyChanged(element, oldProperty)) {\n        return;\n      }\n\n      properties = {};\n\n      properties[ newBindingName ] = newPropertyValue;\n\n      // Only one of `camunda:class`, `camunda:delegateExpression` and `camunda:expression` can be\n      // set\n      // TODO(philippfromme): ensuring only one of these properties is set at a time should be\n      // implemented in a behavior and not in this handler and properties panel UI\n      if (CAMUNDA_SERVICE_TASK_LIKE.indexOf(newBindingName) !== -1) {\n        CAMUNDA_SERVICE_TASK_LIKE.forEach(function(camundaServiceTaskLikeProperty) {\n          if (camundaServiceTaskLikeProperty !== newBindingName) {\n            properties[ camundaServiceTaskLikeProperty ] = undefined;\n          }\n        });\n      }\n\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: businessObject,\n        properties: properties\n      });\n    }\n  });\n};\n\n/**\n * Update properties for a specified scope.\n *\n * @param {djs.model.Base} element\n * @param {string} scopeName\n * @param {Object} scopeTemplate\n */\nChangeElementTemplateHandler.prototype._updateScopeProperties = function(element, scopeName, oldTemplate, newScopeTemplate) {\n  var bpmnFactory = this._bpmnFactory,\n      commandStack = this._commandStack;\n\n  var scopeElement = findOldScopeElement(element, scopeName);\n\n  if (!scopeElement) {\n    scopeElement = bpmnFactory.create(scopeName);\n  }\n\n  var oldScopeTemplate = findOldScopeTemplate(scopeName, oldTemplate);\n\n  // Update properties\n  this._updateProperties(element, oldScopeTemplate, newScopeTemplate, scopeElement);\n\n  // Update camunda:ExecutionListener properties\n  this._updateCamundaExecutionListenerProperties(element, newScopeTemplate);\n\n  // Update camunda:In and camunda:Out properties\n  this._updateCamundaInOutProperties(element, oldScopeTemplate, newScopeTemplate);\n\n  // Update camunda:InputParameter and camunda:OutputParameter properties\n  this._updateCamundaInputOutputParameterProperties(element, oldScopeTemplate, newScopeTemplate, scopeElement);\n\n  // Update camunda:Field properties\n  this._updateCamundaFieldProperties(element, oldScopeTemplate, newScopeTemplate, scopeElement);\n\n  // Update camunda:Property properties\n  this._updateCamundaPropertyProperties(element, oldScopeTemplate, newScopeTemplate, scopeElement);\n\n  var extensionElements = this._getOrCreateExtensionElements(element);\n\n  commandStack.execute('properties-panel.update-businessobject-list', {\n    element: element,\n    currentObject: extensionElements,\n    propertyName: 'values',\n    objectsToAdd: [ scopeElement ],\n    objectsToRemove: []\n  });\n};\n\n// helpers //////////\n\n/**\n * Find old business object matching specified old property.\n *\n * @param {djs.model.Base|ModdleElement} element\n * @param {Object} oldProperty\n *\n * @returns {ModdleElement}\n */\nfunction findOldBusinessObject(element, oldProperty) {\n  var businessObject = getBusinessObject(element),\n      propertyName;\n\n  var oldBinding = oldProperty.binding,\n      oldBindingType = oldBinding.type;\n\n  if (oldBindingType === 'camunda:field') {\n\n    if (isAny(businessObject, [ 'camunda:ExecutionListener', 'camunda:TaskListener' ])) {\n      propertyName = 'camunda:fields';\n    } else {\n      propertyName = 'bpmn:values';\n    }\n\n    if (!businessObject || !businessObject.get(propertyName) || !businessObject.get(propertyName).length) {\n      return;\n    }\n\n    return find(businessObject.get(propertyName), function(oldBusinessObject) {\n      return oldBusinessObject.get('camunda:name') === oldBinding.name;\n    });\n  }\n\n  if (oldBindingType === 'camunda:in') {\n    return find(businessObject.get('values'), function(oldBusinessObject) {\n      return oldBusinessObject.get('target') === oldBinding.target;\n    });\n  }\n\n  if (oldBindingType === 'camunda:in:businessKey') {\n    return find(businessObject.get('values'), function(oldBusinessObject) {\n      return isString(oldBusinessObject.get('businessKey'));\n    });\n  }\n\n  if (oldBindingType === 'camunda:out') {\n    return find(businessObject.get('values'), function(oldBusinessObject) {\n      return oldBusinessObject.get('source') === oldBinding.source ||\n        oldBusinessObject.get('sourceExpression') || oldBinding.sourceExpression;\n    });\n  }\n\n  if (oldBindingType === 'camunda:inputParameter' || oldBindingType === 'camunda:outputParameter') {\n\n    if (is(businessObject, 'camunda:Connector')) {\n      businessObject = businessObject.get('camunda:inputOutput');\n\n      if (!businessObject) {\n        return;\n      }\n    } else {\n      businessObject = findExtension(businessObject, 'camunda:InputOutput');\n\n      if (!businessObject) {\n        return;\n      }\n    }\n\n    if (oldBindingType === 'camunda:inputParameter') {\n      return find(businessObject.get('camunda:inputParameters'), function(oldBusinessObject) {\n        return oldBusinessObject.get('camunda:name') === oldBinding.name;\n      });\n    } else {\n      return find(businessObject.get('camunda:outputParameters'), function(oldBusinessObject) {\n        var definition;\n\n        if (oldBinding.scriptFormat) {\n          definition = oldBusinessObject.get('camunda:definition');\n\n          return definition && definition.get('camunda:value') === oldBinding.source;\n        } else {\n          return oldBusinessObject.get('camunda:value') === oldBinding.source;\n        }\n      });\n    }\n\n  }\n\n  if (oldBindingType === 'camunda:property') {\n    if (!businessObject || !businessObject.get('values') || !businessObject.get('values').length) {\n      return;\n    }\n\n    businessObject = findExtension(businessObject, 'camunda:Properties');\n\n    if (!businessObject) {\n      return;\n    }\n\n    return find(businessObject.get('values'), function(oldBusinessObject) {\n      return oldBusinessObject.get('camunda:name') === oldBinding.name;\n    });\n  }\n}\n\n/**\n * Find old property matching specified new property.\n *\n * @param {Object} oldTemplate\n * @param {Object} newProperty\n *\n * @returns {Object}\n */\nfunction findOldProperty(oldTemplate, newProperty) {\n  if (!oldTemplate) {\n    return;\n  }\n\n  var oldProperties = oldTemplate.properties,\n      newBinding = newProperty.binding,\n      newBindingName = newBinding.name,\n      newBindingType = newBinding.type;\n\n  if (newBindingType === 'property') {\n    return find(oldProperties, function(oldProperty) {\n      var oldBinding = oldProperty.binding,\n          oldBindingName = oldBinding.name,\n          oldBindingType = oldBinding.type;\n\n      return oldBindingType === 'property' && oldBindingName === newBindingName;\n    });\n  }\n\n  if (newBindingType === 'camunda:field') {\n    return find(oldProperties, function(oldProperty) {\n      var oldBinding = oldProperty.binding,\n          oldBindingName = oldBinding.name,\n          oldBindingType = oldBinding.type;\n\n      return oldBindingType === 'camunda:field' && oldBindingName === newBindingName;\n    });\n  }\n\n  if (newBindingType === 'camunda:in') {\n    return find(oldProperties, function(oldProperty) {\n      var oldBinding = oldProperty.binding,\n          oldBindingType = oldBinding.type;\n\n      if (oldBindingType !== 'camunda:in') {\n        return;\n      }\n\n      // Always override if change from source to source expression or vice versa\n      if ((oldBinding.expression && !newBinding.expression) ||\n        !oldBinding.expression && newBinding.expression) {\n        return;\n      }\n\n      return oldBinding.target === newBinding.target;\n    });\n  }\n\n  if (newBindingType === 'camunda:in:businessKey') {\n    return find(oldProperties, function(oldProperty) {\n      var oldBinding = oldProperty.binding,\n          oldBindingType = oldBinding.type;\n\n      return oldBindingType === 'camunda:in:businessKey';\n    });\n  }\n\n  if (newBindingType === 'camunda:out') {\n    return find(oldProperties, function(oldProperty) {\n      var oldBinding = oldProperty.binding,\n          oldBindingType = oldBinding.type;\n\n      return oldBindingType === 'camunda:out' && (\n        oldBinding.source === newBinding.source ||\n        oldBinding.sourceExpression === newBinding.sourceExpression\n      );\n    });\n  }\n\n  if (newBindingType === 'camunda:inputParameter') {\n    return find(oldProperties, function(oldProperty) {\n      var oldBinding = oldProperty.binding,\n          oldBindingName = oldBinding.name,\n          oldBindingType = oldBinding.type;\n\n      if (oldBindingType !== 'camunda:inputParameter') {\n        return;\n      }\n\n      return oldBindingName === newBindingName\n        && oldBinding.scriptFormat === newBinding.scriptFormat;\n    });\n  }\n\n  if (newBindingType === 'camunda:outputParameter') {\n    return find(oldProperties, function(oldProperty) {\n      var oldBinding = oldProperty.binding,\n          oldBindingType = oldBinding.type;\n\n      if (oldBindingType !== 'camunda:outputParameter') {\n        return;\n      }\n\n      return oldBinding.source === newBinding.source\n        && oldBinding.scriptFormat === newBinding.scriptFormat;\n    });\n  }\n\n  if (newBindingType === 'camunda:property') {\n    return find(oldProperties, function(oldProperty) {\n      var oldBinding = oldProperty.binding,\n          oldBindingName = oldBinding.name,\n          oldBindingType = oldBinding.type;\n\n      return oldBindingType === 'camunda:property' && oldBindingName === newBindingName;\n    });\n  }\n}\n\nfunction findOldScopeElement(element, scopeName) {\n  if (scopeName === 'camunda:Connector') {\n    return findExtension(element, 'camunda:Connector');\n  }\n}\n\nfunction findOldScopeTemplate(scopeName, oldTemplate) {\n  var scopes = oldTemplate && oldTemplate.scopes;\n\n  return scopes && scopes[ scopeName ];\n}\n\n/**\n * Check whether property was changed after being set by template.\n *\n * @param {djs.model.Base|ModdleElement} element\n * @param {Object} oldProperty\n *\n * @returns {boolean}\n */\nfunction propertyChanged(element, oldProperty) {\n  var businessObject = getBusinessObject(element);\n\n  var oldBinding = oldProperty.binding,\n      oldBindingName = oldBinding.name,\n      oldBindingType = oldBinding.type,\n      oldPropertyValue = oldProperty.value,\n      conditionExpression,\n      definition;\n\n  if (oldBindingType === 'property') {\n    if (oldBindingName === 'conditionExpression') {\n      conditionExpression = businessObject.get('bpmn:conditionExpression');\n\n      return conditionExpression.get('bpmn:body') !== oldPropertyValue;\n    }\n\n    return businessObject.get(oldBindingName) !== oldPropertyValue;\n  }\n\n  if (oldBindingType === 'camunda:field') {\n    return businessObject.get('camunda:string') !== oldPropertyValue;\n  }\n\n  if (oldBindingType === 'camunda:in') {\n    if (oldBinding.expression) {\n      return businessObject.get('sourceExpression') !== oldPropertyValue;\n    } else {\n      return businessObject.get('camunda:source') !== oldPropertyValue;\n    }\n  }\n\n  if (oldBindingType === 'camunda:in:businessKey') {\n    return businessObject.get('camunda:businessKey') !== oldPropertyValue;\n  }\n\n  if (oldBindingType === 'camunda:out') {\n    return businessObject.get('camunda:target') !== oldPropertyValue;\n  }\n\n  if (oldBindingType === 'camunda:inputParameter') {\n    if (oldBinding.scriptFormat) {\n      definition = businessObject.get('camunda:definition');\n\n      return definition && definition.get('camunda:value') !== oldPropertyValue;\n    } else {\n      return businessObject.get('camunda:value') !== oldPropertyValue;\n    }\n  }\n\n  if (oldBindingType === 'camunda:outputParameter') {\n    return businessObject.get('camunda:name') !== oldPropertyValue;\n  }\n\n  if (oldBindingType === 'camunda:property') {\n    return businessObject.get('camunda:value') !== oldPropertyValue;\n  }\n}","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseIteratee = require('./_baseIteratee'),\n    basePullAt = require('./_basePullAt');\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nmodule.exports = remove;\n","var baseUnset = require('./_baseUnset'),\n    isIndex = require('./_isIndex');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      } else {\n        baseUnset(array, index);\n      }\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAt;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","'use strict';\n\nvar inherits = require('inherits');\n\nvar getTemplateId = require('./Helper').getTemplateId;\n\nvar isBoolean = require('lodash/isBoolean');\n\nvar PropertiesActivator = require('../../../PropertiesActivator');\n\nvar HIGHER_PRIORITY = 1100;\n\n/**\n * Decides what entries are visible and editable. When an element template is applied only entries\n * in the element template tab are visible. Override this behavior through a properties activator\n * with higher priority or by specifying `entriesVisible`.\n *\n * @param {EventBus} eventBus\n * @param {ElementTemplates} elementTemplates\n */\nfunction CustomElementsPropertiesActivator(eventBus, elementTemplates) {\n  PropertiesActivator.call(this, eventBus, HIGHER_PRIORITY);\n\n  this.isEntryVisible = function(element, entry, group, tab) {\n    var template = elementTemplates.get(element),\n        templateId = getTemplateId(element);\n\n    if (templateId && !isEntryVisible(entry, tab, template)) {\n      return false;\n    }\n  };\n\n  this.isPropertyEditable = function(propertyName, element, entry, group, tab) {\n    var template = elementTemplates.get(element);\n\n    if (template && !isEntryEditable(entry, template)) {\n      return false;\n    }\n  };\n}\n\nCustomElementsPropertiesActivator.$inject = [ 'eventBus', 'elementTemplates' ];\n\ninherits(CustomElementsPropertiesActivator, PropertiesActivator);\n\nmodule.exports = CustomElementsPropertiesActivator;\n\n\n\n// helpers //////////\n\n\nvar CUSTOM_PROPERTIES_PATTERN = /^custom-/;\n\nvar DEFAULT_ENTRIES_VISIBLE = {\n  _all: false\n};\n\nfunction isCustomEntry(entry) {\n  return CUSTOM_PROPERTIES_PATTERN.test(entry.id);\n}\n\nfunction isEntryVisible(entry, tab, template) {\n  var entryId = entry.id;\n\n  if (tab.id === 'element-template') {\n    return true;\n  }\n\n  var entriesVisible = template && template.entriesVisible || DEFAULT_ENTRIES_VISIBLE;\n\n  if (isBoolean(entriesVisible)) {\n    return entriesVisible;\n  }\n\n  var defaultVisible = entriesVisible._all || false,\n      entryVisible = entriesVisible[ entryId ];\n\n  if (defaultVisible) {\n    return entryVisible !== false;\n  } else {\n    return entryVisible === true;\n  }\n}\n\nfunction isEntryEditable(entry, template) {\n\n  var property;\n\n  if (isCustomEntry(entry)) {\n    property = getProperty(template, entry);\n\n    return property && property.editable !== false;\n  }\n\n  return true;\n}\n\nfunction getProperty(template, entry) {\n\n  var index;\n  var idx = entry.id.replace('custom-' + template.id + '-', '');\n  if (idx.indexOf('-') !== -1) {\n    var indexes = idx.split('-');\n    if (indexes.length == 2) {\n      var scopeName = indexes[0].replace(/_/g, ':');\n      index = parseInt(indexes[1], 10);\n      if (scopeName && !isNaN(index)) {\n        return template.scopes[scopeName].properties[index];\n      }\n    }\n  } else {\n    index = parseInt(idx, 10);\n    if (!isNaN(index)) {\n      return template.properties[index];\n    }\n  }\n\n  throw new Error('cannot extract property index for entry <' + entry.id + '>');\n}\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && baseGetTag(value) == boolTag);\n}\n\nmodule.exports = isBoolean;\n","'use strict';\n\nvar flatten = require('lodash/flatten'),\n    find = require('lodash/find'),\n    isString = require('lodash/isString'),\n    isUndefined = require('lodash/isUndefined'),\n    values = require('lodash/values');\n\nvar getTemplateId = require('./Helper').getTemplateId,\n    getTemplateVersion = require('./Helper').getTemplateVersion;\n\nvar isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny;\n\n/**\n * Registry for element templates.\n */\nfunction ElementTemplates() {\n  this._templates = {};\n}\n\n/**\n * Get template with given ID and optional version or for element.\n *\n * @param {String|djs.model.Base} id\n * @param {number} [version]\n *\n * @return {ElementTemplate}\n */\nElementTemplates.prototype.get = function(id, version) {\n  var templates = this._templates,\n      element;\n\n  if (isUndefined(id)) {\n    return null;\n  } else if (isString(id)) {\n\n    if (isUndefined(version)) {\n      version = '_';\n    }\n\n    if (templates[ id ] && templates[ id ][ version ]) {\n      return templates[ id ][ version ];\n    } else {\n      return null;\n    }\n  } else {\n    element = id;\n\n    return this.get(getTemplateId(element), getTemplateVersion(element));\n  }\n};\n\n/**\n * Get default template for given element.\n *\n * @param {djs.model.Base} element\n *\n * @return {ElementTemplate}\n */\nElementTemplates.prototype.getDefault = function(element) {\n  return find(this.getAll(), function(template) {\n    return isAny(element, template.appliesTo) && template.isDefault;\n  }) || null;\n};\n\n/**\n * Get all templates (with given ID).\n *\n * @param {string} [id]\n *\n * @return {Array<ElementTemplate>}\n */\nElementTemplates.prototype.getAll = function(id) {\n  if (!isUndefined(id) && this._templates[ id ]) {\n    return values(this._templates[ id ]);\n  }\n\n  return flatten(values(this._templates).map(values));\n};\n\n/**\n * Set templates.\n *\n * @param {Array<ElementTemplate>} templates\n */\nElementTemplates.prototype.set = function(templates) {\n  var self = this;\n\n  this._templates = {};\n\n  templates.forEach(function(template) {\n    var id = template.id,\n        version = isUndefined(template.version) ? '_' : template.version;\n\n    if (!self._templates[ id ]) {\n      self._templates[ id ] = {};\n    }\n\n    self._templates[ id ][ version ] = template;\n  });\n};\n\nmodule.exports = ElementTemplates;","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","'use strict';\n\nvar Validator = require('./Validator');\n\n/**\n * The guy responsible for template loading.\n *\n * Provide the actual templates via the `config.elementTemplates`.\n *\n * That configuration can either be an array of template\n * descriptors or a node style callback to retrieve\n * the templates asynchronously.\n *\n * @param {Array<TemplateDescriptor>|Function} loadTemplates\n * @param {EventBus} eventBus\n * @param {ElementTemplates} elementTemplates\n */\nfunction ElementTemplatesLoader(loadTemplates, eventBus, elementTemplates) {\n  this._loadTemplates = loadTemplates;\n  this._eventBus = eventBus;\n  this._elementTemplates = elementTemplates;\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n    self.reload();\n  });\n}\n\nmodule.exports = ElementTemplatesLoader;\n\nElementTemplatesLoader.$inject = [\n  'config.elementTemplates',\n  'eventBus',\n  'elementTemplates'\n];\n\n\nElementTemplatesLoader.prototype.reload = function() {\n\n  var self = this;\n\n  var loadTemplates = this._loadTemplates;\n\n  // no templates specified\n  if (typeof loadTemplates === 'undefined') {\n    return;\n  }\n\n  // template loader function specified\n  if (typeof loadTemplates === 'function') {\n\n    return loadTemplates(function(err, templates) {\n\n      if (err) {\n        return self.templateErrors([ err ]);\n      }\n\n      self.setTemplates(templates);\n    });\n  }\n\n  // templates array specified\n  if (loadTemplates.length) {\n    return this.setTemplates(loadTemplates);\n  }\n\n};\n\nElementTemplatesLoader.prototype.setTemplates = function(templates) {\n\n  var elementTemplates = this._elementTemplates;\n\n  var validator = new Validator().addAll(templates);\n\n  var errors = validator.getErrors(),\n      validTemplates = validator.getValidTemplates();\n\n  elementTemplates.set(validTemplates);\n\n  if (errors.length) {\n    this.templateErrors(errors);\n  }\n\n  this.templatesChanged();\n};\n\nElementTemplatesLoader.prototype.templatesChanged = function() {\n  this._eventBus.fire('elementTemplates.changed');\n};\n\nElementTemplatesLoader.prototype.templateErrors = function(errors) {\n  this._eventBus.fire('elementTemplates.errors', {\n    errors: errors\n  });\n};","'use strict';\n\nvar isArray = require('lodash/isArray');\nvar isObject = require('lodash/isObject');\n\nvar DROPDOWN_TYPE = 'Dropdown';\n\nvar VALID_TYPES = [ 'String', 'Text', 'Boolean', 'Hidden', DROPDOWN_TYPE ];\n\nvar PROPERTY_TYPE = 'property',\n    CAMUNDA_PROPERTY_TYPE = 'camunda:property',\n    CAMUNDA_INPUT_PARAMETER_TYPE = 'camunda:inputParameter',\n    CAMUNDA_OUTPUT_PARAMETER_TYPE = 'camunda:outputParameter',\n    CAMUNDA_IN_TYPE = 'camunda:in',\n    CAMUNDA_OUT_TYPE = 'camunda:out',\n    CAMUNDA_IN_BUSINESS_KEY_TYPE = 'camunda:in:businessKey',\n    CAMUNDA_EXECUTION_LISTENER = 'camunda:executionListener',\n    CAMUNDA_FIELD = 'camunda:field';\n\nvar VALID_BINDING_TYPES = [\n  PROPERTY_TYPE,\n  CAMUNDA_PROPERTY_TYPE,\n  CAMUNDA_INPUT_PARAMETER_TYPE,\n  CAMUNDA_OUTPUT_PARAMETER_TYPE,\n  CAMUNDA_IN_TYPE,\n  CAMUNDA_OUT_TYPE,\n  CAMUNDA_IN_BUSINESS_KEY_TYPE,\n  CAMUNDA_EXECUTION_LISTENER,\n  CAMUNDA_FIELD\n];\n\n\n/**\n * A element template validator.\n */\nfunction Validator() {\n\n  this._templatesById = {};\n\n  this._validTemplates = [];\n  this._errors = [];\n\n\n  /**\n   * Adds the templates.\n   *\n   * @param {Array<TemplateDescriptor>} templates\n   *\n   * @return {Validator} self\n   */\n  this.addAll = function(templates) {\n\n    if (!isArray(templates)) {\n      this._logError('templates must be []');\n    } else {\n      templates.forEach(this.add, this);\n    }\n\n    return this;\n  };\n\n  /**\n   * Add the given element template, if it is valid.\n   *\n   * @param {TemplateDescriptor} template\n   *\n   * @return {Validator} self\n   */\n  this.add = function(template) {\n\n    var err = this._validateTemplate(template);\n\n    var id, version;\n\n    if (!err) {\n      id = template.id;\n      version = template.version || '_';\n\n      if (!this._templatesById[ id ]) {\n        this._templatesById[ id ] = {};\n      }\n\n      this._templatesById[ id ][ version ] = template;\n\n      this._validTemplates.push(template);\n    }\n\n    return this;\n  };\n\n  /**\n   * Validate given template and return error (if any).\n   *\n   * @param {TemplateDescriptor} template\n   *\n   * @return {Error} validation error, if any\n   */\n  this._validateTemplate = function(template) {\n\n    var err,\n        id = template.id,\n        version = template.version || '_',\n        name = template.name,\n        appliesTo = template.appliesTo,\n        properties = template.properties,\n        scopes = template.scopes;\n\n    if (!id) {\n      return this._logError('missing template id');\n    }\n\n    if (!name) {\n      return this._logError('missing template name');\n    }\n\n    if (this._templatesById[ id ] && this._templatesById[ id ][ version ]) {\n      if (version === '_') {\n        return this._logError('template id <' + id + '> already used');\n      } else {\n        return this._logError('template id <' + id + '> and version <' + version + '> already used');\n      }\n    }\n\n    if (!isArray(appliesTo)) {\n      err = this._logError('missing appliesTo=[]', template);\n    }\n\n    if (!isArray(properties)) {\n      err = this._logError('missing properties=[]', template);\n    } else {\n      if (!this._validateProperties(properties)) {\n        err = new Error('invalid properties');\n      }\n    }\n\n    if (scopes) {\n      err = this._validateScopes(template, scopes);\n    }\n\n    return err;\n  };\n\n  this._validateScopes = function(template, scopes) {\n\n    var err,\n        scope,\n        scopeName;\n\n    if (!isObject(scopes) || isArray(scopes)) {\n      return this._logError('invalid scopes, should be scopes={}', template);\n    }\n\n    for (scopeName in scopes) {\n      scope = scopes[scopeName];\n\n      if (!isObject(scope) || isArray(scope)) {\n        err = this._logError('invalid scope, should be scope={}', template);\n      }\n\n      if (!isArray(scope.properties)) {\n        err = this._logError(\n          'missing properties=[] in scope <' + scopeName + '>', template\n        );\n      } else {\n        if (!this._validateProperties(scope.properties)) {\n          err = new Error('invalid properties in scope <' + scopeName + '>');\n        }\n      }\n    }\n\n    return err;\n  };\n\n  /**\n   * Validate properties and return false if any is invalid.\n   *\n   * @param {Array<PropertyDescriptor>} properties\n   *\n   * @return {Boolean} true if all properties are valid\n   */\n  this._validateProperties = function(properties) {\n    var validProperties = properties.filter(this._validateProperty, this);\n\n    return properties.length === validProperties.length;\n  };\n\n  /**\n   * Validate property and return false, if there was\n   * a validation error.\n   *\n   * @param {PropertyDescriptor} property\n   *\n   * @return {Boolean} true if property is valid\n   */\n  this._validateProperty = function(property) {\n\n    var type = property.type,\n        binding = property.binding;\n\n    var err;\n\n    var bindingType = binding.type;\n\n    if (type && VALID_TYPES.indexOf(type) === -1) {\n      err = this._logError(\n        'invalid property type <' + type + '>; ' +\n        'must be any of { ' + VALID_TYPES.join(', ') + ' }'\n      );\n    }\n\n    if (type === DROPDOWN_TYPE && bindingType !== CAMUNDA_EXECUTION_LISTENER) {\n      if (!isArray(property.choices)) {\n        err = this._logError(\n          'must provide choices=[] with ' + DROPDOWN_TYPE + ' type'\n        );\n      } else\n\n      if (!property.choices.every(isDropdownChoiceValid)) {\n        err = this._logError(\n          '{ name, value } must be specified for ' +\n          DROPDOWN_TYPE + ' choices'\n        );\n      }\n    }\n\n    if (!binding) {\n      return this._logError('property missing binding');\n    }\n\n    if (VALID_BINDING_TYPES.indexOf(bindingType) === -1) {\n      err = this._logError(\n        'invalid property.binding type <' + bindingType + '>; ' +\n        'must be any of { ' + VALID_BINDING_TYPES.join(', ') + ' }'\n      );\n    }\n\n    if (bindingType === PROPERTY_TYPE ||\n        bindingType === CAMUNDA_PROPERTY_TYPE ||\n        bindingType === CAMUNDA_INPUT_PARAMETER_TYPE ||\n        bindingType === CAMUNDA_FIELD) {\n\n      if (!binding.name) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires name'\n        );\n      }\n    }\n\n    if (bindingType === CAMUNDA_OUTPUT_PARAMETER_TYPE) {\n      if (!binding.source) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires source'\n        );\n      }\n    }\n\n    if (bindingType === CAMUNDA_IN_TYPE) {\n\n      if (!binding.variables && !binding.target) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires ' +\n          'variables or target'\n        );\n      }\n    }\n\n    if (bindingType === CAMUNDA_OUT_TYPE) {\n\n      if (!binding.variables && !binding.source && !binding.sourceExpression) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires ' +\n          'variables, sourceExpression or source'\n        );\n      }\n    }\n\n    if (bindingType === CAMUNDA_EXECUTION_LISTENER) {\n\n      if (type && type !== 'Hidden') {\n        err = this._logError(\n          'invalid property type <' + type + '> for ' + CAMUNDA_EXECUTION_LISTENER + '; ' +\n          'must be <Hidden>'\n        );\n      }\n    }\n\n    return !err;\n  };\n\n\n  this._logError = function(err, template) {\n\n    if (typeof err === 'string') {\n      if (template) {\n        err = 'template(id: ' + template.id + ') ' + err;\n      }\n\n      err = new Error(err);\n    }\n\n    this._errors.push(err);\n\n    return err;\n  };\n\n  this.getErrors = function() {\n    return this._errors;\n  };\n\n  this.getValidTemplates = function() {\n    return this._validTemplates;\n  };\n}\n\nmodule.exports = Validator;\n\n\n// helpers ///////////////////////////////////\n\nfunction isDropdownChoiceValid(c) {\n  return 'name' in c && 'value' in c;\n}\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\n/**\n * This function catches the <moddleCopy.canCopyProperty> event\n * and only allows the copy of the modelerTemplate property\n * if the element's type or its parent's is in\n * the list of elements the template applies to.\n */\nfunction ReplaceBehavior(elementTemplates, eventBus) {\n  eventBus.on('moddleCopy.canCopyProperty', function(context) {\n    var parent = context.parent;\n    var property = context.property;\n    var propertyName = context.propertyName;\n\n    if (propertyName !== 'modelerTemplate') {\n      return;\n    }\n\n    var elementTemplate = elementTemplates.get(property);\n\n    if (!elementTemplate) {\n      return false;\n    }\n\n    var appliesTo = elementTemplate.appliesTo;\n\n    var allowed = appliesTo.reduce(function(allowed, type) {\n      return allowed || is(parent, type);\n    }, false);\n\n    if (!allowed) {\n      return false;\n    }\n  });\n}\n\nReplaceBehavior.$inject = ['elementTemplates', 'eventBus'];\n\nmodule.exports = ReplaceBehavior;","'use strict';\n\nvar inherits = require('inherits');\n\nvar PropertiesActivator = require('../../PropertiesActivator');\n\nvar asyncCapableHelper = require('../../helper/AsyncCapableHelper'),\n    ImplementationTypeHelper = require('../../helper/ImplementationTypeHelper'),\n    cmdHelper = require('../../helper/CmdHelper');\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\n// bpmn properties\nvar processProps = require('../bpmn/parts/ProcessProps'),\n    eventProps = require('../bpmn/parts/EventProps'),\n    linkProps = require('../bpmn/parts/LinkProps'),\n    documentationProps = require('../bpmn/parts/DocumentationProps'),\n    idProps = require('../bpmn/parts/IdProps'),\n    nameProps = require('../bpmn/parts/NameProps'),\n    executableProps = require('../bpmn/parts/ExecutableProps');\n\n// camunda properties\nvar serviceTaskDelegateProps = require('./parts/ServiceTaskDelegateProps'),\n    userTaskProps = require('./parts/UserTaskProps'),\n    asynchronousContinuationProps = require('./parts/AsynchronousContinuationProps'),\n    callActivityProps = require('./parts/CallActivityProps'),\n    multiInstanceProps = require('./parts/MultiInstanceLoopProps'),\n    conditionalProps = require('./parts/ConditionalProps'),\n    scriptProps = require('./parts/ScriptTaskProps'),\n    errorProps = require('./parts/ErrorEventProps'),\n    formProps = require('./parts/FormProps'),\n    startEventInitiator = require('./parts/StartEventInitiator'),\n    variableMapping = require('./parts/VariableMappingProps'),\n    versionTag = require('./parts/VersionTagProps'),\n    processVariablesProps = require('./parts/ProcessVariablesProps');\n\nvar listenerProps = require('./parts/ListenerProps'),\n    listenerDetails = require('./parts/ListenerDetailProps'),\n    listenerFields = require('./parts/ListenerFieldInjectionProps');\n\nvar elementTemplateDescriptionProps = require('./element-templates/parts/DescriptionProps'),\n    elementTemplateChooserProps = require('./element-templates/parts/ChooserProps'),\n    elementTemplateCustomProps = require('./element-templates/parts/CustomProps'),\n    elementTemplateInputParametersProps = require('./element-templates/parts/InputParametersProps'),\n    elementTemplateOutputParametersProps = require('./element-templates/parts/OutputParametersProps'),\n    getTemplateId = require('./element-templates/Helper').getTemplateId;\n\n// Input/Output\nvar inputParameters = require('./parts/InputParametersProps'),\n    outputParameters = require('./parts/OutputParametersProps');\n\n// Connector\nvar connectorDetails = require('./parts/ConnectorDetailProps'),\n    connectorInputParameters = require('./parts/ConnectorInputParametersProps'),\n    connectorOutputParameters = require('./parts/ConnectorOutputParametersProps');\n\n// properties\nvar properties = require('./parts/PropertiesProps');\n\n// job configuration\nvar jobConfiguration = require('./parts/JobConfigurationProps');\n\n// history time to live\nvar historyTimeToLive = require('./parts/HistoryTimeToLiveProps');\n\n// candidate starter groups/users\nvar candidateStarter = require('./parts/CandidateStarterProps');\n\n// tasklist\nvar tasklist = require('./parts/TasklistProps');\n\n// external task configuration\nvar externalTaskConfiguration = require('./parts/ExternalTaskConfigurationProps');\n\n// field injection\nvar fieldInjections = require('./parts/FieldInjectionProps');\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    eventDefinitionHelper = require('../../helper/EventDefinitionHelper'),\n    implementationTypeHelper = require('../../helper/ImplementationTypeHelper');\n\n// helpers ////////////////////////////////////////\n\nvar isExternalTaskPriorityEnabled = function(element) {\n  var businessObject = getBusinessObject(element);\n\n  // show only if element is a process, a participant ...\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n    return true;\n  }\n\n  var externalBo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element),\n      isExternalTask = ImplementationTypeHelper.getImplementationType(externalBo) === 'external';\n\n  // ... or an external task with selected external implementation type\n  return !!ImplementationTypeHelper.isExternalCapable(externalBo) && isExternalTask;\n};\n\nvar isJobConfigEnabled = function(element) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n    return true;\n  }\n\n  // async behavior\n  var bo = getBusinessObject(element);\n  if (asyncCapableHelper.isAsyncBefore(bo) || asyncCapableHelper.isAsyncAfter(bo)) {\n    return true;\n  }\n\n  // timer definition\n  if (is(element, 'bpmn:Event')) {\n    return !!eventDefinitionHelper.getTimerEventDefinition(element);\n  }\n\n  return false;\n};\n\nvar getListenerLabel = function(param, translate) {\n\n  if (is(param, 'camunda:ExecutionListener')) {\n    return translate('Execution Listener');\n  }\n\n  if (is(param, 'camunda:TaskListener')) {\n    return translate('Task Listener');\n  }\n\n  return '';\n};\n\nvar PROCESS_KEY_HINT = 'This maps to the process definition key.';\nvar TASK_KEY_HINT = 'This maps to the task definition key.';\n\nfunction getIdOptions(element) {\n\n  if (is(element, 'bpmn:Participant')) {\n    return { id: 'participant-id', label: 'Participant Id' };\n  }\n\n  if (is(element, 'bpmn:Process')) {\n    return { description: PROCESS_KEY_HINT };\n  }\n\n\n  \n}\n\nfunction getNameOptions(element) {\n  if (is(element, 'bpmn:Participant')) {\n    return { id: 'participant-name', label: 'Participant Name' };\n  }\n}\n\nfunction getProcessOptions(element) {\n  if (is(element, 'bpmn:Participant')) {\n    return { processIdDescription: PROCESS_KEY_HINT };\n  }\n}\n\nfunction createElementTemplateGroups(\n    element,\n    bpmnFactory,\n    canvas,\n    commandStack,\n    elementTemplates,\n    modeling,\n    replace,\n    selection,\n    translate) {\n  var templateId = getTemplateId(element);\n\n  if (!templateId) {\n    return [];\n  }\n\n  var descriptionGroup = elementTemplateDescriptionProps(\n    element, commandStack, elementTemplates, modeling, replace, selection, translate);\n\n  var idOptions = getIdOptions(element) || {};\n\n  idOptions.id = 'element-template-element-id';\n\n  var nameOptions = { id: 'element-template-element-name' };\n\n  idProps(descriptionGroup, element, translate, idOptions);\n  nameProps(descriptionGroup, element, bpmnFactory, canvas, translate, nameOptions);\n  processProps(descriptionGroup, element, translate, getProcessOptions(element));\n\n  var elementTemplateInputParametersGroup = {\n    id: 'template-inputs',\n    label: translate('Input Parameters'),\n    entries: []\n  };\n  elementTemplateInputParametersProps(elementTemplateInputParametersGroup, element, elementTemplates, bpmnFactory, translate);\n\n  var elementTemplateOutputParametersGroup = {\n    id: 'template-outputs',\n    label: translate('Output Parameters'),\n    entries: []\n  };\n  elementTemplateOutputParametersProps(elementTemplateOutputParametersGroup, element, elementTemplates, bpmnFactory, translate);\n\n  var customFieldsGroups = elementTemplateCustomProps(element, elementTemplates, bpmnFactory, translate);\n\n  return [\n    descriptionGroup,\n    elementTemplateInputParametersGroup,\n    elementTemplateOutputParametersGroup\n  ].concat(customFieldsGroups);\n}\n\nfunction createGeneralTabGroups(\n    element, canvas, bpmnFactory,\n    elementRegistry, elementTemplates, translate) {\n\n  // refer to target element for external labels\n  element = element.labelTarget || element;\n\n  var generalGroup = {\n    id: 'general',\n    label: translate('General'),\n    entries: []\n  };\n\n  idProps(generalGroup, element, translate, getIdOptions(element));\n  nameProps(generalGroup, element, bpmnFactory, canvas, translate, getNameOptions(element));\n  processProps(generalGroup, element, translate, getProcessOptions(element));\n  //versionTag(generalGroup, element, translate);\n // executableProps(generalGroup, element, translate);\n  elementTemplateChooserProps(generalGroup, element, elementTemplates, translate);\n\n  var detailsGroup = {\n    id: 'details',\n    label: translate('Details'),\n    entries: []\n  };\n // serviceTaskDelegateProps(detailsGroup, element, bpmnFactory, translate);\n  //userTaskProps(detailsGroup, element, translate);\n // scriptProps(detailsGroup, element, bpmnFactory, translate);\n  linkProps(detailsGroup, element, translate);\n  callActivityProps(detailsGroup, element, bpmnFactory, translate);\n  eventProps(detailsGroup, element, bpmnFactory, elementRegistry, translate);\n  errorProps(detailsGroup, element, bpmnFactory, translate);\n  conditionalProps(detailsGroup, element, bpmnFactory, translate);\n  startEventInitiator(detailsGroup, element, translate); // this must be the last element of the details group!\n\n  var multiInstanceGroup = {\n    id: 'multiInstance',\n    label: translate('Multi Instance'),\n    entries: []\n  };\n  multiInstanceProps(multiInstanceGroup, element, bpmnFactory, translate);\n\n  var asyncGroup = {\n    id : 'async',\n    label: translate('Asynchronous Continuations'),\n    entries : []\n  };\n  asynchronousContinuationProps(asyncGroup, element, bpmnFactory, translate);\n\n  var jobConfigurationGroup = {\n    id : 'jobConfiguration',\n    label : translate('Job Configuration'),\n    entries : [],\n    enabled: isJobConfigEnabled\n  };\n  jobConfiguration(jobConfigurationGroup, element, bpmnFactory, translate);\n\n  var externalTaskGroup = {\n    id : 'externalTaskConfiguration',\n    label : translate('External Task Configuration'),\n    entries : [],\n    enabled: isExternalTaskPriorityEnabled\n  };\n  externalTaskConfiguration(externalTaskGroup, element, bpmnFactory, translate);\n\n\n  var candidateStarterGroup = {\n    id: 'candidateStarterConfiguration',\n    label: translate('Candidate Starter Configuration'),\n    entries: []\n  };\n  candidateStarter(candidateStarterGroup, element, bpmnFactory, translate);\n\n  var historyTimeToLiveGroup = {\n    id: 'historyConfiguration',\n    label: translate('History Configuration'),\n    entries: []\n  };\n  historyTimeToLive(historyTimeToLiveGroup, element, bpmnFactory, translate);\n\n  var tasklistGroup = {\n    id: 'tasklist',\n    label: translate('Tasklist Configuration'),\n    entries: []\n  };\n  tasklist(tasklistGroup, element, bpmnFactory, translate);\n\n  var documentationGroup = {\n    id: 'documentation',\n    label: translate('Documentation'),\n    entries: []\n  };\n  documentationProps(documentationGroup, element, bpmnFactory, translate);\n\n  var groups = [];\n  groups.push(generalGroup);\n  groups.push(detailsGroup);\n // groups.push(externalTaskGroup);\n  groups.push(multiInstanceGroup);\n  //groups.push(asyncGroup);\n  //groups.push(jobConfigurationGroup);\n  //groups.push(candidateStarterGroup);\n // groups.push(historyTimeToLiveGroup);\n  //groups.push(tasklistGroup);\n  groups.push(documentationGroup);\n\n  return groups;\n}\n/*\n\nfunction createVariablesTabGroups(element, bpmnFactory, elementRegistry, translate) {\n  var variablesGroup = {\n    id : 'variables',\n    label : translate('Variables'),\n    entries: []\n  };\n  variableMapping(variablesGroup, element, bpmnFactory, translate);\n\n  return [\n    variablesGroup\n  ];\n}\n\nfunction createProcessVariablesTabGroups(element, translate) {\n  var processVariablesGroup = {\n    id : 'process-variables',\n    label : translate('Variables'),\n    entries: []\n  };\n\n  processVariablesProps(processVariablesGroup, element, translate);\n\n  return [\n    processVariablesGroup\n  ];\n}\n*/\n\nfunction createFormsTabGroups(element, bpmnFactory, elementRegistry, translate) {\n  var detailGroup = {\n    id : 'details',\n    label : translate('Details'),\n    entries: []\n  };\n  formProps(detailGroup, element, bpmnFactory, translate);\n  userTaskProps(detailGroup, element, bpmnFactory, translate);\n  scriptProps(detailGroup, element, bpmnFactory, translate);\n  serviceTaskDelegateProps(detailGroup, element, bpmnFactory, translate);\n  return [\n    detailGroup\n  ];\n}\n\nfunction createListenersTabGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var listenersGroup = {\n    id : 'listeners',\n    label: translate('Listeners'),\n    entries: []\n  };\n\n  var options = listenerProps(listenersGroup, element, bpmnFactory, translate);\n\n  var listenerDetailsGroup = {\n    id: 'listener-details',\n    entries: [],\n    enabled: function(element, node) {\n      return options.getSelectedListener(element, node);\n    },\n    label: function(element, node) {\n      var param = options.getSelectedListener(element, node);\n      return getListenerLabel(param, translate);\n    }\n  };\n\n  listenerDetails(listenerDetailsGroup, element, bpmnFactory, options, translate);\n\n  var listenerFieldsGroup = {\n    id: 'listener-fields',\n    label: translate('Field Injection'),\n    entries: [],\n    enabled: function(element, node) {\n      return options.getSelectedListener(element, node);\n    }\n  };\n\n  listenerFields(listenerFieldsGroup, element, bpmnFactory, options, translate);\n\n  return [\n    listenersGroup,\n    listenerDetailsGroup,\n    listenerFieldsGroup\n  ];\n}\n\nfunction createInputOutputTabGroups(element, bpmnFactory, elementTemplates, translate) {\n\n  var inputParametersGroup = {\n    id: 'input-parameters',\n    label: translate('Input Parameters'),\n    entries: []\n  };\n\n  inputParameters(inputParametersGroup, element, bpmnFactory, elementTemplates, translate);\n\n  var outputParametersGroup = {\n    id: 'output-parameters',\n    label: translate('Output Parameters'),\n    entries: []\n  };\n\n  outputParameters(outputParametersGroup, element, bpmnFactory, elementTemplates, translate);\n\n  return [\n    inputParametersGroup,\n    outputParametersGroup\n  ];\n}\n\nfunction createConnectorTabGroups(element, bpmnFactory, elementRegistry, translate) {\n  var connectorDetailsGroup = {\n    id: 'connector-details',\n    label: translate('Details'),\n    entries: []\n  };\n\n  connectorDetails(connectorDetailsGroup, element, bpmnFactory, translate);\n\n  var connectorInputParametersGroup = {\n    id: 'connector-input-parameters',\n    label: translate('Input Parameters'),\n    entries: []\n  };\n\n  connectorInputParameters(connectorInputParametersGroup, element, bpmnFactory, translate);\n\n  var connectorOutputParametersGroup = {\n    id: 'connector-output-parameters',\n    label: translate('Output Parameters'),\n    entries: []\n  };\n\n  connectorOutputParameters(connectorOutputParametersGroup, element, bpmnFactory, translate);\n\n  return [\n    connectorDetailsGroup,\n    connectorInputParametersGroup,\n    connectorOutputParametersGroup\n  ];\n}\n\nfunction createFieldInjectionsTabGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var fieldGroup = {\n    id: 'field-injections-properties',\n    label: translate('Field Injections'),\n    entries: []\n  };\n\n  fieldInjections(fieldGroup, element, bpmnFactory, translate);\n\n  return [\n    fieldGroup\n  ];\n}\nfunction createExtensionElementsGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var propertiesGroup = {\n    id : 'extensionElements-properties',\n    label: translate('Properties'),\n    entries: []\n  };\n  properties(propertiesGroup, element, bpmnFactory, translate);\n\n  return [\n    propertiesGroup\n  ];\n}\n\n// Camunda Properties Provider /////////////////////////////////////\n\n\n/**\n * A properties provider for Camunda related properties.\n *\n * @param {BpmnFactory} bpmnFactory\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n * @param {ElementTemplates} elementTemplates\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {Replace} replace\n * @param {Selection} selection\n * @param {Translate} translate\n */\nfunction CamundaPropertiesProvider(\n    bpmnFactory,\n    canvas,\n    commandStack,\n    elementRegistry,\n    elementTemplates,\n    eventBus,\n    modeling,\n    replace,\n    selection,\n    translate\n) {\n  PropertiesActivator.call(this, eventBus);\n\n  this.getTabs = function(element) {\n\n    var generalTab = {\n      id: 'general',\n      label: translate('General'),\n      groups: createGeneralTabGroups(\n        element, canvas, bpmnFactory,\n        elementRegistry, elementTemplates, translate)\n    };\n\n    var elementTemplateTab = {\n      id: 'element-template',\n      label: translate('Template'),\n      groups: createElementTemplateGroups(\n        element,\n        bpmnFactory,\n        canvas,\n        commandStack,\n        elementTemplates,\n        modeling,\n        replace,\n        selection,\n        translate\n      )\n    };\n\n  /*  var variablesTab = {\n      id: 'variables',\n      label: translate('Variables'),\n      groups: createVariablesTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    var processVariablesTab = {\n      id: 'process-variables',\n      label: translate('Variables'),\n      groups: createProcessVariablesTabGroups(element, translate)\n    };*/\n\n    var formsTab = {\n      id: 'details',\n      label: translate('Details'),\n      groups: createFormsTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n/*    var listenersTab = {\n      id: 'listeners',\n      label: translate('Listeners'),\n      groups: createListenersTabGroups(element, bpmnFactory, elementRegistry, translate),\n      enabled: function(element) {\n        return !eventDefinitionHelper.getLinkEventDefinition(element)\n          || (!is(element, 'bpmn:IntermediateThrowEvent')\n          && eventDefinitionHelper.getLinkEventDefinition(element));\n      }\n    };\n\n    var inputOutputTab = {\n      id: 'input-output',\n      label: translate('Input/Output'),\n      groups: createInputOutputTabGroups(element, bpmnFactory, elementTemplates, translate)\n    };*/\n\n/*\n    var connectorTab = {\n      id: 'connector',\n      label: translate('Connector'),\n      groups: createConnectorTabGroups(element, bpmnFactory, elementRegistry, translate),\n      enabled: function(element) {\n        var bo = implementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n        return bo && implementationTypeHelper.getImplementationType(bo) === 'connector';\n      }\n    };\n\n    var fieldInjectionsTab = {\n      id: 'field-injections',\n      label: translate('Field Injections'),\n      groups: createFieldInjectionsTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    var extensionsTab = {\n      id: 'extensionElements',\n      label: translate('Extensions'),\n      groups: createExtensionElementsGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n*/\n\n    return [\n      generalTab,\n      //elementTemplateTab,\n     // variablesTab,\n  //    processVariablesTab,\n   //   connectorTab,\n      formsTab\n   //   listenersTab,\n    //  inputOutputTab,\n    //  fieldInjectionsTab,\n   //   extensionsTab\n    ];\n  };\n\n}\n\nCamundaPropertiesProvider.$inject = [\n  'bpmnFactory',\n  'canvas',\n  'commandStack',\n  'elementRegistry',\n  'elementTemplates',\n  'eventBus',\n  'modeling',\n  'replace',\n  'selection',\n  'translate'\n];\n\ninherits(CamundaPropertiesProvider, PropertiesActivator);\n\nmodule.exports = CamundaPropertiesProvider;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    entryFactory = require('../../../factory/EntryFactory'),\n    participantHelper = require('../../../helper/ParticipantHelper'),\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    nameEntryFactory = require('./implementation/Name'),\n    utils = require('../../../Utils');\n\nmodule.exports = function(group, element, translate, options) {\n  var businessObject = getBusinessObject(element);\n\n  var processIdDescription = options && options.processIdDescription;\n\n  if (is(element, 'bpmn:Process') || (is(element, 'bpmn:Participant') && businessObject.get('processRef'))) {\n\n    /**\n     * processId\n     */\n    if (is(element, 'bpmn:Participant')) {\n      var idEntry = entryFactory.validationAwareTextField(translate, {\n        id: 'process-id',\n        label: translate('Process Id'),\n        description: processIdDescription && translate(processIdDescription),\n        modelProperty: 'processId'\n      });\n\n      // in participants we have to change the default behavior of set and get\n      idEntry.get = function(element) {\n        var properties = participantHelper.getProcessBusinessObject(element, 'id');\n        return { processId: properties.id };\n      };\n\n      idEntry.set = function(element, values) {\n        return participantHelper.modifyProcessBusinessObject(element, 'id', { id: values.processId });\n      };\n\n      idEntry.validate = function(element, values) {\n        var idValue = values.processId;\n\n        var bo = getBusinessObject(element);\n\n        var processIdError = utils.isIdValid(bo.processRef, idValue, translate);\n\n        return processIdError ? { processId: processIdError } : {};\n      };\n\n      group.entries.push(idEntry);\n\n\n      /**\n       * process name\n       */\n      var processNameEntry = nameEntryFactory(element, {\n        id: 'process-name',\n        label: translate('Process Name')\n      })[0];\n\n      // in participants we have to change the default behavior of set and get\n      processNameEntry.get = function(element) {\n        return participantHelper.getProcessBusinessObject(element, 'name');\n      };\n\n      processNameEntry.set = function(element, values) {\n        return participantHelper.modifyProcessBusinessObject(element, 'name', values);\n      };\n\n      group.entries.push(processNameEntry);\n    }\n  }\n};\n","'use strict';\n\nvar domify = require('min-dom').domify;\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    cmdHelper = require('../helper/CmdHelper'),\n    escapeHTML = require('../Utils').escapeHTML;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\n\nvar checkbox = function(translate, options, defaultParameters) {\n  var resource = defaultParameters,\n      id = resource.id,\n      label = options.label || id,\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n      description = options.description;\n\n  resource.html =\n    domify('<input id=\"camunda-' + escapeHTML(id) + '\" ' +\n         'type=\"checkbox\" ' +\n         'name=\"' + escapeHTML(options.modelProperty) + '\" ' +\n         (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n         (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n         ' />' +\n    '<label for=\"camunda-' + escapeHTML(id) + '\" ' +\n         (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n         (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n         '>' + escapeHTML(label) + '</label>');\n\n  // add description below checkbox entry field\n  if (description) {\n    resource.html.appendChild(entryFieldDescription(translate, description, { show: canBeHidden && 'isHidden' }));\n  }\n\n  resource.get = function(element) {\n    var bo = getBusinessObject(element),\n        res = {};\n\n    res[options.modelProperty] = bo.get(options.modelProperty);\n\n    return res;\n  };\n\n  resource.set = function(element, values) {\n    var res = {};\n\n    res[options.modelProperty] = !!values[options.modelProperty];\n\n    return cmdHelper.updateProperties(element, res);\n  };\n\n  if (typeof options.set === 'function') {\n    resource.set = options.set;\n  }\n\n  if (typeof options.get === 'function') {\n    resource.get = options.get;\n  }\n\n  if (canBeDisabled) {\n    resource.isDisabled = function() {\n      return options.disabled.apply(resource, arguments);\n    };\n  }\n\n  if (canBeHidden) {\n    resource.isHidden = function() {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['bpp-checkbox'];\n\n  return resource;\n};\n\nmodule.exports = checkbox;\n","'use strict';\n\nvar assign = require('lodash/assign'),\n    find = require('lodash/find');\n\nvar domify = require('min-dom').domify,\n    domQuery = require('min-dom').query;\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar selectEntryFactory = require('./SelectEntryFactory'),\n    entryFieldDescription = require('./EntryFieldDescription');\n\n\n/**\n * The combo box is a special implementation of the select entry and adds the option 'custom' to the\n * select box. If 'custom' is selected, an additional text input field is shown which allows to define\n * a custom value.\n *\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} options.label\n * @param  {Array<Object>} options.selectOptions list of name/value pairs\n * @param  {string} options.modelProperty\n * @param  {function} options.get\n * @param  {function} options.set\n * @param  {string} [options.customValue] custom select option value (default: 'custom')\n * @param  {string} [options.customName] custom select option name visible in the select box (default: 'custom')\n *\n * @return {Object}\n */\nvar comboBox = function(translate, options) {\n\n  var selectOptions = options.selectOptions,\n      modelProperty = options.modelProperty,\n      customValue = options.customValue || 'custom',\n      customName = options.customName || 'custom ' + modelProperty,\n      description = options.description;\n\n  // check if a value is not a built in value\n  var isCustomValue = function(value) {\n    if (typeof value[modelProperty] === 'undefined') {\n      return false;\n    }\n\n    var isCustom = !find(selectOptions, function(option) {\n      return value[modelProperty] === option.value;\n    });\n\n    return isCustom;\n  };\n\n  var comboOptions = assign({}, options);\n\n  // true if the selected value in the select box is customValue\n  comboOptions.showCustomInput = function(element, node) {\n    var selectBox = domQuery('[data-entry=\"'+ options.id +'\"] select', node.parentNode);\n\n    if (selectBox) {\n      return selectBox.value === customValue;\n    }\n\n    return false;\n  };\n\n  comboOptions.get = function(element, node) {\n    var value = options.get(element, node);\n\n    var modifiedValues = {};\n\n    if (!isCustomValue(value)) {\n      modifiedValues[modelProperty] = value[modelProperty] || '';\n\n      return modifiedValues;\n    }\n\n    modifiedValues[modelProperty] = customValue;\n    modifiedValues['custom-'+modelProperty] = value[modelProperty];\n\n    return modifiedValues;\n  };\n\n  comboOptions.set = function(element, values, node) {\n    var modifiedValues = {};\n\n    // if the custom select option has been selected\n    // take the value from the text input field\n    if (values[modelProperty] === customValue) {\n      modifiedValues[modelProperty] = values['custom-' + modelProperty] || '';\n    }\n    else if (options.emptyParameter && values[modelProperty] === '') {\n      modifiedValues[modelProperty] = undefined;\n    } else {\n      modifiedValues[modelProperty] = values[modelProperty];\n    }\n    return options.set(element, modifiedValues, node);\n  };\n\n  comboOptions.selectOptions.push({ name: customName, value: customValue });\n\n  var comboBoxEntry = assign({}, selectEntryFactory(translate, comboOptions, comboOptions));\n\n  var fragment = document.createDocumentFragment();\n\n  fragment.appendChild(comboBoxEntry.html);\n\n  comboBoxEntry.html = fragment;\n\n  comboBoxEntry.html.appendChild(domify('<div class=\"bpp-field-wrapper bpp-combo-input\" ' +\n    'data-show=\"showCustomInput\"' +\n    '>' +\n    '<input id=\"camunda-' + escapeHTML(options.id) + '-input\" type=\"text\" name=\"custom-' +\n      escapeHTML(modelProperty) + '\" ' +\n    ' />' +\n  '</div>'));\n\n  // add description below combo box entry field\n  if (description) {\n    comboBoxEntry.html.appendChild(entryFieldDescription(translate, description, { show: 'showCustomInput' }));\n  }\n\n  return comboBoxEntry;\n};\n\nmodule.exports = comboBox;\n","'use strict';\n\nvar domify = require('min-dom').domify;\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\n\nvar textBox = function(translate, options, defaultParameters) {\n\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      canBeShown = !!options.show && typeof options.show === 'function',\n      description = options.description;\n\n  resource.html =\n    domify('<label for=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n    (canBeShown ? 'data-show=\"isShown\"' : '') +\n    '>' + label + '</label>' +\n    '<div class=\"bpp-field-wrapper\" ' +\n    (canBeShown ? 'data-show=\"isShown\"' : '') +\n    '>' +\n      '<div contenteditable=\"true\" id=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n            'name=\"' + escapeHTML(options.modelProperty) + '\" />' +\n    '</div>');\n\n  // add description below text box entry field\n  if (description) {\n    resource.html.appendChild(entryFieldDescription(translate, description, { show: canBeShown && 'isShown' }));\n  }\n\n  if (canBeShown) {\n    resource.isShown = function() {\n      return options.show.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['bpp-textbox'];\n\n  return resource;\n};\n\nmodule.exports = textBox;\n","'use strict';\n\nvar textField = require('./TextInputEntryFactory');\n\n/**\n * This function is a wrapper around TextInputEntryFactory.\n * It adds functionality to cache an invalid value entered in the\n * text input, instead of setting it on the business object.\n */\nvar validationAwareTextField = function(translate, options, defaultParameters) {\n\n  var modelProperty = options.modelProperty;\n\n  defaultParameters.get = function(element, node) {\n    var value = this.__lastInvalidValue;\n\n    delete this.__lastInvalidValue;\n\n    var properties = {};\n\n    properties[modelProperty] = value !== undefined ? value : options.getProperty(element, node);\n\n    return properties;\n  };\n\n  defaultParameters.set = function(element, values, node) {\n    var validationErrors = validate.apply(this, [ element, values, node ]),\n        propertyValue = values[modelProperty];\n\n    // make sure we do not update the id\n    if (validationErrors && validationErrors[modelProperty]) {\n      this.__lastInvalidValue = propertyValue;\n\n      return options.setProperty(element, {}, node);\n    } else {\n      var properties = {};\n\n      properties[modelProperty] = propertyValue;\n\n      return options.setProperty(element, properties, node);\n    }\n  };\n\n  var validate = defaultParameters.validate = function(element, values, node) {\n    var value = values[modelProperty] || this.__lastInvalidValue;\n\n    var property = {};\n    property[modelProperty] = value;\n\n    return options.validate(element, property, node);\n  };\n\n  return textField(translate, options, defaultParameters);\n};\n\nmodule.exports = validationAwareTextField;\n","'use strict';\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar cmdHelper = require('../helper/CmdHelper');\n\nvar domQuery = require('min-dom').query,\n    domAttr = require('min-dom').attr,\n    domClosest = require('min-dom').closest;\n\nvar filter = require('lodash/filter'),\n    forEach = require('lodash/forEach'),\n    keys = require('lodash/keys');\n\nvar domify = require('min-dom').domify;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\nvar updateSelection = require('selection-update');\n\nvar TABLE_ROW_DIV_SNIPPET = '<div class=\"bpp-field-wrapper bpp-table-row\">';\nvar DELETE_ROW_BUTTON_SNIPPET = '<button class=\"action-button clear\" data-action=\"deleteElement\">' +\n                                  '<span>X</span>' +\n                                '</button>';\n\nfunction createInputRowTemplate(properties, canRemove) {\n  var template = TABLE_ROW_DIV_SNIPPET;\n  template += createInputTemplate(properties, canRemove);\n  template += canRemove ? DELETE_ROW_BUTTON_SNIPPET : '';\n  template += '</div>';\n\n  return template;\n}\n\nfunction createInputTemplate(properties, canRemove) {\n  var columns = properties.length;\n  var template = '';\n  forEach(properties, function(prop) {\n    template += '<input class=\"bpp-table-row-columns-' + columns + ' ' +\n                               (canRemove ? 'bpp-table-row-removable' : '') + '\" ' +\n                       'id=\"camunda-table-row-cell-input-value\" ' +\n                       'type=\"text\" ' +\n                       'name=\"' + escapeHTML(prop) + '\" />';\n  });\n  return template;\n}\n\nfunction createLabelRowTemplate(labels) {\n  var template = TABLE_ROW_DIV_SNIPPET;\n  template += createLabelTemplate(labels);\n  template += '</div>';\n\n  return template;\n}\n\nfunction createLabelTemplate(labels) {\n  var columns = labels.length;\n  var template = '';\n  forEach(labels, function(label) {\n    template += '<label class=\"bpp-table-row-columns-' + columns + '\">' + escapeHTML(label) + '</label>';\n  });\n  return template;\n}\n\nfunction pick(elements, properties) {\n  return (elements || []).map(function(elem) {\n    var newElement = {};\n    forEach(properties, function(prop) {\n      newElement[prop] = elem[prop] || '';\n    });\n    return newElement;\n  });\n}\n\nfunction diff(element, node, values, oldValues, editable) {\n  return filter(values, function(value, idx) {\n    return !valueEqual(element, node, value, oldValues[idx], editable, idx);\n  });\n}\n\nfunction valueEqual(element, node, value, oldValue, editable, idx) {\n  if (value && !oldValue) {\n    return false;\n  }\n  var allKeys = keys(value).concat(keys(oldValue));\n\n  return allKeys.every(function(key) {\n    var n = value[key] || undefined;\n    var o = oldValue[key] || undefined;\n    return !editable(element, node, key, idx) || n === o;\n  });\n}\n\nfunction getEntryNode(node) {\n  return domClosest(node, '[data-entry]', true);\n}\n\nfunction getContainer(node) {\n  return domQuery('div[data-list-entry-container]', node);\n}\n\nfunction getSelection(node) {\n  return {\n    start: node.selectionStart,\n    end: node.selectionEnd\n  };\n}\n\nfunction setSelection(node, selection) {\n  node.selectionStart = selection.start;\n  node.selectionEnd = selection.end;\n}\n\n/**\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} options.description\n * @param  {Array<string>} options.modelProperties\n * @param  {Array<string>} options.labels\n * @param  {Function} options.getElements - this callback function must return a list of business object items\n * @param  {Function} options.removeElement\n * @param  {Function} options.addElement\n * @param  {Function} options.updateElement\n * @param  {Function} options.editable\n * @param  {Function} options.setControlValue\n * @param  {Function} options.show\n *\n * @return {Object}\n */\nmodule.exports = function(translate, options) {\n\n  var id = options.id,\n      modelProperties = options.modelProperties,\n      labels = options.labels,\n      description = options.description;\n\n  var labelRow = createLabelRowTemplate(labels);\n\n  var getElements = options.getElements;\n\n  var removeElement = options.removeElement,\n      canRemove = typeof removeElement === 'function';\n\n  var addElement = options.addElement,\n      canAdd = typeof addElement === 'function',\n      addLabel = options.addLabel || 'Add Value';\n\n  var updateElement = options.updateElement,\n      canUpdate = typeof updateElement === 'function';\n\n  var editable = options.editable || function() { return true; },\n      setControlValue = options.setControlValue;\n\n  var show = options.show,\n      canBeShown = typeof show === 'function';\n\n  var elements = function(element, node) {\n    return pick(getElements(element, node), modelProperties);\n  };\n\n  var html = domify((canAdd ?\n    '<div class=\"bpp-table-add-row\" ' + (canBeShown ? 'data-show=\"show\"' : '') + '>' +\n          '<label>' + escapeHTML(addLabel) + '</label>' +\n          '<button class=\"action-button add\" data-action=\"addElement\"><span>+</span></button>' +\n        '</div>' : '') +\n        '<div class=\"bpp-table\" data-show=\"showTable\">' +\n          '<div class=\"bpp-field-wrapper bpp-table-row\">' +\n             labelRow +\n          '</div>' +\n          '<div data-list-entry-container>' +\n          '</div>' +\n        '</div>');\n\n  if (description) {\n    html.appendChild(entryFieldDescription(translate, description, { show: 'showTable' }));\n  }\n\n  var factory = {\n    id: id,\n    html: html,\n\n    get: function(element, node) {\n      var boElements = elements(element, node, this.__invalidValues);\n\n      var invalidValues = this.__invalidValues;\n\n      delete this.__invalidValues;\n\n      forEach(invalidValues, function(value, idx) {\n        var element = boElements[idx];\n\n        forEach(modelProperties, function(prop) {\n          element[prop] = value[prop];\n        });\n      });\n\n      return boElements;\n    },\n\n    set: function(element, values, node) {\n      var action = this.__action || {};\n      delete this.__action;\n\n      if (action.id === 'delete-element') {\n        return removeElement(element, node, action.idx);\n      }\n      else if (action.id === 'add-element') {\n        return addElement(element, node);\n      }\n      else if (canUpdate) {\n        var commands = [],\n            valuesToValidate = values;\n\n        if (typeof options.validate !== 'function') {\n          valuesToValidate = diff(element, node, values, elements(element, node), editable);\n        }\n\n        var self = this;\n\n        forEach(valuesToValidate, function(value) {\n          var validationError,\n              idx = values.indexOf(value);\n\n          if (typeof options.validate === 'function') {\n            validationError = options.validate(element, value, node, idx);\n          }\n\n          if (!validationError) {\n            var cmd = updateElement(element, value, node, idx);\n\n            if (cmd) {\n              commands.push(cmd);\n            }\n          } else {\n\n            // cache invalid value in an object by index as key\n            self.__invalidValues = self.__invalidValues || {};\n            self.__invalidValues[idx] = value;\n\n            // execute a command, which does not do anything\n            commands.push(cmdHelper.updateProperties(element, {}));\n          }\n        });\n\n        return commands;\n      }\n    },\n    createListEntryTemplate: function(value, index, selectBox) {\n      return createInputRowTemplate(modelProperties, canRemove);\n    },\n\n    addElement: function(element, node, event, scopeNode) {\n      var template = domify(createInputRowTemplate(modelProperties, canRemove));\n\n      var container = getContainer(node);\n      container.appendChild(template);\n\n      this.__action = {\n        id: 'add-element'\n      };\n\n      return true;\n    },\n\n    deleteElement: function(element, node, event, scopeNode) {\n      var container = getContainer(node);\n      var rowToDelete = event.delegateTarget.parentNode;\n      var idx = parseInt(domAttr(rowToDelete, 'data-index'), 10);\n\n      container.removeChild(rowToDelete);\n\n      this.__action = {\n        id: 'delete-element',\n        idx: idx\n      };\n\n      return true;\n    },\n\n    editable: function(element, rowNode, input, prop, value, idx) {\n      var entryNode = domClosest(rowNode, '[data-entry]');\n      return editable(element, entryNode, prop, idx);\n    },\n\n    show: function(element, entryNode, node, scopeNode) {\n      entryNode = getEntryNode(entryNode);\n      return show(element, entryNode, node, scopeNode);\n    },\n\n    showTable: function(element, entryNode, node, scopeNode) {\n      entryNode = getEntryNode(entryNode);\n      var elems = elements(element, entryNode);\n      return elems && elems.length && (!canBeShown || show(element, entryNode, node, scopeNode));\n    },\n\n    validateListItem: function(element, value, node, idx) {\n      if (typeof options.validate === 'function') {\n        return options.validate(element, value, node, idx);\n      }\n    }\n\n  };\n\n  // Update/set the selection on the correct position.\n  // It's the same code like for an input value in the PropertiesPanel.js.\n  if (setControlValue) {\n    factory.setControlValue = function(element, rowNode, input, prop, value, idx) {\n      var entryNode = getEntryNode(rowNode);\n\n      var isReadOnly = domAttr(input, 'readonly');\n      var oldValue = input.value;\n\n      var selection;\n\n      // prevents input fields from having the value 'undefined'\n      if (value === undefined) {\n        value = '';\n      }\n\n      // when the attribute 'readonly' exists, ignore the comparison\n      // with 'oldValue' and 'value'\n      if (!!isReadOnly && oldValue === value) {\n        return;\n      }\n\n      // update selection on undo/redo\n      if (document.activeElement === input) {\n        selection = updateSelection(getSelection(input), oldValue, value);\n      }\n\n      setControlValue(element, entryNode, input, prop, value, idx);\n\n      if (selection) {\n        setSelection(input, selection);\n      }\n\n    };\n  }\n\n  return factory;\n\n};\n","'use strict';\n\n/**\n * The label factory provides a label entry. For the label text\n * it expects either a string provided by the options.labelText\n * parameter or it could be generated programmatically using a\n * function passed as the options.get parameter.\n *\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} [options.labelText]\n * @param  {Function} [options.get]\n * @param  {Function} [options.showLabel]\n * @param  {Boolean} [options.divider] adds a divider at the top of the label if true; default: false\n */\nvar label = function(options) {\n  return {\n    id: options.id,\n    html: '<label data-value=\"label\" ' +\n            'data-show=\"showLabel\" ' +\n            'class=\"entry-label' + (options.divider ? ' divider' : '') + '\">' +\n          '</label>',\n    get: function(element, node) {\n      if (typeof options.get === 'function') {\n        return options.get(element, node);\n      }\n      return { label: options.labelText };\n    },\n    showLabel: function(element, node) {\n      if (typeof options.showLabel === 'function') {\n        return options.showLabel(element, node);\n      }\n      return true;\n    }\n  };\n};\n\nmodule.exports = label;\n","'use strict';\n\nvar domify = require('min-dom').domify;\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\nvar bind = require('lodash/bind');\n\n/**\n * An entry that renders a clickable link.\n *\n * A passed {@link options#handleClick} handler is responsible\n * to process the click.\n *\n * The link may be conditionally shown or hidden. This can be\n * controlled via the {@link options.showLink}.\n *\n * @param {Object} options\n * @param {String} options.id\n * @param {String} [options.buttonLabel]\n * @param {Function} options.handleClick\n * @param {Function} [options.showLink] returning false to hide link\n * @param {String} [options.description]\n *\n * @example\n *\n * var linkEntry = link({\n *   id: 'foo',\n *   description: 'Some Description',\n *   handleClick: function(element, node, event) { ... },\n *   showLink: function(element, node) { ... }\n * });\n *\n * @return {Entry} the newly created entry\n */\nfunction link(translate, options) {\n\n  var id = options.id,\n      buttonLabel = options.buttonLabel || id,\n      showLink = options.showLink,\n      handleClick = options.handleClick,\n      description = options.description,\n      label = options.label;\n\n  if (showLink && typeof showLink !== 'function') {\n    throw new Error('options.showLink must be a function');\n  }\n\n  if (typeof handleClick !== 'function') {\n    throw new Error('options.handleClick must be a function');\n  }\n\n  var resource = {\n    id: id,\n    html: document.createDocumentFragment()\n  };\n\n  if (label) {\n    resource.html.appendChild(domify('<label for=\"camunda-' + escapeHTML(id) + '\" ' +\n      (showLink ? 'data-show=\"showLink\" ' : '') +\n      '>'+ escapeHTML(label) +'</label>'));\n  }\n\n  resource.html.appendChild(domify('<div class=\"bpp-field-wrapper\">' +\n    '<a data-action=\"handleClick\" ' +\n    (showLink ? 'data-show=\"showLink\" ' : '') +\n    'class=\"bpp-entry-link' + (options.cssClasses ? ' ' + escapeHTML(options.cssClasses) : '') +\n    '\">' + escapeHTML(buttonLabel) + '</a></div>'));\n\n\n  // add description below link entry field\n  if (description) {\n    resource.html.appendChild(entryFieldDescription(translate, description, { show: 'showLink' }));\n  }\n\n  resource.handleClick = bind(handleClick, resource);\n\n  if (typeof showLink === 'function') {\n    resource.showLink = function() {\n      return showLink.apply(resource, arguments);\n    };\n  }\n\n  return resource;\n}\n\nmodule.exports = link;\n","var baseRest = require('./_baseRest'),\n    createWrap = require('./_createWrap'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_PARTIAL_FLAG = 32;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of `thisArg`\n * and `partials` prepended to the arguments it receives.\n *\n * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for partially applied arguments.\n *\n * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n * property of bound functions.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * function greet(greeting, punctuation) {\n *   return greeting + ' ' + this.user + punctuation;\n * }\n *\n * var object = { 'user': 'fred' };\n *\n * var bound = _.bind(greet, object, 'hi');\n * bound('!');\n * // => 'hi fred!'\n *\n * // Bound with placeholders.\n * var bound = _.bind(greet, object, _, '!');\n * bound('hi');\n * // => 'hi fred!'\n */\nvar bind = baseRest(function(func, thisArg, partials) {\n  var bitmask = WRAP_BIND_FLAG;\n  if (partials.length) {\n    var holders = replaceHolders(partials, getHolder(bind));\n    bitmask |= WRAP_PARTIAL_FLAG;\n  }\n  return createWrap(func, bitmask, thisArg, partials, holders);\n});\n\n// Assign default placeholders.\nbind.placeholder = {};\n\nmodule.exports = bind;\n","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","var LazyWrapper = require('./_LazyWrapper'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    lodash = require('./wrapperLodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n","var realNames = require('./_realNames');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    baseLodash = require('./_baseLodash'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike'),\n    wrapperClone = require('./_wrapperClone');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array and iteratees accept only\n * one argument. The heuristic for whether a section qualifies for shortcut\n * fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nmodule.exports = lodash;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    copyArray = require('./_copyArray');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nmodule.exports = wrapperClone;\n","/** Used to match wrap detail comments. */\nvar reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n    reSplitDetails = /,? & /;\n\n/**\n * Extracts wrapper details from the `source` body comment.\n *\n * @private\n * @param {string} source The source to inspect.\n * @returns {Array} Returns the wrapper details.\n */\nfunction getWrapDetails(source) {\n  var match = source.match(reWrapDetails);\n  return match ? match[1].split(reSplitDetails) : [];\n}\n\nmodule.exports = getWrapDetails;\n","/** Used to match wrap detail comments. */\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;\n\n/**\n * Inserts wrapper `details` in a comment at the top of the `source` body.\n *\n * @private\n * @param {string} source The source to modify.\n * @returns {Array} details The details to insert.\n * @returns {string} Returns the modified source.\n */\nfunction insertWrapDetails(source, details) {\n  var length = details.length;\n  if (!length) {\n    return source;\n  }\n  var lastIndex = length - 1;\n  details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n  details = details.join(length > 2 ? ', ' : ' ');\n  return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\n\nmodule.exports = insertWrapDetails;\n","var arrayEach = require('./_arrayEach'),\n    arrayIncludes = require('./_arrayIncludes');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256,\n    WRAP_FLIP_FLAG = 512;\n\n/** Used to associate wrap methods with their bit flags. */\nvar wrapFlags = [\n  ['ary', WRAP_ARY_FLAG],\n  ['bind', WRAP_BIND_FLAG],\n  ['bindKey', WRAP_BIND_KEY_FLAG],\n  ['curry', WRAP_CURRY_FLAG],\n  ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n  ['flip', WRAP_FLIP_FLAG],\n  ['partial', WRAP_PARTIAL_FLAG],\n  ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n  ['rearg', WRAP_REARG_FLAG]\n];\n\n/**\n * Updates wrapper `details` based on `bitmask` flags.\n *\n * @private\n * @returns {Array} details The details to modify.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Array} Returns `details`.\n */\nfunction updateWrapDetails(details, bitmask) {\n  arrayEach(wrapFlags, function(pair) {\n    var value = '_.' + pair[0];\n    if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n      details.push(value);\n    }\n  });\n  return details.sort();\n}\n\nmodule.exports = updateWrapDetails;\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and\n * `_.rearg` modify function arguments, making the order in which they are\n * executed important, preventing the merging of metadata. However, we make\n * an exception for a safe combined case where curried functions have `_.ary`\n * and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & WRAP_BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = value;\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & WRAP_ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nmodule.exports = mergeData;\n","'use strict';\n\nvar domClasses = require('min-dom').classes,\n    domify = require('min-dom').domify,\n    domQuery = require('min-dom').query;\n\nvar assign = require('min-dash').assign,\n    find = require('min-dash').find,\n    forEach = require('min-dash').forEach,\n    debounce = require('min-dash').debounce;\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\nvar CLASS_ACTIVE = 'active';\n\nvar FOCUS_LEAVE_DELAY = '150';\n\nvar TEXT_NODE_NAME = '#text';\n\nvar SUGGESTION_LIST_BOX_THRESHOLD = 15;\n\nvar noop = function() {};\n\n\nvar autoSuggestTextBox = function(translate, options, defaultParameters) {\n\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      canBeShown = !!options.show && typeof options.show === 'function',\n      description = options.description;\n\n  resource.html =\n    domify('<label ' +\n      'for=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n      (canBeShown ? 'data-show=\"isShown\"' : '') +\n      '>' + label + '</label>' +\n    '<div class=\"bpp-field-wrapper\" ' +\n      (canBeShown ? 'data-show=\"isShown\"' : '') +\n    '>' +\n      '<div ' +\n        'contenteditable=\"true\"' +\n        'id=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n        'name=\"' + escapeHTML(options.modelProperty) + '\" ' +\n        'data-auto-suggest=\"suggestItems\"' +\n        'data-blur=\"handleFocusLeave\"' +\n      '></div>' +\n      '<div class=\"bpp-autosuggest-list\"></div>' +\n    '</div>');\n\n  if (description) {\n    domQuery('.bpp-field-wrapper', resource.html).appendChild(entryFieldDescription(translate, description));\n  }\n\n  if (canBeShown) {\n    resource.isShown = function() {\n      return options.show.apply(resource, arguments);\n    };\n  }\n\n  /**\n   * Ensure selected item got recognized before list got hidden\n   */\n  resource.handleFocusLeave = debounce(function(element, entryNode) {\n    clearSuggestionList(entryNode);\n    hideSuggestionList(entryNode);\n  }, FOCUS_LEAVE_DELAY);\n\n  /**\n   * Fill the suggestion list relative to the current word under the cursor.\n   *\n   * @param {djs.model.Base} element\n   * @param {HTMLElement} entryNode\n   * @param {Event} event\n   */\n  resource.suggestItems = function(element, entryNode, event) {\n    var editorNode = event.delegateTarget,\n        range = getSelectionRange(),\n        focusNode = range.focusNode,\n        caretPosition = getCaretPosition(range.range),\n        canSuggest = options.canSuggest || noop,\n        getItems = options.getItems;\n\n    function updateSuggestionList(items) {\n      var listNode = domQuery('.bpp-autosuggest-list', entryNode);\n\n      // (1) clear list before\n      clearSuggestionList(entryNode);\n\n      // (2) keep list invisible if no items\n      if (!items.length) {\n        return;\n      }\n\n      domClasses(listNode).add(CLASS_ACTIVE);\n\n      // (3) create new items\n      forEach(items, function(item) {\n        createSuggestionItem(listNode, item);\n      });\n\n      // (4) place list relative to cursor\n      var position = getSuggestionListPosition(listNode, document.body).position;\n      setPosition(listNode, position.x, position.y);\n    }\n\n    function createSuggestionItem(parentNode, value) {\n      var itemNode = domify('<div class=\"bpp-autosuggest-item\"></div>');\n      itemNode.innerText = escapeHTML(value);\n\n      parentNode.appendChild(itemNode);\n\n      itemNode.addEventListener('click', handleItemClick);\n    }\n\n    function handleItemClick(event) {\n      var value = event.target.innerText,\n          wordIndex = currentWord.index,\n          start = wordIndex,\n          end = wordIndex + currentWord[0].length;\n\n      selectRange(focusNode, start, end);\n\n      document.execCommand('insertText', false, value);\n\n      clearSuggestionList(entryNode);\n      hideSuggestionList(entryNode);\n    }\n\n    hideSuggestionList(entryNode);\n\n    var currentWord = (getWordUnderCursor(focusNode, caretPosition) || []);\n\n    if (currentWord && canSuggest(currentWord, editorNode, focusNode)) {\n      var items = getItems(element, entryNode),\n          results = [],\n          value = currentWord[0];\n\n      // sort matches by\n      // (1) item starts with value (case insensitive)\n      // (2) value is inside suggested item (case insensitive)\n      forEach(items, function(item) {\n        var itemLowerCase = item.toLowerCase(),\n            valueLowerCase = value && value.toLowerCase();\n\n        if (itemLowerCase.indexOf(valueLowerCase) === 0) {\n          results.push(item);\n        }\n      });\n\n      forEach(items, function(item) {\n        var itemLowerCase = item.toLowerCase(item),\n            valueLowerCase = value && value.toLowerCase();\n\n        if (itemLowerCase.indexOf(valueLowerCase) >= 1) {\n          results.push(item);\n        }\n      });\n\n      updateSuggestionList(results);\n    }\n  };\n\n  /**\n  * Calculates the position coordinates of the suggestion list,\n  * dependant on position of cursor\n  *\n  * @return {Object} coordinates\n  */\n  function getSuggestionListPosition(listNode, container) {\n    var range = getSelectionRange().range,\n        cursorBounds = range.getBoundingClientRect(),\n        clientBounds = container.getBoundingClientRect(),\n        listBounds = listNode.getBoundingClientRect();\n\n    var coordinates = {\n      'top-left': {\n        x: cursorBounds.right - listBounds.width,\n        y: cursorBounds.top - listBounds.height\n      },\n      'top-right': {\n        x: cursorBounds.right,\n        y: cursorBounds.top - listBounds.height\n      },\n      'bottom-left': {\n        x: cursorBounds.right - listBounds.width,\n        y: cursorBounds.top + SUGGESTION_LIST_BOX_THRESHOLD\n      },\n      'bottom-right': {\n        x: cursorBounds.right,\n        y: cursorBounds.top + SUGGESTION_LIST_BOX_THRESHOLD\n      }\n    };\n\n    var orientation = '';\n\n    if (cursorBounds.top + SUGGESTION_LIST_BOX_THRESHOLD + listBounds.height > (clientBounds.height + clientBounds.top)) {\n      orientation = 'top-';\n    } else {\n      orientation = 'bottom-';\n    }\n\n    if (cursorBounds.right + listBounds.width > (clientBounds.width + clientBounds.left)) {\n      orientation += 'left';\n    } else {\n      orientation += 'right';\n    }\n\n    return { orientation: orientation, position: coordinates[orientation] };\n  }\n\n  resource.getSuggestionListPosition = getSuggestionListPosition;\n\n\n  resource.cssClasses = ['bpp-autosuggest-textbox'];\n\n  return resource;\n};\n\nmodule.exports = autoSuggestTextBox;\n\n\n// helpers /////////////////////////////\n\nfunction getSelectionRange() {\n  var selection = document.getSelection();\n\n  return {\n    range: selection.getRangeAt(0),\n    focusNode: selection.focusNode\n  };\n}\n\nfunction getCaretPosition(range) {\n  return range.startOffset;\n}\n\nfunction selectRange(focusNode, start, end) {\n  var range = document.createRange(),\n      selection = window.getSelection();\n\n  range.setStart(focusNode, start);\n  range.setEnd(focusNode, end);\n\n  selection.removeAllRanges();\n\n  selection.addRange(range);\n}\n\nfunction hideSuggestionList(entryNode) {\n  var listNode = domQuery('.bpp-autosuggest-list', entryNode);\n  domClasses(listNode).remove(CLASS_ACTIVE);\n}\n\nfunction clearSuggestionList(entryNode) {\n  var listNode = domQuery('.bpp-autosuggest-list', entryNode);\n  while (listNode.firstChild) {\n    listNode.removeChild(listNode.firstChild);\n  }\n}\n\nfunction getWordUnderCursor(node, currentCursorPositon) {\n  var value = node.nodeName === TEXT_NODE_NAME ? node.wholeText : node.innerText,\n      allWords = findWords(value);\n\n  return find(allWords, function(word) {\n    var matchValue = word[0],\n        wordStart = word.index,\n        wordEnd = wordStart + matchValue.length - 1;\n\n    return (\n      wordStart <= (currentCursorPositon - 1) &&\n      wordEnd >= (currentCursorPositon - 1)\n    );\n  });\n}\n\n/**\n * Retrieves all words inside a text (also inside clauses and after operators)\n *\n * @param {string} value\n *\n * @return {Array<Object>}\n */\nfunction findWords(value) {\n\n  // eslint-disable-next-line no-useless-escape\n  return matchAll(value, /[^\\s\\r\\(\\)\\,\\+\\-\\*\\/\\{\\}]+/g);\n}\n\nfunction matchAll(value, regex) {\n  var regexp = RegExp(regex),\n      match,\n      matches = [];\n\n  while ((match = regexp.exec(value)) !== null) {\n    matches.push(match);\n  }\n\n  return matches;\n}\n\nfunction setPosition(el, x, y) {\n  assign(el.style, { left: x + 'px', top: y + 'px' });\n}\n","'use strict';\n\nvar escapeHTML = require('../Utils').escapeHTML;\nvar domQuery = require('min-dom').query;\n\n\n/**\n * @param  {object} options\n * @param  {string} options.id\n * @param  {string} [options.title='']\n * @param  {string} [options.description='']\n * @param  {boolean} [options.open=false]\n * @param  {Function} [options.onToggle]\n * @param  {Function} [options.onRemove]\n *\n * @return {object}\n */\nfunction Collapsible(options) {\n\n  var id = options.id,\n      title = options.title || '',\n      description = options.description || '',\n      open = !!options.open || false,\n      onToggle = options.onToggle || noop,\n      onRemove = options.onRemove,\n      cssClasses = options.cssClasses || [];\n\n\n  var collapsibleEntry = {\n    id: id,\n    toggle: toggle,\n    isOpen: isOpen,\n    set: set,\n    setOpen: setOpen,\n    get: get\n  };\n\n  if (typeof onRemove === 'function') {\n    collapsibleEntry.onRemove = function(entry, entryNode, actionId, event) {\n      var commands = onRemove(entry, entryNode, actionId, event);\n\n      if (commands) {\n        scheduleCommands(commands, entryNode);\n        return true;\n      }\n    };\n  }\n\n  function get(element, entryNode) {\n    if (options.get) {\n      return options.get(element, entryNode);\n    }\n\n    return {\n      title: title || '',\n      description: description || ''\n    };\n  }\n\n  function set() {\n    var commands = this._commands;\n\n    if (commands) {\n      delete this._commands;\n      return commands;\n    }\n  }\n\n  function toggle(element, entryNode, event, scope) {\n    var value = !open;\n\n    setOpen(value, entryNode);\n    onToggle(value, entryNode);\n  }\n\n  /**\n   * Set entry's open state.\n   *\n   * @param {boolean} value\n   * @param {HTMLElement} entryNode\n   */\n  function setOpen(value, entryNode) {\n    open = value;\n    entryNode.classList.toggle('bpp-collapsible--collapsed', !value);\n  }\n\n  function isOpen() {\n    return open;\n  }\n\n  /**\n   * Schedule commands to be run with next `set` method call.\n   *\n   * @param {Array<any>} commands\n   * @param {HTMLElement} entryNode\n   */\n  function scheduleCommands(commands, entryNode) {\n    collapsibleEntry._commands = commands;\n\n    // @barmac: hack to make properties panel call `set`\n    var input = domQuery('input[type=\"hidden\"]', entryNode);\n    input.value = 1;\n  }\n\n  collapsibleEntry.html = '<div class=\"bpp-field-wrapper\" data-action=\"toggle\"><input name=\"hidden\" type=\"hidden\">' +\n    '<span class=\"bpp-collapsible__icon\"></span>' +\n    '<label class=\"bpp-collapsible__title\" data-value=\"title\">' + escapeHTML(title) + '</label>' +\n    '<label class=\"bpp-collapsible__description\" data-value=\"description\">' + escapeHTML(description) + '</label>' +\n    (onRemove ? '<button class=\"bpp-collapsible__remove action-button clear\" data-action=\"onRemove\"></button>' : '') +\n  '</div>';\n\n  collapsibleEntry.cssClasses = cssClasses.concat(open ?\n    [ 'bpp-collapsible' ] : [ 'bpp-collapsible', 'bpp-collapsible--collapsed' ]\n  );\n\n  return collapsibleEntry;\n}\n\nmodule.exports = Collapsible;\n\nfunction noop() {}\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    cmdHelper = require('../helper/CmdHelper'),\n    escapeHTML = require('../Utils').escapeHTML;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\nvar domify = require('min-dom').domify;\n\nvar toggleSwitch = function(translate, options, defaultParameters) {\n  var resource = defaultParameters,\n      id = resource.id,\n      label = options.label || id,\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n      isOn = options.isOn,\n      descriptionOn = options.descriptionOn,\n      descriptionOff = options.descriptionOff,\n      labelOn = options.labelOn,\n      labelOff = options.labelOff;\n\n  resource.html = document.createDocumentFragment();\n\n  resource.html.appendChild(domify('<label for=\"' + escapeHTML(id) + '\" ' +\n      (canBeHidden ? 'data-show=\"shouldShow\"' : '') +\n      '>' + escapeHTML(label) + '</label>' +\n    '<div class=\"bpp-field-wrapper\"' +\n    (canBeHidden ? 'data-show=\"shouldShow\"' : '') +\n    '>' +\n      '<label class=\"bpp-toggle-switch__switcher\">' +\n        '<input id=\"' + escapeHTML(id) + '\" ' +\n            'type=\"checkbox\" ' +\n            'name=\"' + escapeHTML(options.modelProperty) + '\" />' +\n        '<span class=\"bpp-toggle-switch__slider\"></span>' +\n      '</label>' +\n      '<p class=\"bpp-toggle-switch__label\" data-show=\"isOn\">' +\n        escapeHTML(labelOn) +\n      '</p>' +\n      '<p class=\"bpp-toggle-switch__label\" data-show=\"isOff\">' +\n        escapeHTML(labelOff) +\n      '</p>' +\n    '</div>'));\n\n  if (descriptionOn) {\n    resource.html.appendChild(entryFieldDescription(translate, descriptionOn, { show: 'isOn' }));\n  }\n\n  if (descriptionOff) {\n    resource.html.appendChild(entryFieldDescription(translate, descriptionOff, { show: 'isOff' }));\n  }\n\n  resource.get = function(element) {\n    var bo = getBusinessObject(element),\n        res = {};\n\n    res[options.modelProperty] = bo.get(options.modelProperty);\n\n    return res;\n  };\n\n  resource.set = function(element, values) {\n    var res = {};\n\n    res[options.modelProperty] = !!values[options.modelProperty];\n\n    return cmdHelper.updateProperties(element, res);\n  };\n\n  if (typeof options.set === 'function') {\n    resource.set = options.set;\n  }\n\n  if (typeof options.get === 'function') {\n    resource.get = options.get;\n  }\n\n  if (canBeHidden) {\n    resource.shouldShow = function() {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n\n  resource.isOn = function() {\n    if (canBeHidden && !resource.shouldShow()) {\n      return false;\n    }\n\n    return isOn.apply(resource, arguments);\n  };\n\n  resource.isOff = function() {\n    if (canBeHidden && !resource.shouldShow()) {\n      return false;\n    }\n\n    return !resource.isOn();\n  };\n\n  resource.cssClasses = ['bpp-toggle-switch'];\n\n  return resource;\n};\n\nmodule.exports = toggleSwitch;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper');\n\nvar forEach = require('lodash/forEach');\n\nvar message = require('./implementation/MessageEventDefinition'),\n    signal = require('./implementation/SignalEventDefinition'),\n    error = require('./implementation/ErrorEventDefinition'),\n    escalation = require('./implementation/EscalationEventDefinition'),\n    timer = require('./implementation/TimerEventDefinition'),\n    compensation = require('./implementation/CompensateEventDefinition'),\n    condition = require('./implementation/ConditionalEventDefinition');\n\n\nmodule.exports = function(group, element, bpmnFactory, elementRegistry, translate) {\n  var events = [\n    'bpmn:StartEvent',\n    'bpmn:EndEvent',\n    'bpmn:IntermediateThrowEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:IntermediateCatchEvent'\n  ];\n\n  // Message and Signal Event Definition\n  forEach(events, function(event) {\n    if (is(element, event)) {\n\n      var messageEventDefinition = eventDefinitionHelper.getMessageEventDefinition(element),\n          signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(element);\n\n      if (messageEventDefinition) {\n        message(group, element, bpmnFactory, messageEventDefinition, translate);\n      }\n\n      if (signalEventDefinition) {\n        signal(group, element, bpmnFactory, signalEventDefinition, translate);\n      }\n\n    }\n  });\n\n  // Special Case: Receive Task\n  if (is(element, 'bpmn:ReceiveTask')) {\n    message(group, element, bpmnFactory, getBusinessObject(element), translate);\n  }\n\n  // Error Event Definition\n  var errorEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:EndEvent'\n  ];\n\n  forEach(errorEvents, function(event) {\n    if (is(element, event)) {\n\n      var errorEventDefinition = eventDefinitionHelper.getErrorEventDefinition(element);\n\n      if (errorEventDefinition) {\n\n        error(group, element, bpmnFactory, errorEventDefinition, translate);\n      }\n    }\n  });\n\n  // Escalation Event Definition\n  var escalationEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:IntermediateThrowEvent',\n    'bpmn:EndEvent'\n  ];\n\n  forEach(escalationEvents, function(event) {\n    if (is(element, event)) {\n\n      var showEscalationCodeVariable = is(element, 'bpmn:StartEvent') || is(element, 'bpmn:BoundaryEvent');\n\n      // get business object\n      var escalationEventDefinition = eventDefinitionHelper.getEscalationEventDefinition(element);\n\n      if (escalationEventDefinition) {\n        escalation(group, element, bpmnFactory, escalationEventDefinition, showEscalationCodeVariable,\n          translate);\n      }\n    }\n\n  });\n\n  // Timer Event Definition\n  var timerEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:IntermediateCatchEvent'\n  ];\n\n  forEach(timerEvents, function(event) {\n    if (is(element, event)) {\n\n      // get business object\n      var timerEventDefinition = eventDefinitionHelper.getTimerEventDefinition(element);\n\n      if (timerEventDefinition) {\n        timer(group, element, bpmnFactory, timerEventDefinition, translate);\n      }\n    }\n  });\n\n  // Compensate Event Definition\n  var compensationEvents = [\n    'bpmn:EndEvent',\n    'bpmn:IntermediateThrowEvent'\n  ];\n\n  forEach(compensationEvents, function(event) {\n    if (is(element, event)) {\n\n      // get business object\n      var compensateEventDefinition = eventDefinitionHelper.getCompensateEventDefinition(element);\n\n      if (compensateEventDefinition) {\n        compensation(group, element, bpmnFactory, compensateEventDefinition, elementRegistry, translate);\n      }\n    }\n  });\n\n\n  // Conditional Event Definition\n  var conditionalEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:IntermediateThrowEvent',\n    'bpmn:IntermediateCatchEvent'\n  ];\n\n  if (isAny(element, conditionalEvents)) {\n\n    // get business object\n    var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\n\n    if (conditionalEventDefinition) {\n      condition(group, element, bpmnFactory, conditionalEventDefinition, elementRegistry, translate);\n    }\n  }\n\n};\n","'use strict';\n\nvar eventDefinitionReference = require('./EventDefinitionReference'),\n    elementReferenceProperty = require('./ElementReferenceProperty');\n\n\nmodule.exports = function(group, element, bpmnFactory, messageEventDefinition, translate) {\n\n  group.entries = group.entries.concat(eventDefinitionReference(element, messageEventDefinition, bpmnFactory, {\n    label: translate('Message'),\n    elementName: 'message',\n    elementType: 'bpmn:Message',\n    referenceProperty: 'messageRef',\n    newElementIdPrefix: 'Message_'\n  }));\n\n\n  group.entries = group.entries.concat(\n    elementReferenceProperty(element, messageEventDefinition, bpmnFactory, translate, {\n      id: 'message-element-name',\n      label: translate('Message Name'),\n      referenceProperty: 'messageRef',\n      modelProperty: 'name',\n      shouldValidate: true\n    })\n  );\n\n};\n","'use strict';\n\nvar eventDefinitionReference = require('./EventDefinitionReference'),\n    elementReferenceProperty = require('./ElementReferenceProperty');\n\n\nmodule.exports = function(group, element, bpmnFactory, signalEventDefinition, translate) {\n\n  group.entries = group.entries.concat(eventDefinitionReference(element, signalEventDefinition, bpmnFactory, {\n    label: translate('Signal'),\n    elementName: 'signal',\n    elementType: 'bpmn:Signal',\n    referenceProperty: 'signalRef',\n    newElementIdPrefix: 'Signal_'\n  }));\n\n\n  group.entries = group.entries.concat(\n    elementReferenceProperty(element, signalEventDefinition, bpmnFactory, translate, {\n      id: 'signal-element-name',\n      label: translate('Signal Name'),\n      referenceProperty: 'signalRef',\n      modelProperty: 'name',\n      shouldValidate: true\n    })\n  );\n\n};\n","'use strict';\n\nvar eventDefinitionReference = require('./EventDefinitionReference'),\n    elementReferenceProperty = require('./ElementReferenceProperty');\n\n\nmodule.exports = function(group, element, bpmnFactory, errorEventDefinition, translate) {\n\n\n  group.entries = group.entries.concat(eventDefinitionReference(element, errorEventDefinition, bpmnFactory, {\n    label: translate('Error'),\n    elementName: 'error',\n    elementType: 'bpmn:Error',\n    referenceProperty: 'errorRef',\n    newElementIdPrefix: 'Error_'\n  }));\n\n\n  group.entries = group.entries.concat(\n    elementReferenceProperty(element, errorEventDefinition, bpmnFactory, translate, {\n      id: 'error-element-name',\n      label: translate('Error Name'),\n      referenceProperty: 'errorRef',\n      modelProperty: 'name',\n      shouldValidate: true\n    })\n  );\n\n\n  group.entries = group.entries.concat(\n    elementReferenceProperty(element, errorEventDefinition, bpmnFactory, translate, {\n      id: 'error-element-code',\n      label: translate('Error Code'),\n      referenceProperty: 'errorRef',\n      modelProperty: 'errorCode'\n    })\n  );\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar eventDefinitionReference = require('./EventDefinitionReference'),\n    elementReferenceProperty = require('./ElementReferenceProperty');\n\n\nmodule.exports = function(group, element, bpmnFactory, escalationEventDefinition, showEscalationCodeVariable, translate) {\n\n  group.entries = group.entries.concat(eventDefinitionReference(element, escalationEventDefinition, bpmnFactory, {\n    label: translate('Escalation'),\n    elementName: 'escalation',\n    elementType: 'bpmn:Escalation',\n    referenceProperty: 'escalationRef',\n    newElementIdPrefix: 'Escalation_'\n  }));\n\n\n  group.entries = group.entries.concat(\n    elementReferenceProperty(element, escalationEventDefinition, bpmnFactory, translate, {\n      id: 'escalation-element-name',\n      label: translate('Escalation Name'),\n      referenceProperty: 'escalationRef',\n      modelProperty: 'name',\n      shouldValidate: true\n    })\n  );\n\n\n  group.entries = group.entries.concat(\n    elementReferenceProperty(element, escalationEventDefinition, bpmnFactory, translate, {\n      id: 'escalation-element-code',\n      label: translate('Escalation Code'),\n      referenceProperty: 'escalationRef',\n      modelProperty: 'escalationCode'\n    })\n  );\n\n\n  if (showEscalationCodeVariable) {\n    group.entries.push(entryFactory.textField(translate, {\n      id : 'escalationCodeVariable',\n      label : translate('Escalation Code Variable'),\n      modelProperty : 'escalationCodeVariable',\n\n      get: function(element) {\n        var codeVariable = escalationEventDefinition.get('camunda:escalationCodeVariable');\n        return {\n          escalationCodeVariable: codeVariable\n        };\n      },\n\n      set: function(element, values) {\n        return cmdHelper.updateBusinessObject(element, escalationEventDefinition, {\n          'camunda:escalationCodeVariable': values.escalationCodeVariable || undefined\n        });\n      }\n    }));\n  }\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper'),\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\n    utils = require('../../../../Utils');\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar forEach = require('lodash/forEach'),\n    find = require('lodash/find'),\n    filter = require('lodash/filter');\n\n\nfunction getContainedActivities(element) {\n  return getFlowElements(element, 'bpmn:Activity');\n}\n\nfunction getContainedBoundaryEvents(element) {\n  return getFlowElements(element, 'bpmn:BoundaryEvent');\n}\n\nfunction getFlowElements(element, type) {\n  return utils.filterElementsByType(element.flowElements, type);\n}\n\nfunction isCompensationEventAttachedToActivity(activity, boundaryEvents) {\n  var activityId = activity.id;\n  var boundaryEvent = find(boundaryEvents, function(boundaryEvent) {\n    var compensateEventDefinition = eventDefinitionHelper.getCompensateEventDefinition(boundaryEvent);\n    var attachedToRef = boundaryEvent.attachedToRef;\n    return compensateEventDefinition && attachedToRef && attachedToRef.id === activityId;\n  });\n  return !!boundaryEvent;\n}\n\n// subprocess: only when it is not triggeredByEvent\n// activity: only when it attach a compensation boundary event\n// callActivity: no limitation\nfunction canActivityBeCompensated(activity, boundaryEvents) {\n  return (is(activity, 'bpmn:SubProcess') && !activity.triggeredByEvent) ||\n          is(activity, 'bpmn:CallActivity') ||\n          isCompensationEventAttachedToActivity(activity, boundaryEvents);\n}\n\nfunction getActivitiesForCompensation(element) {\n  var boundaryEvents = getContainedBoundaryEvents(element);\n  return filter(getContainedActivities(element), function(activity) {\n    return canActivityBeCompensated(activity, boundaryEvents);\n  });\n}\n\nfunction getActivitiesForActivityRef(element) {\n  var bo = getBusinessObject(element);\n  var parent = bo.$parent;\n\n  var activitiesForActivityRef = getActivitiesForCompensation(parent);\n\n  // if throwing compensation event is in an event sub process:\n  // get also all activities outside of the event sub process\n  if (is(parent, 'bpmn:SubProcess') && parent.triggeredByEvent) {\n    parent = parent.$parent;\n    if (parent) {\n      activitiesForActivityRef = activitiesForActivityRef.concat(getActivitiesForCompensation(parent));\n    }\n\n  }\n\n  return activitiesForActivityRef;\n}\n\nfunction createActivityRefOptions(element) {\n  var options = [ { value: '' } ];\n\n  var activities = getActivitiesForActivityRef(element);\n  forEach(activities, function(activity) {\n    var activityId = activity.id;\n    var name = (activity.name ? (activity.name + ' ') : '') + '(id=' + activityId + ')';\n    options.push({ value: activityId, name: name });\n  });\n\n  return options;\n}\n\n\nmodule.exports = function(group, element, bpmnFactory, compensateEventDefinition, elementRegistry, translate) {\n\n  group.entries.push(entryFactory.checkbox(translate, {\n    id: 'wait-for-completion',\n    label: translate('Wait for Completion'),\n    modelProperty: 'waitForCompletion',\n\n    get: function(element, node) {\n      return {\n        waitForCompletion: compensateEventDefinition.waitForCompletion\n      };\n    },\n\n    set: function(element, values) {\n      values.waitForCompletion = values.waitForCompletion || false;\n      return cmdHelper.updateBusinessObject(element, compensateEventDefinition, values);\n    }\n  }));\n\n  group.entries.push(entryFactory.selectBox(translate, {\n    id: 'activity-ref',\n    label: translate('Activity Ref'),\n    selectOptions: createActivityRefOptions(element),\n    modelProperty: 'activityRef',\n\n    get: function(element, node) {\n      var activityRef = compensateEventDefinition.activityRef;\n      activityRef = activityRef && activityRef.id;\n      return {\n        activityRef: activityRef || ''\n      };\n    },\n\n    set: function(element, values) {\n      var activityRef = values.activityRef || undefined;\n      activityRef = activityRef && getBusinessObject(elementRegistry.get(activityRef));\n      return cmdHelper.updateBusinessObject(element, compensateEventDefinition, {\n        activityRef: activityRef\n      });\n    }\n  }));\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isEventSubProcess = require('bpmn-js/lib/util/DiUtil').isEventSubProcess;\n\nmodule.exports = function(group, element, bpmnFactory, conditionalEventDefinition, elementRegistry, translate) {\n\n  var getValue = function(modelProperty) {\n    return function(element) {\n      var modelPropertyValue = conditionalEventDefinition.get('camunda:' + modelProperty);\n      var value = {};\n\n      value[modelProperty] = modelPropertyValue;\n      return value;\n    };\n  };\n\n  var setValue = function(modelProperty) {\n    return function(element, values) {\n      var props = {};\n\n      props['camunda:' + modelProperty] = values[modelProperty] || undefined;\n\n      return cmdHelper.updateBusinessObject(element, conditionalEventDefinition, props);\n    };\n  };\n\n  group.entries.push(entryFactory.textField(translate, {\n    id: 'variableName',\n    label: translate('Variable Name'),\n    modelProperty : 'variableName',\n\n    get: getValue('variableName'),\n    set: setValue('variableName')\n  }));\n\n  var isConditionalStartEvent =\n    is(element, 'bpmn:StartEvent') && !isEventSubProcess(element.parent);\n\n  if (!isConditionalStartEvent) {\n    group.entries.push(entryFactory.textField(translate, {\n      id: 'variableEvents',\n      label: translate('Variable Events'),\n      description: translate('Specify more than one variable change event as a comma separated list.'),\n      modelProperty : 'variableEvents',\n\n      get: getValue('variableEvents'),\n      set: setValue('variableEvents')\n    }));\n  }\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nvar forEach = require('lodash/forEach');\n\nfunction getLinkEventDefinition(element) {\n\n  var bo = getBusinessObject(element);\n\n  var linkEventDefinition = null;\n  if (bo.eventDefinitions) {\n    forEach(bo.eventDefinitions, function(eventDefinition) {\n      if (is(eventDefinition, 'bpmn:LinkEventDefinition')) {\n        linkEventDefinition = eventDefinition;\n      }\n    });\n  }\n\n  return linkEventDefinition;\n}\n\nmodule.exports = function(group, element, translate) {\n  var linkEvents = [ 'bpmn:IntermediateThrowEvent', 'bpmn:IntermediateCatchEvent' ];\n\n  forEach(linkEvents, function(event) {\n    if (is(element, event)) {\n\n      var linkEventDefinition = getLinkEventDefinition(element);\n\n      if (linkEventDefinition) {\n        var entry = entryFactory.textField(translate, {\n          id: 'link-event',\n          label: translate('Link Name'),\n          modelProperty: 'link-name'\n        });\n\n        entry.get = function() {\n          return { 'link-name': linkEventDefinition.get('name') };\n        };\n\n        entry.set = function(element, values) {\n          var newProperties = {\n            name: values['link-name']\n          };\n          return cmdHelper.updateBusinessObject(element, linkEventDefinition, newProperties);\n        };\n\n        group.entries.push(entry);\n      }\n    }\n  });\n};\n\n","'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\n    is = ModelUtil.is,\n    getBusinessObject = ModelUtil.getBusinessObject;\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var getValue = function(businessObject) {\n    return function(element) {\n      var documentations = businessObject && businessObject.get('documentation'),\n          text = (documentations && documentations.length > 0) ? documentations[0].text : '';\n\n      return { documentation: text };\n    };\n  };\n\n  var setValue = function(businessObject) {\n    return function(element, values) {\n      var newObjectList = [];\n\n      if (typeof values.documentation !== 'undefined' && values.documentation !== '') {\n        newObjectList.push(bpmnFactory.create('bpmn:Documentation', {\n          text: values.documentation\n        }));\n      }\n\n      return cmdHelper.setList(element, businessObject, 'documentation', newObjectList);\n    };\n  };\n\n  // Element Documentation\n  var elementDocuEntry = entryFactory.textBox(translate, {\n    id: 'documentation',\n    label: translate('Element Documentation'),\n    modelProperty: 'documentation'\n  });\n\n  elementDocuEntry.set = setValue(getBusinessObject(element));\n\n  elementDocuEntry.get = getValue(getBusinessObject(element));\n\n  group.entries.push(elementDocuEntry);\n\n\n  var processRef;\n\n  // Process Documentation when having a Collaboration Diagram\n  if (is(element, 'bpmn:Participant')) {\n\n    processRef = getBusinessObject(element).processRef;\n\n    // do not show for collapsed Pools/Participants\n    if (processRef) {\n      var processDocuEntry = entryFactory.textBox(translate, {\n        id: 'process-documentation',\n        label: translate('Process Documentation'),\n        modelProperty: 'documentation'\n      });\n\n      processDocuEntry.set = setValue(processRef);\n\n      processDocuEntry.get = getValue(processRef);\n\n      group.entries.push(processDocuEntry);\n    }\n  }\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    utils = require('../../../Utils'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nmodule.exports = function(group, element, translate, options) {\n  if (!options) {\n    options = {};\n  }\n\n  // Id\n  group.entries.push(entryFactory.validationAwareTextField(translate, {\n    id: options.id || 'id',\n    label: translate(options.label || 'Id'),\n    description: options.description && translate(options.description),\n    modelProperty: 'id',\n    getProperty: function(element) {\n      return getBusinessObject(element).id;\n    },\n    setProperty: function(element, properties) {\n\n      element = element.labelTarget || element;\n\n      return cmdHelper.updateProperties(element, properties);\n    },\n    validate: function(element, values) {\n      var idValue = values.id;\n\n      var bo = getBusinessObject(element);\n\n      var idError = utils.isIdValid(bo, idValue, translate);\n\n      return idError ? { id: idError } : {};\n    }\n  }));\n\n};\n","'use strict';\n\nvar nameEntryFactory = require('./implementation/Name'),\n    createCategoryValue = require('../../../helper/CategoryHelper').createCategoryValue,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nmodule.exports = function(group, element, bpmnFactory, canvas, translate, options) {\n  if (!options) {\n    options = {};\n  }\n\n  function initializeCategory(semantic) {\n    var rootElement = canvas.getRootElement(),\n        definitions = getBusinessObject(rootElement).$parent,\n        categoryValue = createCategoryValue(definitions, bpmnFactory);\n\n    semantic.categoryValueRef = categoryValue;\n\n  }\n\n  function setGroupName(element, values) {\n    var bo = getBusinessObject(element),\n        categoryValueRef = bo.categoryValueRef;\n\n    if (!categoryValueRef) {\n      initializeCategory(bo);\n    }\n\n    // needs direct call to update categoryValue properly\n    return {\n      cmd: 'element.updateLabel',\n      context: {\n        element: element,\n        newLabel: values.categoryValue\n      }\n    };\n  }\n\n  function getGroupName(element) {\n    var bo = getBusinessObject(element),\n        value = (bo.categoryValueRef || {}).value;\n\n    return { categoryValue: value };\n  }\n\n  if (!is(element, 'bpmn:Collaboration')) {\n    var nameOptions = {\n      id: options.id,\n      label: options.label && translate(options.label)\n    };\n\n    if (is(element, 'bpmn:TextAnnotation')) {\n      nameOptions.modelProperty = 'text';\n      nameOptions.label = translate('Text');\n    } else if (is(element, 'bpmn:Group')) {\n      nameOptions.modelProperty = 'categoryValue';\n      nameOptions.label = translate('Category Value');\n      nameOptions.get = getGroupName;\n      nameOptions.set = setGroupName;\n    }\n\n    // name\n    group.entries = group.entries.concat(nameEntryFactory(element, nameOptions, translate));\n  }\n};\n","'use strict';\n\nvar collectionAdd = require('diagram-js/lib/util/Collections').add,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar CategoryHelper = {};\n\nmodule.exports = CategoryHelper;\n\n/**\n * Creates a new bpmn:CategoryValue inside a new bpmn:Category\n *\n * @param {ModdleElement} definitions\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement} categoryValue.\n */\nCategoryHelper.createCategoryValue = function(definitions, bpmnFactory) {\n  var categoryValue = bpmnFactory.create('bpmn:CategoryValue'),\n      category = bpmnFactory.create('bpmn:Category', {\n        categoryValue: [ categoryValue ]\n      });\n\n  // add to correct place\n  collectionAdd(definitions.get('rootElements'), category);\n  getBusinessObject(category).$parent = definitions;\n  getBusinessObject(categoryValue).$parent = category;\n\n  return categoryValue;\n\n};","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\nvar participantHelper = require('../../../helper/ParticipantHelper');\n\nmodule.exports = function(group, element, translate) {\n\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(element, 'bpmn:Process') || (is(element, 'bpmn:Participant') && bo.get('processRef'))) {\n\n    var executableEntry = entryFactory.checkbox(translate, {\n      id: 'process-is-executable',\n      label: translate('Executable'),\n      modelProperty: 'isExecutable'\n    });\n\n    // in participants we have to change the default behavior of set and get\n    if (is(element, 'bpmn:Participant')) {\n      executableEntry.get = function(element) {\n        return participantHelper.getProcessBusinessObject(element, 'isExecutable');\n      };\n\n      executableEntry.set = function(element, values) {\n        return participantHelper.modifyProcessBusinessObject(element, 'isExecutable', values);\n      };\n    }\n\n    group.entries.push(executableEntry);\n  }\n\n};\n","'use strict';\nvar $ = require(\"jquery\");\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    InputOutputHelper = require('../../../helper/InputOutputHelper');\nvar assign = require('lodash/assign');\nvar utils = require('../../../Utils'),\n    escapeHTML = utils.escapeHTML,\n    triggerClickEvent = utils.triggerClickEvent;\nvar notification = null;\nvar implementationType = require('./implementation/ImplementationType'),\n    delegate = require('./implementation/Delegate'),\n    external = require('./implementation/External'),\n    callable = require('./implementation/Callable'),\n    MAIL_NOTIFICATION_SERVICE = require('../../../../constants').MAIL_NOTIFICATION_SERVICE,\n    resultVariable = require('./implementation/ResultVariable');\nvar entryFactory = require('../../../factory/EntryFactory');\nconst {getExtensionElements} = require(\"../../../helper/ExtensionElementsHelper\");\n//const {getExtensionElements} = require(\"./ExtensionElementsHelper\");\nvar CAMUNDA_FIELD_EXTENSION_ELEMENT = 'camunda:Field';\nvar domQuery = require('min-dom').query,\n    domClosest = require('min-dom').closest,\n    domClasses = require('min-dom').classes;\n\nfunction getImplementationType(element) {\n  return ImplementationTypeHelper.getImplementationType(element);\n}\n\nfunction getBusinessObject(element) {\n\n  return ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n}\n\nfunction isDmnCapable(element) {\n  return ImplementationTypeHelper.isDmnCapable(element);\n}\n\nfunction isExternalCapable(element) {\n  return ImplementationTypeHelper.isExternalCapable(element);\n}\n\nfunction isServiceTaskLike(element) {\n  return ImplementationTypeHelper.isServiceTaskLike(element);\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n    if (!isServiceTaskLike(getBusinessObject(element))) {\n\n        return;\n    }\n\n    var hasDmnSupport = isDmnCapable(element);\n    var hasExternalSupport = isExternalCapable(getBusinessObject(element));\n\n    if(element.type === \"bpmn:SendTask\") {\n    var notificationListSelectEntry = entryFactory.selectBox(translate, {\n        id: 'selectNotification',\n        label: translate('Select Notification'),\n        selectOptions: function (element, node) {\n            var arrValues = []\n\n            $.ajax({\n                url: MAIL_NOTIFICATION_SERVICE + \"/api/notification/auth/getAll/\" + JSON.parse(window.localStorage.getItem(\"domain_data\")).domainId,\n                // url: \"http://41.230.29.238:8081/ISO-1-0.0.1-SNAPSHOT/api/auth/getRoles\",\n                method: \"GET\",\n                headers: {\n                    \"X-Tenant\": JSON.parse(localStorage.getItem('domain_data')).domainName\n                },\n                success: function (result) {\n                    var tab = [];\n                    tab.push({name: 'Please select...', value: ''});\n                    //var forms = result;\n                    result.map(data =>\n                        tab.push({name: data.name + \"-\" + data.version, value: data.notificationId})\n                    );\n                    arrValues = tab;\n                },\n                async: false\n            });\n            return arrValues;\n        },\n        //    defaultValue: notification,\n        setControlValue: true,\n        modelProperty: 'selectNotification',\n        set: function (element, values, node) {\n            var commands = [];\n\n            var bo = getBusinessObject(element);\n            notification = values.selectNotification;\n\n            var props = assign({});\n            props.string = \"test\";\n            props.name = \"test_name\";\n\n            commands.push(cmdHelper.updateProperties(element, {\n                'camunda:class': \"com.isctgroup.delegates.SendTaskImpl\"\n            }));\n            /*    commands.push(cmdHelper.updateProperties(element, {\n                         'camunda:resultVariable':values.selectNotification\n                 }));*/\n            var extensionElements = elementHelper.createElement('bpmn:ExtensionElements', {values: []}, bo, bpmnFactory);\n            commands.push(cmdHelper.updateProperties(element, {extensionElements: extensionElements}));\n            $.ajax({\n                url: MAIL_NOTIFICATION_SERVICE + \"/api/notification/auth/getByNotificationId/\" + notification,\n                // url: \"http://41.230.29.238:8081/ISO-1-0.0.1-SNAPSHOT/api/auth/getRoles\",\n                method: \"GET\",\n                headers: {\n                    \"X-Tenant\": JSON.parse(localStorage.getItem('domain_data')).domainName\n                },\n                success: function (result) {\n                    //var notification_data = JSON.parse(result);\n                    var notification_data = JSON.parse(result.notification);\n                    var notification_msg = result.notification_msg;\n\n                    /*    var extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n                              commands.push(cmdHelper.updateProperties(element, { extensionElements: extensionElements }));*/\n\n                    var newFieldElem = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, {\n                        name: 'notificationId',\n                        string: values.selectNotification\n                    }, extensionElements, bpmnFactory);\n                    commands.push(cmdHelper.addElementsTolist(element, extensionElements, 'values', [newFieldElem]));\n                    if (notification_data.notificationTo !== '' && notification_data.notificationTo !== null) {\n                        var newFieldElem = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, {\n                            name: 'to',\n                            string: notification_data.notificationTo\n                        }, extensionElements, bpmnFactory);\n                        commands.push(cmdHelper.addElementsTolist(element, extensionElements, 'values', [newFieldElem]));\n\n                    }\n                    if (notification_data.notificationSubject !== '' && notification_data.notificationSubject !== null) {\n                        var newFieldElem1 = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, {\n                            name: 'subject',\n                            string: notification_data.notificationSubject\n                        }, extensionElements, bpmnFactory);\n                        commands.push(cmdHelper.addElementsTolist(element, extensionElements, 'values', [newFieldElem1]));\n                    }\n                    if (notification_data.notificationCc !== '' && notification_data.notificationCc !== null) {\n                        var newFieldElem2 = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, {\n                            name: 'cc',\n                            string: notification_data.notificationCc\n                        }, extensionElements, bpmnFactory);\n                        commands.push(cmdHelper.addElementsTolist(element, extensionElements, 'values', [newFieldElem2]));\n                    }\n                    if (notification_msg !== '' && notification_msg !== null) {\n                        var newFieldElem3 = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, {\n                            name: 'text',\n                            string: notification_msg\n                        }, extensionElements, bpmnFactory);\n                        commands.push(cmdHelper.addElementsTolist(element, extensionElements, 'values', [newFieldElem3]));\n                    }\n                    if (notification_data.notificationBcc !== '' && notification_data.notificationBcc !== null) {\n                        var newFieldElem4 = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, {\n                            name: 'bcc',\n                            string: notification_data.notificationBcc\n                        }, extensionElements, bpmnFactory);\n                        commands.push(cmdHelper.addElementsTolist(element, extensionElements, 'values', [newFieldElem4]));\n                    }\n\n                    var roles = [];\n                    notification_data.notificationRoles.map(role => {\n                        roles.push(role.roleName)\n                    });\n                    var data = roles.join(\",\");\n                    if (data !== '' && data !== null) {\n                        var newFieldElem5 = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, {\n                            name: 'toRoles',\n                            string: data\n                        }, extensionElements, bpmnFactory);\n                        commands.push(cmdHelper.addElementsTolist(element, extensionElements, 'values', [newFieldElem5]));\n                    }\n\n                    if (notification_data.notificationFrom !== '' && notification_data.notificationFrom !== null) {\n                        var newFieldElem6 = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, {\n                            name: 'from',\n                            string: notification_data.notificationFrom\n                        }, extensionElements, bpmnFactory);\n                        commands.push(cmdHelper.addElementsTolist(element, extensionElements, 'values', [newFieldElem6]));\n                    }\n                    //   commands.push(cmdHelper.updateBusinessObject(newFieldElem, \"camunda:string\", props));\n                },\n                async: false\n            });\n            var selectNotification = values.selectNotification;\n            /*  newFieldElem = elementHelper.createElement('camunda:Field', props, extensionElements, bpmnFactory);\n              commands.push(cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newFieldElem ]));*/\n\n            //     var field = elementHelper.createElement('camunda:Field', { name: \"formId\" }, extensionElements, bpmnFactory);\n            /*    commands.push(cmdHelper.updateBusinessObject(element, extensionElements, {\n                    fields: [ field ]\n                  }));*/\n\n            //cmdHelper.updateBusinessObject(element, bo, props);\n            //   var  variable = elementHelper.createElement('camunda:String', {}, field, bpmnFactory);\n\n            //   commands.push(cmdHelper.updateBusinessObject(element, field, { 'string': variable }));\n\n\n            //   if (is(element, 'bpmn:SendTask')) {\n\n            //     }\n//             return {selectNotification: values.selectNotification};\n            return commands;\n        },\n        get: function (element, node) {\n            var bo = getBusinessObject(element);\n\n\n            var notificationId = '';\n            if (bo.get(\"extensionElements\")) {\n                notificationId = bo.get(\"extensionElements\").get(\"values\")[0].get(\"string\");\n                //  console.log(bo.get('bpmn:ExtensionElements'))\n                // var boResultVariable = bo.get('camunda:resultVariable');\n\n                //  var boResultVariable = bo.get('bpmn:ExtensionElements');\n                //     console.log(boResultVariable)\n\n                var selectedNotification = null;\n                $.ajax({\n                    url: MAIL_NOTIFICATION_SERVICE + \"/api/notification/auth/getByNotificationId/\" + notificationId,\n                    // url: \"http://41.230.29.238:8081/ISO-1-0.0.1-SNAPSHOT/api/auth/getRoles\",\n                    method: \"GET\",\n                    headers: {\n                        \"X-Tenant\": JSON.parse(localStorage.getItem('domain_data')).domainName\n                    },\n                    success: function (result) {\n                        //  var notification_data = JSON.parse(result);\n                        console.log(result);\n                        selectedNotification = {name: result.name + \"-\" + result.version, value: result.notificationId}\n                    },\n                    async: false\n                });\n            }\n\n\n            return {selectNotification: notificationId};\n            // return { selectNotification:  selectedNotification };\n        }\n    });\n    // implementation type ////////////////////////////////////\n    group.entries.push(notificationListSelectEntry);\n}\n    if(element.type === \"bpmn:ServiceTask\") {\n        //var commands = []\n        console.log(element)\n        group.entries = group.entries.concat(delegate(element, bpmnFactory, {\n            getBusinessObject: getBusinessObject,\n            getImplementationType: getImplementationType\n        }, translate));\n\n    }\n /* group.entries = group.entries.concat(implementationType(element, bpmnFactory, {\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getImplementationType,\n    hasDmnSupport: hasDmnSupport,\n    hasExternalSupport: hasExternalSupport,\n    hasServiceTaskLikeSupport: true\n  }, translate));\n\n\n  // delegate (class, expression, delegateExpression) //////////\n\n  group.entries = group.entries.concat(delegate(element, bpmnFactory, {\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getImplementationType\n  }, translate));\n\n\n  // result variable /////////////////////////////////////////\n\n  group.entries = group.entries.concat(resultVariable(element, bpmnFactory, {\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getImplementationType,\n    hideResultVariable: function(element, node) {\n      return getImplementationType(element) !== 'expression';\n    }\n  }, translate));\n\n  // external //////////////////////////////////////////////////\n\n  if (hasExternalSupport) {\n    group.entries = group.entries.concat(external(element, bpmnFactory, {\n      getBusinessObject: getBusinessObject,\n      getImplementationType: getImplementationType\n    }, translate));\n  }\n\n\n  // dmn ////////////////////////////////////////////////////////\n\n  if (hasDmnSupport) {\n    group.entries = group.entries.concat(callable(element, bpmnFactory, {\n      getCallableType: getImplementationType\n    }, translate));\n  }\n\n\n  // connector ////////////////////////////////////////////////\n\n  var isConnector = function(element) {\n    return getImplementationType(element) === 'connector';\n  };\n\n  group.entries.push(entryFactory.link(translate, {\n    id: 'configureConnectorLink',\n    buttonLabel: translate('Configure Connector'),\n    handleClick: function(element, node, event) {\n\n      var connectorTabEl = getTabNode(node, 'connector');\n\n      if (connectorTabEl) {\n        triggerClickEvent(connectorTabEl);\n      }\n\n      // suppress actual link click\n      return false;\n    },\n    showLink: function(element, node) {\n      var link = domQuery('a', node);\n      link.textContent = '';\n\n      domClasses(link).remove('bpp-error-message');\n\n      if (isConnector(element)) {\n        var connectorId = InputOutputHelper.getConnector(element).get('connectorId');\n        if (connectorId) {\n          link.textContent = translate('Configure Connector');\n        } else {\n          link.innerHTML = '<span class=\"bpp-icon-warning\"></span> ' + escapeHTML(translate('Must configure Connector'));\n          domClasses(link).add('bpp-error-message');\n        }\n\n        return true;\n      }\n\n      return false;\n    }\n  }));\n*/\n};\n\n\n\n// helpers ///////////////////////////\n\nfunction getTabNode(el, id) {\n  var containerEl = domClosest(el, '.bpp-properties-panel');\n\n  return domQuery('a[data-tab-target=\"' + id + '\"]', containerEl);\n}","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    elementHelper = require('../../../../helper/ElementHelper');\n\nvar assign = require('lodash/assign');\nvar map = require('lodash/map');\n\nvar DEFAULT_DELEGATE_PROPS = [ 'class', 'expression', 'delegateExpression' ];\n\nvar DELEGATE_PROPS = {\n  'camunda:class': undefined,\n  'camunda:expression': undefined,\n  'camunda:delegateExpression': undefined,\n  'camunda:resultVariable': undefined\n};\n\nvar DMN_CAPABLE_PROPS = {\n  'camunda:decisionRef': undefined,\n  'camunda:decisionRefBinding': 'latest',\n  'camunda:decisionRefVersion': undefined,\n  'camunda:mapDecisionResult': 'resultList',\n  'camunda:decisionRefTenantId': undefined\n};\n\n\nvar EXTERNAL_CAPABLE_PROPS = {\n  'camunda:type': undefined,\n  'camunda:topic': undefined\n};\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var DEFAULT_OPTIONS = [\n    { value: 'class', name: translate('Java Class') },\n    { value: 'expression', name: translate('Expression') },\n    { value: 'delegateExpression', name: translate('Delegate Expression') }\n  ];\n\n  var DMN_OPTION = [\n    { value: 'dmn', name: translate('DMN') }\n  ];\n\n  var EXTERNAL_OPTION = [\n    { value: 'external', name: translate('External') }\n  ];\n\n  var CONNECTOR_OPTION = [\n    { value: 'connector', name: translate('Connector') }\n  ];\n\n  var SCRIPT_OPTION = [\n    { value: 'script', name: translate('Script') }\n  ];\n\n  var getType = options.getImplementationType,\n      getBusinessObject = options.getBusinessObject;\n\n  var hasDmnSupport = options.hasDmnSupport,\n      hasExternalSupport = options.hasExternalSupport,\n      hasServiceTaskLikeSupport = options.hasServiceTaskLikeSupport,\n      hasScriptSupport = options.hasScriptSupport;\n\n  var entries = [];\n\n  var selectOptions = DEFAULT_OPTIONS.concat([]);\n\n  if (hasDmnSupport) {\n    selectOptions = selectOptions.concat(DMN_OPTION);\n  }\n\n  if (hasExternalSupport) {\n    selectOptions = selectOptions.concat(EXTERNAL_OPTION);\n  }\n\n  if (hasServiceTaskLikeSupport) {\n    selectOptions = selectOptions.concat(CONNECTOR_OPTION);\n  }\n\n  if (hasScriptSupport) {\n    selectOptions = selectOptions.concat(SCRIPT_OPTION);\n  }\n\n  selectOptions.push({ value: '' });\n\n  entries.push(entryFactory.selectBox(translate, {\n    id : 'implementation',\n    label: translate('Implementation'),\n    selectOptions: selectOptions,\n    modelProperty: 'implType',\n\n    get: function(element, node) {\n      return {\n        implType: getType(element) || ''\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      var oldType = getType(element);\n      var newType = values.implType;\n\n      var props = assign({}, DELEGATE_PROPS);\n\n      if (DEFAULT_DELEGATE_PROPS.indexOf(newType) !== -1) {\n\n        var newValue = '';\n        if (DEFAULT_DELEGATE_PROPS.indexOf(oldType) !== -1) {\n          newValue = bo.get('camunda:' + oldType);\n        }\n        props['camunda:' + newType] = newValue;\n      }\n\n      if (hasDmnSupport) {\n        props = assign(props, DMN_CAPABLE_PROPS);\n        if (newType === 'dmn') {\n          props['camunda:decisionRef'] = '';\n        }\n      }\n\n      if (hasExternalSupport) {\n        props = assign(props, EXTERNAL_CAPABLE_PROPS);\n        if (newType === 'external') {\n          props['camunda:type'] = 'external';\n          props['camunda:topic'] = '';\n        }\n      }\n\n      if (hasScriptSupport) {\n        props['camunda:script'] = undefined;\n\n        if (newType === 'script') {\n          props['camunda:script'] = elementHelper.createElement('camunda:Script', {}, bo, bpmnFactory);\n        }\n      }\n\n      var commands = [];\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\n\n      if (hasServiceTaskLikeSupport) {\n        var connectors = extensionElementsHelper.getExtensionElements(bo, 'camunda:Connector');\n        commands.push(map(connectors, function(connector) {\n          return extensionElementsHelper.removeEntry(bo, element, connector);\n        }));\n\n        if (newType === 'connector') {\n          var extensionElements = bo.get('extensionElements');\n          if (!extensionElements) {\n            extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n            commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n          }\n          var connector = elementHelper.createElement('camunda:Connector', {}, extensionElements, bpmnFactory);\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\n            element,\n            extensionElements,\n            'values',\n            'extensionElements',\n            [ connector ],\n            []\n          ));\n        }\n      }\n\n      return commands;\n\n    }\n  }));\n\n  return entries;\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\nconst $ = require(\"jquery\");\nconst {getBusinessObject} = require(\"bpmn-js/lib/util/ModelUtil\");\n\nvar DELEGATE_TYPES = [\n  'class',\n  'expression',\n  'delegateExpression'\n];\n\nvar PROPERTIES = {\n  class: 'camunda:class',\n  expression: 'camunda:expression',\n  delegateExpression: 'camunda:delegateExpression'\n};\n\nfunction isDelegate(type) {\n  return DELEGATE_TYPES.indexOf(type) !== -1;\n}\n\nfunction getAttribute(type) {\n  return PROPERTIES[type];\n}\n\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getImplementationType = options.getImplementationType,\n      getBusinessObject = options.getBusinessObject;\n\n  function getDelegationLabel(type) {\n    switch (type) {\n    case 'class':\n      return translate('Java Class');\n    case 'expression':\n      return translate('Expression');\n    case 'delegateExpression':\n      return translate('Delegate Expression');\n    default:\n      return '';\n    }\n  }\n  var  delegateEntry = entryFactory.selectBox(translate, {\n    id: 'delegate',\n    label: translate('Value'),\n    dataValueLabel: 'delegationLabel',\n    modelProperty: 'delegate',\n    selectOptions: function(element, node) {\n      var arrValues = []\n      arrValues.push( { name: 'Please select...', value: '' });\n      arrValues.push({name:\"com.isctgroup.delegates.ServiceTaskImpl\", value:\"com.isctgroup.delegates.ServiceTaskImpl\"})\n\n      return arrValues;\n    },\n    setControlValue :true,\n    set: function(element, values, containerElement) {\n\n      var delegate = values.delegate;\n      var bo = getBusinessObject(element);\n      var type = \"class\";\n      var attr = 'camunda:class';\n      var prop = {};\n      prop[attr] = values.delegate;\n      // return cmdHelper.updateBusinessObject(element, bo, prop);\n      return cmdHelper.updateProperties(element, {\n        'camunda:class': \"com.isctgroup.delegates.ServiceTaskImpl\"\n      });\n      return commands;\n    },\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var type = \"class\";\n      var attr = 'camunda:class';\n      var label = getDelegationLabel(type);\n\n      return {\n        delegate: bo.get(attr)\n      };\n    }\n  });\n  // implementation type ////////////////////////////////////\n\n\n\n\n  /************************************ delegate ***********/\n\n  /*var delegateEntry = entryFactory.textField(translate, {\n    id: 'delegate',\n    label: translate('Value'),\n    dataValueLabel: 'delegationLabel',\n    modelProperty: 'delegate',\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var type = \"class\";\n      var attr = 'camunda:class';\n      var label = getDelegationLabel(type);\n\n      return {\n        delegate: bo.get(attr),\n        delegationLabel: label,\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      var type = \"class\";\n      var attr = 'camunda:class';\n      var prop = {};\n      prop[attr] = values.delegate || \"com.isctgroup.delegates.ServiceTaskImpl\";\n      // return cmdHelper.updateBusinessObject(element, bo, prop);\n      return cmdHelper.updateProperties(element, {\n        'camunda:class': \"com.isctgroup.delegates.ServiceTaskImpl\"\n      });\n    },*/\n\n  /*  validate: function(element, values, node) {\n      return isDelegate(getImplementationType(element)) && !values.delegate ? { delegate: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isDelegate(getImplementationType(element));\n    }*/\n\n  // });\n\n  return [ delegateEntry ];\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getImplementationType = options.getImplementationType,\n      getBusinessObject = options.getBusinessObject;\n\n  function isExternal(element) {\n    return getImplementationType(element) === 'external';\n  }\n\n  var topicEntry = entryFactory.textField(translate, {\n    id: 'externalTopic',\n    label: translate('Topic'),\n    modelProperty: 'externalTopic',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return { externalTopic: bo.get('camunda:topic') };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:topic': values.externalTopic\n      });\n    },\n\n    validate: function(element, values, node) {\n      return isExternal(element) && !values.externalTopic ? { externalTopic: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isExternal(element);\n    }\n\n  });\n\n  return [ topicEntry ];\n\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n   /* getExtensionElements = require('../../../helper/ExtensionElementsHelper').getExtensionElements,\n    removeEntry = require('../../../helper/ExtensionElementsHelper').removeEntry,\n    extensionElements = require('./implementation/ExtensionElements'),*/\n    entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    USER_SERVICE = require('../../../../constants').USER_SERVICE,\n    FORM_SERVICE = require('../../../../constants').FORM_SERVICE,\n    PROCESS_SERVICE = require('../../../../constants').PROCESS_SERVICE,\n    // getRoles = require('../../../helper/CandidateGroupsHelper').getRoles,\n      //  removeEntry = require('../../../helper/CandidateGroupsHelper').removeEntry,\n    candidateGroups = require('./implementation/CandidateGroups');\n    var   forEach = require('lodash/forEach');\nvar $ = require(\"jquery\");\nconst {MAIL_NOTIFICATION_SERVICE} = require(\"../../../../constants\");\nconst assign = require(\"lodash/assign\");\nconst elementHelper = require(\"../../../helper/ElementHelper\");\n\nvar selectedRole = \"\";\nvar editable = \"N\";\nvar domainId= JSON.parse(window.localStorage.getItem('domain_data')).domainId;\nmodule.exports = function(group, element,bpmnFactory, translate) {\n\n /**\n   * Return the currently selected form field querying the form field select box\n   * from the DOM.\n   *\n   * @param  {djs.model.Base} element\n   * @param  {DOMElement} node - DOM element of any form field text input\n   *\n   * @return {ModdleElement} the currently selected form field\n   */\n  function getSelectedRoleField(element, node) {\n    var selected = roleFieldsEntry.getSelected(element, node.parentNode);\n\n    if (selected.idx === -1) {\n      return;\n    }\n\n    return formHelper.getFormField(element, selected.idx);\n  }\n\n  if (is(element, 'camunda:Assignable')) {\n\n\n    // Candidate Users\n   /* group.entries.push(entryFactory.textField(translate, {\n      id : 'candidateUsers',\n      label : translate('Candidate Users'),\n      modelProperty : 'candidateUsers'\n    }));*/\n\n    // Candidate Groups\n\n    var  roleListSelectEntry = entryFactory.selectBox(translate, {\n        id: 'selectRole',\n        label: translate('Select Role'),\n        selectOptions: function(element, node) {\n            var arrValues = []\n            $.ajax({\n                url: USER_SERVICE+\"/api/auth/role/getRoles\",\n               // url: \"http://41.230.29.238:8081/ISO-1-0.0.1-SNAPSHOT/api/auth/getRoles\",\n                method :\"GET\",\n                headers: {\n                    \"X-Tenant\": JSON.parse(localStorage.getItem('domain_data')).domainName\n                },\n                success: function (result) {\n                    var tab = [];\n                   tab.push( { name: 'Please select...', value: '' });\n                   //var forms = result;\n                    result.map(data =>\n                    tab.push({name:data.roleName, value:data.roleName})\n                    );\n                  arrValues = tab;\n                },\n                async: false\n            });\n            return arrValues;\n        },\n        setControlValue :true,\n        modelProperty: 'selectRole',\n         set: function(element, values, node) {\n\n             // var bo = getBusinessObject(element);\n\n              selectedRole = values.selectRole;\n              window.localStorage.setItem(\"candidateGroups\", selectedRole);\n             // commands.push(cmdHelper.updateBusinessObject(element, selectedForm, { validation: undefined }));\n\n              return {selectRole: values.selectRole};\n            }\n\n          });\n\n\n       /* get: function(element, node) {\n          var selectedFormField = getSelectedFormField(element, node);\n\n          if (selectedFormField) {\n\n            return { selectRole:  selectedFormField.selectRole };\n          } else {\n            return {};\n          }\n        },\n        set: function(element, values, node) {\n          var selectedFormField = getSelectedFormField(element, node);\n            selectedRole = values.selectForm;\n            console.log(values);\n\n        }*/\n       group.entries.push(roleListSelectEntry);\n             var RoleFieldsEntry = candidateGroups(element,{\n                id: 'candidateGroups',\n                label: translate('Add Roles'),\n                modelProperty: 'candidateGroups',\n                prefix: 'candidateGroups',\n                createExtensionElement: function(element, candidateGroups, value) {\n                var bo = getBusinessObject(element);\n\n\n                /*if (is(element, \"bpmn:userTask\")){\n                var bo = getBusinessObject(element);\n                }else{\n                var bo = getBusinessObject(element.parent);\n                }\n*/\n                  var commands = [];\n\n                //   commands.push( cmdHelper.updateBusinessObject(element, bo, {'camunda:candidateGroups': selectedRole}));\n                  // commands.push(cmdHelper.addElementsTolist(element, bo,'fields', [ {'camunda:candidateGroups': selectedRole} ]));\n                        /*  commands.push(cmdHelper.updateBusinessObject(element, formData, {\n                            fields: [ field ]\n                          }));*/\n\n                    //roles = elementHelper.createElement('camunda:candidateGroups', { values: [] }, bo, bpmnFactory);\n                  },\n                  getExtensionElements: function(element) {\n              //  console.log(getBusinessObject(element));\n             // console.log(element.businessObject);\n                        var go = element.businessObject;\n                        var string_data = go.get(\"camunda:candidateGroups\");\n                        var array_data = string_data.split(',');\n                        return {\n                            'candidateGroups' : array_data\n                        }\n                  /* if (is(element, 'bpmn:UserTask')) {\n                        var bo = getBusinessObject(element);\n                        console.log(bo);\n                        console.log(bo.$attrs.get(\"camunda:candidateGroups\"));\n                        console.log(bo.$attrs.candidateGroups);\n                        return bo.$attrs.get(\"camunda:candidateGroups\");\n                        }else{\n                        return;}*/\n                      },\n                       removeExtensionElement: function(element, candidateGroups, value, idx) {\n                       var bo = element.businessObject;\n\n                               //return bo.get(\"camunda:candidateGroups\");\n                            var formData = bo.get(\"camunda:candidateGroups\"),\n                             //   entry = formData[idx],\n                                commands = [];\n\n                               var  array_data = formData.split(',');  //convert string into table (separated with ,)\n                                array_data.splice(idx, 1);    // remove element from array\n                               // var entry = array_data[idx];\n                                var data = array_data.join(\",\");\n\n                             //   commands.push(cmdHelper.updateBusinessObject('bpmn:userTask', bo, {'camunda:candidateGroups': formData}));\n                               commands.push( cmdHelper.updateBusinessObject(element, bo, {'camunda:candidateGroups':data}));\n\n//        commands.push(cmdHelper.removeElementsFromList(element, bo, 'camunda:candidateGroups', null, [entry]));\n\n                           /* if (formData.fields.length < 2) {\n                              commands.push(removeEntry(getBusinessObject(element), element, formData));\n                            } else {\n                              commands.push(cmdHelper.removeElementsFromList(element, formData, 'fields', null, [entry]));\n\n                              if (entry.id === formData.get('businessKey')) {\n                                commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\n                              }\n                            }*/\n\n                            return commands;\n                          },\n                      hideExtensionElements: function(element, node) {\n                            return false;\n                          }\n                      });\n        group.entries.push(RoleFieldsEntry);\n       // Assignee\n        group.entries.push(entryFactory.textField(translate, {\n          id : 'assignee',\n          label : translate('Assignee Expression'),\n          modelProperty : 'assignee',\n            set: function(element, values, node) {\n                var commands = [];\n                //  var bo = getBusinessObject(element);\n                var assignee = values.assignee;\n\n                //     console.log(bo)\n                commands.push(cmdHelper.updateProperties(element, {\n                    'camunda:assignee': assignee\n                }));\n                return commands;\n            },\n          /*set: function(element, values, node) {\n           console.log( values);\n              }*/\n        }));\n\n\n\n      /*********************************************************** process execution ********************/\n\n      var  processListSelectEntry = entryFactory.selectBox(translate, {\n          id: 'executeProcess',\n          label: translate('Execute process'),\n          selectOptions: function(element, node) {\n              var arrValues = []\n              var domainName = JSON.parse(localStorage.getItem('domain_data')).domainName;\n              var formCodes = window.localStorage.getItem('execute_process_forms').split(',');\n              /* get processes by form codes */\n              $.ajax({\n                  //url: \"http://41.230.29.238:8081/ISO-1-0.0.1-SNAPSHOT/api/form/auth/getAllFormsList/\"+domainId,\n                  url: PROCESS_SERVICE + \"/api/process/auth/getProcesses\",\n                  headers: {\n                      \"X-Tenant\": domainName,\n                      'Content-Type': 'application/json'\n                  },\n                  method :\"POST\",\n                  async: false,\n                  data: JSON.stringify({domainName: domainName, formCodes: formCodes}),\n                  success: function (result) {\n                      console.log(result)\n                      var keys = JSON.parse(result.keys)\n                      console.log(keys)\n                      var tab = [];\n                      tab.push( { name: 'Please select...', value: '' });\n                      //var forms = result;\n                      keys.map(key =>\n                          tab.push({name:key , value:key})\n                      );\n                      arrValues = tab;\n                  },\n\n              });\n              return arrValues;\n          },\n          //    defaultValue: notification,\n          setControlValue :true,\n          modelProperty: 'executeProcess',\n          set: function(element, values, node) {\n              var commands = [];\n            //  var bo = getBusinessObject(element);\n              var executeProcess = values.executeProcess;\n\n         //     console.log(bo)\n\n              commands.push(cmdHelper.updateProperties(element, {\n                  'camunda:formKey': executeProcess\n              }));\n              return commands;\n          },\n          get: function(element, node) {\n              var bo = getBusinessObject(element);\n              var processDefinitionKey = '';\n              if(bo.get(\"camunda:formKey\") !== undefined ){\n                  processDefinitionKey = bo.get(\"camunda:formKey\");\n\n                  var selectedProcess = {name: processDefinitionKey, value: processDefinitionKey};\n\n              }\n\n              return {executeProcess: processDefinitionKey};\n              // return { selectNotification:  selectedNotification };\n          }\n      });\n      // implementation type ////////////////////////////////////\n      group.entries.push(processListSelectEntry);\n            };\n      }\n\n\n\n            /*var formData = formHelper.getFormData(element);\n\n            if (!formData) {\n              formData = elementHelper.createElement('camunda:FormData', { fields: [] }, extensionElements, bpmnFactory);\n              commands.push(cmdHelper.addAndRemoveElementsFromList(\n                element,\n                extensionElements,\n                'values',\n                'extensionElements',\n                [formData],\n                []\n              ));\n            }\n*/\n           /* var field = elementHelper.createElement('camunda:FormField', { name: selectedForm, id:selectedForm+\"-(\"+editable+\")\" }, formData, bpmnFactory);\n\n            if (typeof formData.fields !== 'undefined') {\n              commands.push(cmdHelper.addElementsTolist(element, formData, 'fields', [ field ]));\n            } else {\n              commands.push(cmdHelper.updateBusinessObject(element, formData, {\n                fields: [ field ]\n              }));\n            }*/\n              /*    var  validation = elementHelper.createElement('camunda:Validation', {}, getBusinessObject(element), bpmnFactory);\n\n                    commands.push(cmdHelper.updateBusinessObject(element, field, { 'validation': validation }));\n            if(!valid){\n            var newConstraint = elementHelper.createElement(\n                                        'camunda:Constraint',\n                                        { name: \"readonly\", config: undefined },\n                                        validation,\n                                        bpmnFactory\n                                      );\n                                      }else{\n                                       var newConstraint = elementHelper.createElement(\n                                                          'camunda:Constraint',\n                                                          { name: undefined, config: undefined },\n                                                          validation,\n                                                          bpmnFactory\n                                                        );\n                                      }\n                                        var constraints = formHelper.getConstraints(selectedForm);\n\n\n                                      if (constraints.length === 1) {\n\n                                        // remove camunda:validation if the last existing constraint has been removed\n                                        commands.push(cmdHelper.updateBusinessObject(element, field, { validation: undefined }));\n                                      }\n                                       commands.push(cmdHelper.addElementsTolist(element, validation, 'constraints', [ newConstraint ]));\n\n            return commands;\n          },\n          removeExtensionElement: function(element, extensionElements, value, idx) {\n            var formData = getExtensionElements(getBusinessObject(element), 'camunda:FormData')[0],\n                entry = formData.fields[idx],\n                commands = [];\n\n            if (formData.fields.length < 2) {\n              commands.push(removeEntry(getBusinessObject(element), element, formData));\n            } else {\n              commands.push(cmdHelper.removeElementsFromList(element, formData, 'fields', null, [entry]));\n\n              if (entry.id === formData.get('businessKey')) {\n                commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\n              }\n            }\n\n            return commands;\n          },\n          getExtensionElements: function(element) {\n            return formHelper.getFormFields(element);\n          },\n          hideExtensionElements: function(element, node) {\n            return false;\n          }*/\n       // }\n    //    });\n    //    group.entries.push(roleFieldsEntry);\n/*\n var roleFieldsEntry = extensionElements(element, bpmnFactory, {\n     id : 'candidateGroups',\n     label : translate('Add Roles'),\n     modelProperty : 'candidateGroups',\n    prefix: 'candidateGroups',\n    createExtensionElement: function(element, extensionElements, value) {\n       var bo = getBusinessObject(element);\n            return cmdHelper.updateBusinessObject(element, bo, {\n              'camunda:candidateGroups': values.candidateGroups || undefined\n            });\n*/\n\n     // var field = elementHelper.createElement('camunda:FormField', { id: selectedForm+\" - (\"+editable+\")\" }, formData, bpmnFactory);\n\n    /*  if (typeof formData.fields !== 'undefined') {\n        commands.push(cmdHelper.addElementsTolist(element, formData, 'fields', [ field ]));\n      } else {\n        commands.push(cmdHelper.updateBusinessObject(element, formData, {\n          fields: [ field ]\n        }));\n      }*/\n     // return commands;\n  //  },\n  /*  removeExtensionElement: function(element, extensionElements, value, idx) {\n      var formData = getExtensionElements(getBusinessObject(element), 'camunda:FormData')[0],\n          entry = formData.fields[idx],\n          commands = [];\n*/\n    /*  if (formData.fields.length < 2) {\n        commands.push(removeEntry(getBusinessObject(element), element, formData));\n      } else {\n        commands.push(cmdHelper.removeElementsFromList(element, formData, 'fields', null, [entry]));\n\n        if (entry.id === formData.get('businessKey')) {\n          commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\n        }\n      }*/\n\n    /*  return commands;\n    },*/\n   /* getExtensionElements: function(element) {\n    var bo = getBusinessObject(element);\n          var candidateGroups = bo.get('camunda:candidateGroups');\n\n          return {\n            candidateGroups: candidateGroups ? candidateGroups : ''\n          };\n    //  return formHelper.getFormFields(element);\n    },\n    hideExtensionElements: function(element, node) {\n      return false;\n    }\n  });\n  group.entries.push(roleFieldsEntry);*/\n/*\n\n    group.entries.push(entryFactory.textField(translate, {\n      id : 'candidateGroups',\n      label : translate('Candidate Groups'),\n      modelProperty : 'candidateGroups'\n    }));\n*/\n\n    // Due Date\n  /*  group.entries.push(entryFactory.textField(translate, {\n      id : 'dueDate',\n      description : translate('The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)'),\n      label : translate('Due Date'),\n      modelProperty : 'dueDate'\n    }));*/\n\n    // FollowUp Date\n /*   group.entries.push(entryFactory.textField(translate, {\n      id : 'followUpDate',\n      description : translate('The follow up date as an EL expression (e.g. ${someDate} or an ' +\n                    'ISO date (e.g. 2015-06-26T09:54:00)'),\n      label : translate('Follow Up Date'),\n      modelProperty : 'followUpDate'\n    }));*/\n\n    // priority\n   /* group.entries.push(entryFactory.textField(translate, {\n      id : 'priority',\n      label : translate('Priority'),\n      modelProperty : 'priority'\n    }));*/\n\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\nvar domQuery = require('min-dom').query,\n    domClosest = require('min-dom').closest,\n    domify = require('min-dom').domify,\n    forEach = require('lodash/forEach');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils'),\n    escapeHTML = utils.escapeHTML;\n\nfunction getSelectBox(node, id) {\n  var currentTab = domClosest(node, 'div.bpp-properties-tab');\n  var query = 'select[name=selectedCandidateGroup]' + (id ? '[id=cam-candidateGroups-' + id + ']' : '');\n  return domQuery(query, currentTab);\n}\n\nfunction getSelected(node, id) {\n  var selectBox = getSelectBox(node, id);\n  return {\n    value: (selectBox || {}).value,\n    idx: (selectBox || {}).selectedIndex\n  };\n}\n\nfunction generateElementId(prefix) {\n  prefix = prefix + '_';\n  return utils.nextId(prefix);\n}\n\nvar CREATE_EXTENSION_ELEMENT_ACTION = 'create-extension-element',\n    REMOVE_EXTENSION_ELEMENT_ACTION = 'remove-extension-element';\n\nmodule.exports = function(element, options, translate) {\n\n  var id = options.id,\n      prefix = options.prefix || 'elem',\n      label = options.label || id,\n      idGeneration = (options.idGeneration === false) ? options.idGeneration : true,\n      businessObject = options.businessObject || getBusinessObject(element);\n\n  var modelProperty = options.modelProperty || 'id';\n\n  var getElements = options.getExtensionElements;\n\n  var createElement = options.createExtensionElement,\n      canCreate = typeof createElement === 'function';\n\n  var removeElement = options.removeExtensionElement,\n      canRemove = typeof removeElement === 'function';\n\n  var onSelectionChange = options.onSelectionChange;\n\n  var hideElements = options.hideExtensionElements,\n      canBeHidden = typeof hideElements === 'function';\n\n  var setOptionLabelValue = options.setOptionLabelValue;\n\n  var defaultSize = options.size || 5,\n      resizable = options.resizable;\n\n  var reference = options.reference || undefined;\n\n  var selectionChanged = function(element, node, event, scope) {\n    if (typeof onSelectionChange === 'function') {\n      return onSelectionChange(element, node, event, scope);\n    }\n  };\n\n  var createOption = function(value) {\n    return '<option value=\"' + escapeHTML(value) + '\" data-value data-name=\"candidateGroupValue\">' + escapeHTML(value) + '</option>';\n  };\n\n  var initSelectionSize = function(selectBox, optionsLength) {\n    if (resizable) {\n      selectBox.size = optionsLength > defaultSize ? optionsLength : defaultSize;\n    }\n  };\n\n  return {\n    id: id,\n    html: '<div class=\"bpp-row bpp-element-list\" ' +\n            (canBeHidden ? 'data-show=\"hideElements\"' : '') + '>' +\n            '<label for=\"cam-candidateGroups-' + escapeHTML(id) + '\">' + escapeHTML(label) + '</label>' +\n            '<div class=\"bpp-field-wrapper\">' +\n              '<select id=\"cam-candidateGroups-' + escapeHTML(id) + '\"' +\n                      'name=\"selectedCandidateGroup\" ' +\n                      'size=\"' + escapeHTML(defaultSize) + '\" ' +\n                      'data-list-entry-container ' +\n                      'data-on-change=\"selectElement\">' +\n              '</select>' +\n              (canCreate ? '<button class=\"action-button add\" type=\"button\" ' +\n                                   'id=\"cam-candidateGroups-create-' + escapeHTML(id) + '\" ' +\n                                   'data-action=\"createElement\">' +\n                             '<span>+</span>' +\n                           '</button>' : '') +\n              (canRemove ? '<button class=\"action-button clear\" type=\"button\" ' +\n                                   'id=\"cam-candidateGroups-remove-' + escapeHTML(id) + '\" ' +\n                                   'data-action=\"removeElement\" ' +\n                                   'data-disable=\"disableRemove\">' +\n                             '<span>-</span>' +\n                           '</button>' : '') +\n            '</div>' +\n          '</div>',\n\n    get: function(element, node) {\n      //var elements = getElements(element, node);\n      var go = getBusinessObject(element);\n      var string_data = go.get(\"camunda:candidateGroups\") || '';\n      var result = [];\n      if(string_data !==''){\n       var array_data = string_data.split(',');\n\n           forEach(array_data, function(elem) {\n          //  console.log(elem);\n            if(elem !== ''){\n            result.push({\n                      candidateGroupValue: elem\n                    });\n                     }\n                  });\n\n      }\n\n      var selectBox = getSelectBox(node.parentNode, id);\n      initSelectionSize(selectBox, result.length);\n      return result;\n     /* return {\n       [modelProperty]: go.get(\"camunda:candidateGroups\")\n     };*/\n    },\n\n    set: function(element, values, node) {\n      var action = this.__action;\n      delete this.__action;\n\n      businessObject = businessObject || getBusinessObject(element);\n\n      var go =\n        (reference && businessObject.get(reference))\n          ? businessObject.get(reference)\n          : businessObject;\n\n          console.log(values);\n          var candidateGroups = go.get(\"camunda:candidateGroups\") || '';\n          //var val = values.candidateGroups;\n          console.log(candidateGroups);\n         /* if(candidateGroups !== ''){\n\n                var array_data = candidateGroups.split(',');\n                var result = [];\n                forEach(array_data, function(elem) {\n              //  console.log(elem);\n                if(elem !== ''){\n                result.push({\n                          candidateGroupValue: elem\n                        });\n                         }\n                      });\n          }*/\n\n      if (action.id === CREATE_EXTENSION_ELEMENT_ACTION) {\n        var commands = [];\n       /* if (!extensionElements) {\n          extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n          commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n        }*/\n        var prop = {};\n        console.log(values);\n        if(candidateGroups !== ''){\n                prop[\"candidateGroups\"] = candidateGroups +\",\"+ values[values.length-1].candidateGroupValue;\n\n        }else{\n                prop[\"candidateGroups\"] = values[values.length-1].candidateGroupValue || '';\n}\n\n        commands.push(cmdHelper.updateBusinessObject(element, go, prop));\n        return commands;\n\n      }\n      else if (action.id === REMOVE_EXTENSION_ELEMENT_ACTION) {\n        return removeElement(element, candidateGroups, action.value, action.idx, node);\n      }\n\n    },\n\n    createListEntryTemplate: function(value, index, selectBox) {\n      initSelectionSize(selectBox, selectBox.options.length + 1);\n      return createOption(value.candidateGroupValue);\n    },\n\n    deselect: function(element, node) {\n      var selectBox = getSelectBox(node, id);\n      selectBox.selectedIndex = -1;\n    },\n\n    getSelected: function(element, node) {\n      return getSelected(node, id);\n    },\n\n    setControlValue: function(element, node, option, property, value, idx) {\n      node.value = value;\n\n      if (!setOptionLabelValue) {\n        node.text = value;\n      } else {\n        setOptionLabelValue(element, node, option, property, value, idx);\n      }\n    },\n\n    createElement: function(element, node, properties) {\n\n      // create option template\n      var generatedId;\n      if (idGeneration) {\n        generatedId = generateElementId(prefix);\n      }\n\n      var selectBox = getSelectBox(node, id);\n      var go = getBusinessObject(element);\n     /* console.log(getBusinessObject(\"bpmn:userTask\"));\n      console.log(getBusinessObject(\"bpmn:UserTask\"));*/\n      /*if (is(element, \"bpmn:userTask\")){\n                      var go = getBusinessObject(element);\n                      }else{\n                      var go = getBusinessObject(element.parent);\n                      }*/\n    //  var go = getBusinessObject(element.parentNode);\n    //  console.log(go.$attrs.candidateGroups);\n     /// console.log(go.$attrs);\n\n    //  console.log(go.get(\"camunda:candidateGroups\"));\n\n        var candidateGroup_data = window.localStorage.getItem(\"candidateGroups\");\n       // console.log(candidateGroup_data);\n   //   console.log(properties.get(\"candidateGroups\"));\n\n      //console.log(go.get(\"camunda:candidateGroups\"));\n      var template = domify(createOption(candidateGroup_data));\n\n      // add new empty option as last child element\n      selectBox.appendChild(template);\n\n      // select last child element\n      selectBox.lastChild.selected = 'selected';\n      selectionChanged(element, node);\n\n      // update select box size\n      initSelectionSize(selectBox, selectBox.options.length);\n\n      this.__action = {\n        id: CREATE_EXTENSION_ELEMENT_ACTION,\n        value: generatedId\n      };\n\n      return true;\n    },\n\n    removeElement: function(element, node) {\n      var selection = getSelected(node, id);\n\n      var selectBox = getSelectBox(node, id);\n      selectBox.removeChild(selectBox.options[selection.idx]);\n\n      // update select box size\n      initSelectionSize(selectBox, selectBox.options.length);\n\n      this.__action = {\n        id: REMOVE_EXTENSION_ELEMENT_ACTION,\n        value: selection.value,\n        idx: selection.idx\n      };\n\n      return true;\n    },\n\n    hideElements: function(element, entryNode, node, scopeNode) {\n      return !hideElements(element, entryNode, node, scopeNode);\n    },\n\n    disableRemove: function(element, entryNode, node, scopeNode) {\n      return (getSelected(entryNode, id) || {}).idx < 0;\n    },\n\n    selectElement: selectionChanged\n  };\n\n};","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    asyncContinuation = require('./implementation/AsyncContinuation');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (is(element, 'camunda:AsyncCapable')) {\n\n    group.entries = group.entries.concat(asyncContinuation(element, bpmnFactory, {\n      getBusinessObject: getBusinessObject\n    }, translate));\n\n  }\n};","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\nvar callable = require('./implementation/Callable');\n\nvar cmdHelper = require('../../../helper/CmdHelper');\n\nvar flattenDeep = require('lodash/flattenDeep');\nvar assign = require('lodash/assign');\n\nfunction getCallableType(element) {\n  var bo = getBusinessObject(element);\n\n  var boCalledElement = bo.get('calledElement'),\n      boCaseRef = bo.get('camunda:caseRef');\n\n  var callActivityType = '';\n  if (typeof boCalledElement !== 'undefined') {\n    callActivityType = 'bpmn';\n  } else\n\n  if (typeof boCaseRef !== 'undefined') {\n    callActivityType = 'cmmn';\n  }\n\n  return callActivityType;\n}\n\nvar DEFAULT_PROPS = {\n  calledElement: undefined,\n  'camunda:calledElementBinding': 'latest',\n  'camunda:calledElementVersion': undefined,\n  'camunda:calledElementTenantId': undefined,\n  'camunda:variableMappingClass' : undefined,\n  'camunda:variableMappingDelegateExpression' : undefined,\n  'camunda:caseRef': undefined,\n  'camunda:caseBinding': 'latest',\n  'camunda:caseVersion': undefined,\n  'camunda:caseTenantId': undefined\n};\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!is(element, 'camunda:CallActivity')) {\n    return;\n  }\n\n  group.entries.push(entryFactory.selectBox(translate, {\n    id : 'callActivity',\n    label: translate('CallActivity Type'),\n    selectOptions: [\n      { name: 'BPMN', value: 'bpmn' },\n      { name: 'CMMN', value: 'cmmn' }\n    ],\n    emptyParameter: true,\n    modelProperty: 'callActivityType',\n\n    get: function(element, node) {\n      return {\n        callActivityType: getCallableType(element)\n      };\n    },\n\n    set: function(element, values, node) {\n      var type = values.callActivityType;\n\n      var props = assign({}, DEFAULT_PROPS);\n\n      if (type === 'bpmn') {\n        props.calledElement = '';\n      }\n      else if (type === 'cmmn') {\n        props['camunda:caseRef'] = '';\n      }\n\n      return cmdHelper.updateProperties(element, props);\n    }\n\n  }));\n\n  group.entries.push(callable(element, bpmnFactory, {\n    getCallableType: getCallableType\n  }, translate));\n\n  group.entries = flattenDeep(group.entries);\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar multiInstanceLoopCharacteristics = require('./implementation/MultiInstanceLoopCharacteristics');\n\nvar jobRetryTimeCycle = require('./implementation/JobRetryTimeCycle'),\n    asyncContinuation = require('./implementation/AsyncContinuation');\n\n\nfunction getLoopCharacteristics(element) {\n  var bo = getBusinessObject(element);\n  return bo.loopCharacteristics;\n}\n\n\nfunction ensureMultiInstanceSupported(element) {\n  var loopCharacteristics = getLoopCharacteristics(element);\n  return !!loopCharacteristics && is(loopCharacteristics, 'camunda:Collectable');\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!ensureMultiInstanceSupported(element)) {\n    return;\n  }\n\n  // multi instance properties\n  group.entries = group.entries.concat(multiInstanceLoopCharacteristics(element, bpmnFactory, translate));\n\n  // async continuation ///////////////////////////////////////////////////////\n  group.entries = group.entries.concat(asyncContinuation(element, bpmnFactory, {\n    getBusinessObject: getLoopCharacteristics,\n    idPrefix: 'multiInstance-',\n    labelPrefix: translate('Multi Instance ')\n  }, translate));\n\n\n  // retry time cycle //////////////////////////////////////////////////////////\n  group.entries = group.entries.concat(jobRetryTimeCycle(element, bpmnFactory, {\n    getBusinessObject: getLoopCharacteristics,\n    idPrefix: 'multiInstance-',\n    labelPrefix: translate('Multi Instance ')\n  }, translate));\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    escapeHTML = require('../../../../Utils').escapeHTML;\n\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar domClasses = require('min-dom').classes;\n\n/**\n * Get a property value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n * @param {string} propertyName\n *\n * @return {any} the property value\n */\nfunction getProperty(element, propertyName) {\n  var loopCharacteristics = getLoopCharacteristics(element);\n  return loopCharacteristics && loopCharacteristics.get(propertyName);\n}\n\n/**\n * Get the body of a given expression.\n *\n * @param {ModdleElement<bpmn:FormalExpression>} expression\n *\n * @return {string} the body (value) of the expression\n */\nfunction getBody(expression) {\n  return expression && expression.get('body');\n}\n\n\n/**\n * Get the loop characteristics of an element.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement<bpmn:MultiInstanceLoopCharacteristics>} the loop characteristics\n */\nfunction getLoopCharacteristics(element) {\n  var bo = getBusinessObject(element);\n  return bo.loopCharacteristics;\n}\n\n/**\n * Get the loop cardinality of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement<bpmn:FormalExpression>} an expression representing the loop cardinality\n */\nfunction getLoopCardinality(element) {\n  return getProperty(element, 'loopCardinality');\n}\n\n/**\n * Get the loop cardinality value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the loop cardinality value\n */\nfunction getLoopCardinalityValue(element) {\n  var loopCardinality = getLoopCardinality(element);\n  return getBody(loopCardinality);\n}\n\n/**\n * Get the completion condition of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement<bpmn:FormalExpression>} an expression representing the completion condition\n */\nfunction getCompletionCondition(element) {\n  return getProperty(element, 'completionCondition');\n}\n\n/**\n * Get the completion condition value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the completion condition value\n */\nfunction getCompletionConditionValue(element) {\n  var completionCondition = getCompletionCondition(element);\n  return getBody(completionCondition);\n}\n\n/**\n * Get the 'camunda:collection' attribute value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the 'camunda:collection' value\n */\nfunction getCollection(element) {\n  return getProperty(element, 'camunda:collection');\n}\n\n/**\n * Get the 'camunda:elementVariable' attribute value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the 'camunda:elementVariable' value\n */\nfunction getElementVariable(element) {\n  return getProperty(element, 'camunda:elementVariable');\n}\n\n\n/**\n * Creates 'bpmn:FormalExpression' element.\n *\n * @param {ModdleElement} parent\n * @param {string} body\n * @param {BpmnFactory} bpmnFactory\n *\n * @result {ModdleElement<bpmn:FormalExpression>} a formal expression\n */\nfunction createFormalExpression(parent, body, bpmnFactory) {\n  return elementHelper.createElement('bpmn:FormalExpression', { body: body }, parent, bpmnFactory);\n}\n\n/**\n * Updates a specific formal expression of the loop characteristics.\n *\n * @param {djs.model.Base} element\n * @param {string} propertyName\n * @param {string} newValue\n * @param {BpmnFactory} bpmnFactory\n */\nfunction updateFormalExpression(element, propertyName, newValue, bpmnFactory) {\n  var loopCharacteristics = getLoopCharacteristics(element);\n\n  var expressionProps = {};\n\n  if (!newValue) {\n\n    // remove formal expression\n    expressionProps[propertyName] = undefined;\n    return cmdHelper.updateBusinessObject(element, loopCharacteristics, expressionProps);\n  }\n\n  var existingExpression = loopCharacteristics.get(propertyName);\n\n  if (!existingExpression) {\n\n    // add formal expression\n    expressionProps[propertyName] = createFormalExpression(loopCharacteristics, newValue, bpmnFactory);\n    return cmdHelper.updateBusinessObject(element, loopCharacteristics, expressionProps);\n  }\n\n  // edit existing formal expression\n  return cmdHelper.updateBusinessObject(element, existingExpression, {\n    body: newValue\n  });\n}\n\n\nmodule.exports = function(element, bpmnFactory, translate) {\n\n  var entries = [];\n\n  // error message /////////////////////////////////////////////////////////////////\n\n  entries.push({\n    id: 'multiInstance-errorMessage',\n    html: '<div data-show=\"isValid\">' +\n             '<span class=\"bpp-icon-warning\"></span> ' +\n             escapeHTML(translate('Must provide either loop cardinality or collection')) +\n          '</div>',\n\n    isValid: function(element, node, notification, scope) {\n      var loopCharacteristics = getLoopCharacteristics(element);\n\n      var isValid = true;\n      if (loopCharacteristics) {\n        var loopCardinality = getLoopCardinalityValue(element);\n        var collection = getCollection(element);\n\n        isValid = !loopCardinality && !collection;\n      }\n\n      domClasses(node).toggle('bpp-hidden', !isValid);\n      domClasses(notification).toggle('bpp-error-message', isValid);\n\n      return isValid;\n    }\n  });\n\n  // loop cardinality //////////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField(translate, {\n    id: 'multiInstance-loopCardinality',\n    label: translate('Loop Cardinality'),\n    modelProperty: 'loopCardinality',\n\n    get: function(element, node) {\n      return {\n        loopCardinality: getLoopCardinalityValue(element)\n      };\n    },\n\n    set: function(element, values) {\n      return updateFormalExpression(element, 'loopCardinality', values.loopCardinality, bpmnFactory);\n    }\n  }));\n\n\n  // collection //////////////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField(translate, {\n    id: 'multiInstance-collection',\n    label: translate('Collection'),\n    modelProperty: 'collection',\n\n    get: function(element, node) {\n      return {\n        collection: getCollection(element)\n      };\n    },\n\n    set: function(element, values) {\n      var loopCharacteristics = getLoopCharacteristics(element);\n      return cmdHelper.updateBusinessObject(element, loopCharacteristics, {\n        'camunda:collection': values.collection || undefined\n      });\n    },\n\n    validate: function(element, values, node) {\n      var collection = getCollection(element);\n      var elementVariable = getElementVariable(element);\n\n      if (!collection && elementVariable) {\n        return { collection : 'Must provide a value' };\n      }\n    }\n  }));\n\n\n  // element variable ////////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField(translate, {\n    id: 'multiInstance-elementVariable',\n    label: translate('Element Variable'),\n    modelProperty: 'elementVariable',\n\n    get: function(element, node) {\n      return {\n        elementVariable: getElementVariable(element)\n      };\n    },\n\n    set: function(element, values) {\n      var loopCharacteristics = getLoopCharacteristics(element);\n      return cmdHelper.updateBusinessObject(element, loopCharacteristics, {\n        'camunda:elementVariable': values.elementVariable || undefined\n      });\n    }\n  }));\n\n\n  // Completion Condition //////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField(translate, {\n    id: 'multiInstance-completionCondition',\n    label: translate('Completion Condition'),\n    modelProperty: 'completionCondition',\n\n    get: function(element) {\n      return {\n        completionCondition: getCompletionConditionValue(element)\n      };\n    },\n\n    set: function(element, values) {\n      return updateFormalExpression(element, 'completionCondition', values.completionCondition, bpmnFactory);\n    }\n  }));\n\n  return entries;\n\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    escapeHTML = require('../../../Utils').escapeHTML,\n    domQuery = require('min-dom').query,\n    cmdHelper = require('../../../helper/CmdHelper'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper'),\n    scriptImplementation = require('./implementation/Script');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\n\n  if (!(is(element, 'bpmn:SequenceFlow') && isConditionalSource(element.source))\n    && !conditionalEventDefinition) {\n    return;\n  }\n\n  var script = scriptImplementation('language', 'body', true, translate);\n  group.entries.push({\n    id: 'condition',\n    label: translate('Condition'),\n    html: '<div class=\"bpp-row\">' +\n        '<label for=\"cam-condition\" data-show=\"isExpression\">' + escapeHTML(translate('Expression')) + '</label>' +\n        '<div class=\"bpp-field-wrapper\" data-show=\"isExpression\">' +\n        '<input id=\"cam-condition\" type=\"text\" name=\"condition\" />' +\n        '<button class=\"action-button clear\" data-action=\"clear\" data-show=\"canClear\">' +\n        '<span>X</span>' +\n        '</button>' +\n        '</div>' +\n\n        '</div>',\n\n    get: function(element, propertyName) {\n      var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\n\n      var conditionExpression = conditionalEventDefinition\n        ? conditionalEventDefinition.condition\n        : bo.conditionExpression;\n        console.log(conditionExpression)\n      var values = {},\n          conditionType = 'expression';\n\n        if(conditionExpression !== undefined){\n            values.condition = conditionExpression.get('body');\n        }\n      /*if (conditionExpression) {\n        var conditionLanguage = conditionExpression.language;\n        if (typeof conditionLanguage !== 'undefined') {\n          conditionType = 'script';\n          values = script.get(element, conditionExpression);\n        } else {\n          conditionType = 'expression';\n          values.condition = conditionExpression.get('body');\n        }\n      }*/\n\n      values.conditionType = conditionType;\n\n      return values;\n\n    },\n\n    set: function(element, values, containerElement) {\n      // var conditionType = values.conditionType;\n\n      var commands = [];\n\n      var conditionProps = {\n        body: undefined\n      };\n\n    /*  if (conditionType === 'script') {\n        conditionProps = script.set(element, values, containerElement);\n      } else {*/\n\n      var source = element.source;\n      console.log(source)\n      values.conditionType = ''\n        // if default-flow, remove default-property from source\n        if (source && source.businessObject.default === bo) {\n\n          commands.push(cmdHelper.updateProperties(source, { 'default': undefined }));\n        }else{\n          var conditionType = 'expression';\n          var condition = values.condition;\n\n          conditionProps.body = condition;\n          //}\n          var conditionOrConditionExpression;\n          conditionOrConditionExpression = elementHelper.createElement(\n              'bpmn:FormalExpression',\n              conditionProps,\n              conditionalEventDefinition || bo,\n              bpmnFactory\n          );\n\n\n          var update = conditionalEventDefinition\n              ? { condition: conditionOrConditionExpression }\n              : { conditionExpression: conditionOrConditionExpression };\n\n          commands.push(cmdHelper.updateBusinessObject(element, conditionalEventDefinition || bo, update));\n        }\n\n      return commands;\n    },\n\n    validate: function(element, values) {\n      var validationResult = {};\n      if (!values.condition && values.conditionType === 'expression') {\n        validationResult.condition = translate('Must provide a value');\n      }\n      else if (values.conditionType === 'script') {\n        validationResult = script.validate(element, values);\n      }\n\n      return validationResult;\n    },\n\n    isExpression: function(element, inputNode) {\n      var source = element.source;\n      // if default-flow, remove default-property from source\n      if (source && source.businessObject.default === bo) {\n        return false;\n      }else{\n        return true\n      }\n    /*  var conditionType = domQuery('select[name=conditionType]', inputNode);\n      if (conditionType.selectedIndex >= 0) {\n        return conditionType.options[conditionType.selectedIndex].value === 'expression';\n      }*/\n    },\n\n    isScript: function(element, inputNode) {\n      var conditionType = domQuery('select[name=conditionType]', inputNode);\n      if (conditionType.selectedIndex >= 0) {\n        return conditionType.options[conditionType.selectedIndex].value === 'script';\n      }\n    },\n\n    clear: function(element, inputNode) {\n\n      // clear text input\n      domQuery('input[name=condition]', inputNode).value='';\n\n      return true;\n    },\n\n    canClear: function(element, inputNode) {\n      var input = domQuery('input[name=condition]', inputNode);\n\n      return input.value !== '';\n    },\n\n    script : script,\n\n    cssClasses: [ 'bpp-textfield' ]\n  });\n};\n\n\n// utilities //////////////////////////\n\nvar CONDITIONAL_SOURCES = [\n  'bpmn:Activity',\n  'bpmn:ExclusiveGateway',\n  'bpmn:InclusiveGateway',\n  'bpmn:ComplexGateway'\n];\n\nfunction isConditionalSource(element) {\n  return isAny(element, CONDITIONAL_SOURCES);\n}\n","'use strict';\nvar $ = require(\"jquery\");\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    SCRIPT_SERVICE = require('../../../../constants').SCRIPT_SERVICE,\n    elementHelper = require('../../../helper/ElementHelper'),\n    scriptImplementation = require('./implementation/Script');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var bo;\n\n  if (is(element, 'bpmn:ScriptTask')) {\n    bo = getBusinessObject(element);\n  }\n\n  if (!bo) {\n    return;\n  }\n\nvar  scriptListSelectEntry = entryFactory.selectBox(translate, {\n        id: 'selectScript',\n        label: translate('Select Script'),\n        selectOptions: function(element, node) {\n            var arrValues = []\n            $.ajax({\n                url: SCRIPT_SERVICE+\"/api/script/auth/getAll/\"+ JSON.parse(window.localStorage.getItem(\"domain_data\")).domainId,\n               // url: \"http://41.230.29.238:8081/ISO-1-0.0.1-SNAPSHOT/api/auth/getRoles\",\n                method :\"GET\",\n                headers: {\n                    \"X-Tenant\": JSON.parse(localStorage.getItem('domain_data')).domainName\n                },\n                success: function (result) {\n                    var tab = [];\n                   tab.push( { name: 'Please select...', value: '' });\n                   //var forms = result;\n                    result.map(data =>\n                    tab.push({name:data.name+\"-\"+data.version, value:data.id})\n                    );\n                  arrValues = tab;\n                },\n                async: false\n            });\n            return arrValues;\n        },\n        setControlValue :true,\n        modelProperty: 'selectScript',\n        set: function(element, values, containerElement) {\n                 var commands = [];\n\n                var selectedScript = null;\n                 var script_code = null;\n              $.ajax({\n                      url: SCRIPT_SERVICE +\"/api/script/auth/getScriptById/\"+ values.selectScript,\n                     // url: \"http://41.230.29.238:8081/ISO-1-0.0.1-SNAPSHOT/api/auth/getRoles\",\n                      method :\"GET\",\n                  headers: {\n                      \"X-Tenant\": JSON.parse(localStorage.getItem('domain_data')).domainName\n                  },\n                      success: function (result) {\n                    //  var notification_data = JSON.parse(result);\n                      script_code = result.script_code;\n                        selectedScript = {name: JSON.parse(result.script).name+\"-\"+JSON.parse(result.script).version, value:JSON.parse(result.script).id}\n\n                      commands.push(cmdHelper.updateProperties(element, {\n                                                     'camunda:class': values.selectScript\n                                                   }));\n                                                   var scriptFormat = \"groovy\";\n                                                   var script= script_code;\n                                                   commands.push(cmdHelper.updateProperties(element, {\n                                                                                   'scriptFormat': \"groovy\"\n                                                                                 }));\n                       var script = scriptImplementation('scriptFormat', 'script', false, translate);\n                        var bo = getBusinessObject(element);\n                       //var script = elementHelper.createElement('bpmn:script', {}, bo, bpmnFactory);\n                       // elementHelper.createElement('bpmn:Script', {string: script_code}, getBusinessObject(element), bpmnFactory);\n                     //  var properties = script_data.set(element, {script: script_code, scriptFormat: \"groovy\"}, containerElement);\n                        /* commands.push(cmdHelper.updateProperties(element, {\n                                'scriptFormat': \"groovy\"\n                              }));*/\n                   //    var newFieldElem = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, { name: 'to', string: notification_data.notificationTo}, extensionElements, bpmnFactory);\n                      // commands.push(cmdHelper.addElementsTolist(element, script, 'values', {script: script_code, scriptFormat: \"groovy\" }));\n\n                         commands.push(cmdHelper.updateBusinessObject(element, getBusinessObject(element), {\n                                 script: script_code, scriptFormat: \"groovy\"\n                                }));\n                         // commands.push(cmdHelper.updateProperties(script, {'script': script_code}));\n                      },\n                      async: false\n                  });\n\n\n\n                    var selectScript = values.selectScript;\n                    return commands;\n                    },\n                     get: function(element, node) {\n                       var bo = getBusinessObject(element);\n                        var boResultVariable = bo.get('camunda:class');\n\n                          return { selectScript:  boResultVariable };\n                        }\n          });\n  // implementation type ////////////////////////////////////\n group.entries.push(scriptListSelectEntry);\n\n/*\n  var script = scriptImplementation('scriptFormat', 'script', false, translate);\n  group.entries.push({\n    id: 'script-implementation',\n    label: translate('Script'),\n    html: script.template,\n\n    get: function(element) {\n      return script.get(element, bo);\n    },\n\n    set: function(element, values, containerElement) {\n      var properties = script.set(element, values, containerElement);\n\n      return cmdHelper.updateProperties(element, properties);\n    },\n\n    validate: function(element, values) {\n      return script.validate(element, values);\n    },\n\n    script : script,\n\n    cssClasses: ['bpp-textfield']\n\n  });\n\n  group.entries.push(entryFactory.textField(translate, {\n    id : 'scriptResultVariable',\n    label : translate('Result Variable'),\n    modelProperty : 'scriptResultVariable',\n\n    get: function(element, propertyName) {\n      var boResultVariable = bo.get('camunda:resultVariable');\n\n      return { scriptResultVariable : boResultVariable };\n    },\n\n    set: function(element, values, containerElement) {\n      return cmdHelper.updateProperties(element, {\n        'camunda:resultVariable': values.scriptResultVariable.length\n          ? values.scriptResultVariable\n          : undefined\n      });\n    }\n\n  }));*/\n\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper'),\n    error = require('./implementation/ErrorEventDefinition');\n\nvar forEach = require('lodash/forEach');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var errorEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:EndEvent'\n  ];\n\n  forEach(errorEvents, function(event) {\n    if (is(element, event)) {\n\n      var errorEventDefinition = eventDefinitionHelper.getErrorEventDefinition(element);\n\n      if (errorEventDefinition) {\n        var isCatchingErrorEvent = is(element, 'bpmn:StartEvent') || is (element, 'bpmn:BoundaryEvent');\n\n        var showErrorCodeVariable = isCatchingErrorEvent,\n            showErrorMessageVariable = isCatchingErrorEvent;\n\n        error(\n          group,\n          element,\n          bpmnFactory,\n          errorEventDefinition,\n          showErrorCodeVariable,\n          showErrorMessageVariable,\n          translate);\n      }\n    }\n  });\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    elementReferenceProperty = require('../../../bpmn/parts/implementation/ElementReferenceProperty');\n\nmodule.exports = function(\n    group, element, bpmnFactory, errorEventDefinition,\n    showErrorCodeVariable, showErrorMessageVariable, translate\n) {\n\n\n  var getValue = function(modelProperty) {\n    return function(element) {\n      var modelPropertyValue = errorEventDefinition.get('camunda:' + modelProperty);\n      var value = {};\n\n      value[modelProperty] = modelPropertyValue;\n      return value;\n    };\n  };\n\n  var setValue = function(modelProperty) {\n    return function(element, values) {\n      var props = {};\n\n      props['camunda:' + modelProperty] = values[modelProperty] || undefined;\n\n      return cmdHelper.updateBusinessObject(element, errorEventDefinition, props);\n    };\n  };\n\n\n  group.entries = group.entries.concat(\n    elementReferenceProperty(element, errorEventDefinition, bpmnFactory, translate, {\n      id: 'error-element-message',\n      label: translate('Error Message'),\n      referenceProperty: 'errorRef',\n      modelProperty: 'errorMessage'\n    })\n  );\n\n  if (showErrorCodeVariable) {\n    group.entries.push(entryFactory.textField(translate, {\n      id: 'errorCodeVariable',\n      label: translate('Error Code Variable'),\n      modelProperty : 'errorCodeVariable',\n\n      get: getValue('errorCodeVariable'),\n      set: setValue('errorCodeVariable')\n    }));\n  }\n\n  if (showErrorMessageVariable) {\n    group.entries.push(entryFactory.textField(translate, {\n      id: 'errorMessageVariable',\n      label: translate('Error Message Variable'),\n      modelProperty: 'errorMessageVariable',\n\n      get: getValue('errorMessageVariable'),\n      set: setValue('errorMessageVariable')\n    }));\n  }\n\n};\n","'use strict';\n\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    getExtensionElements = require('../../../helper/ExtensionElementsHelper').getExtensionElements,\n    removeEntry = require('../../../helper/ExtensionElementsHelper').removeEntry,\n    extensionElements = require('./implementation/ExtensionElements'),\n    properties = require('./implementation/Properties'),\n    entryFactory = require('../../../factory/EntryFactory'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    formHelper = require('../../../helper/FormHelper'),\n    utils = require('../../../Utils'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    find = require('lodash/find'),\n    each = require('lodash/forEach'),\n    FORM_SERVICE = require('../../../../constants').FORM_SERVICE;\nvar $ = require(\"jquery\");\nconst React = require(\"react\");\nvar selectedForm = \"\";\nvar editable = \"N\";\nvar valid=false ;\nvar formCode;\nfunction generateValueId() {\n  return utils.nextId('Value_');\n}\n\n/**\n * Generate a form field specific textField using entryFactory.\n *\n * @param {Function} translate\n * @param {string} options.id\n * @param {string} options.label\n * @param {string} options.modelProperty\n * @param {Function} options.validate\n *\n * @return {Object} an entryFactory.textField object\n */\nfunction formFieldTextField(translate, options, getSelectedFormField) {\n\n  var id = options.id,\n      label = options.label,\n      modelProperty = options.modelProperty,\n      validate = options.validate;\n\n  return entryFactory.textField(translate, {\n    id: id,\n    label: label,\n    modelProperty: modelProperty,\n    get: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node) || {},\n          values = {};\n      values[modelProperty] = selectedFormField[modelProperty];\n      return values;\n    },\n\n    set: function(element, values, node) {\n      var commands = [];\n\n      if (typeof options.set === 'function') {\n        var cmd = options.set(element, values, node);\n\n        if (cmd) {\n          commands.push(cmd);\n        }\n      }\n\n      var formField = getSelectedFormField(element, node),\n          properties = {};\n\n      properties[modelProperty] = values[modelProperty] || undefined;\n\n      commands.push(cmdHelper.updateBusinessObject(element, formField, properties));\n\n      return commands;\n    },\n    hidden: function(element, node) {\n      return !getSelectedFormField(element, node);\n    },\n    validate: validate\n  });\n}\n\nfunction ensureFormKeyAndDataSupported(element) {\n  return (\n    is(element, 'bpmn:StartEvent') && !is(element.parent, 'bpmn:SubProcess')\n  ) || is(element, 'bpmn:UserTask');\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!ensureFormKeyAndDataSupported(element)) {\n    return;\n  }\n\n\n  /**\n   * Return the currently selected form field querying the form field select box\n   * from the DOM.\n   *\n   * @param  {djs.model.Base} element\n   * @param  {DOMElement} node - DOM element of any form field text input\n   *\n   * @return {ModdleElement} the currently selected form field\n   */\n  function getSelectedFormField(element, node) {\n    var selected = formFieldsEntry.getSelected(element, node.parentNode);\n\n    if (selected.idx === -1) {\n      return;\n    }\n\n    return formHelper.getFormField(element, selected.idx);\n  }\n\n\n// [FormData] form field type combo box\nvar domainId= JSON.parse(window.localStorage.getItem('domain_data')).domainId;\n/*\n\n  var  formListSelectEntry = entryFactory.selectBox(translate, {\n    id: 'selectForm',\n    label: translate('Select Form'),\n    */\n/*selectOptions: function(element, node) {\n        var arrValues = []\n        $.ajax({\n            url: SERVER_URL +\"/api/form/auth/getAllFormsList\",\n            method :\"POST\",\n            data: JSON.stringify({domainId: domainId}),\n            success: function (result) {\n                var tab = [];\n                result.map(data => tab.push({name:data, value:data}));\n              arrValues = tab;\n            },\n            async: false\n        });\n        return arrValues;\n    },\n    setControlValue :true,*//*\n\n    selectOptions: [\n      { name: 'Please select...', value: '' },\n      { name: 'form1', value: \"form1\" },\n      { name: 'form2', value: \"form2\" },\n      { name: 'form3', value: \"form3\" }\n\n    ],\n    modelProperty: 'selectForm',\n    emptyParameter: false,\n\n    get: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      if (selectedFormField) {\n\n        return { selectForm:  selectedFormField.selectForm };\n      } else {\n        return {};\n      }\n    },\n    set: function(element, values, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n        selectedForm = values.selectForm;\n\n        console.log(element);\n        console.log(node);\n       // var  formData = getExtensionElements(getBusinessObject(element), 'camunda:FormData')[0];\n      //  var  commands = [];\n\n     // commands.push(cmdHelper.updateBusinessObject(element, formData, values));\n    //  return commands;\n   // return values.selectForm;\n    }\n  })\n  group.entries.push(formListSelectEntry);\n\n*/\n\nvar  formListSelectEntry = entryFactory.selectBox(translate, {\n    id: 'selectForm',\n    label: translate('Select Form'),\n    selectOptions: function(element, node) {\n        var arrValues = []\n        $.ajax({\n            //url: \"http://41.230.29.238:8081/ISO-1-0.0.1-SNAPSHOT/api/form/auth/getAllFormsList/\"+domainId,\n            url: FORM_SERVICE + \"/api/form/auth/getAllFormsList/\" + domainId,\n            headers: {\n                \"X-Tenant\": JSON.parse(localStorage.getItem('domain_data')).domainName\n            },\n            method :\"GET\",\n            success: function (result) {\n                var tab = [];\n                tab.push( { name: 'Please select...', value: '' });\n               //var forms = result;\n                result.map(data =>\n                tab.push({name:data.name+\"-\"+data.version, value:data.name+\"-\"+data.version+\"/\"+data.code})\n                );\n              arrValues = tab;\n            },\n            async: false\n        });\n        return arrValues;\n    },\n    setControlValue :true,\n    modelProperty: 'selectForm',\n\n   /* get: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n      selectedForm = selectedFormField.selectForm;\n        return { selectForm:  selectedFormField.selectForm };\n\n    },*/\n     set: function(element, values, node) {\n                 // var bo = getBusinessObject(element);\n                  selectedForm = values.selectForm.split(\"/\")[0];\n                  formCode = values.selectForm.split(\"/\")[1];\n                 // commands.push(cmdHelper.updateBusinessObject(element, selectedForm, { validation: undefined }));\n\n                  return {selectForm: selectedForm};\n                }\n\n  });\n  group.entries.push(formListSelectEntry);\n /* // [FormKey] form key text input field\n  group.entries.push(entryFactory.textField(translate, {\n    id : 'form-key',\n    label : translate('Form Key'),\n    modelProperty: 'formKey',\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n\n      return {\n        formKey: bo.get('camunda:formKey')\n      };\n    },\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element),\n          formKey = values.formKey || undefined;\n\n      return cmdHelper.updateBusinessObject(element, bo, { 'camunda:formKey': formKey });\n    }\n  }));*/\nvar isEditableEntry = entryFactory.checkbox(translate, {\n    id: 'validation',\n    label: translate('Editable'),\n    modelProperty: 'validation',\n    set: function(element, values, node) {\n\n              if(values.validation === true){\n                               editable = \"Y\";\n                           }else{\n                              editable = \"N\";\n                           }\n                           window.localStorage.setItem(\"editable\", editable);\n\n                           valid = !!values.validation;\n                           window.localStorage.setItem(\"valid\", valid);\n\n              return !!values.validation;\n            }\n\n\n\n   /*set: function(element, values) {\n\n            if(!!values.validation === true){\n                 editable = \"Y\";\n             }else{\n                editable = \"N\";\n             }\n\n             var  commands = [];\n\n              //  commands.push(cmdHelper.updateBusinessObject(element, formData, values));\n                return commands;\n*/\n\n      /* if(!!values.validation === true){\n        editable = \"Y\";\n        }else{\n        editable = \"N\";\n        }\n        return !!values.validation;\n        }*/\n      /*  if (valid) {\n                var newConstraint = elementHelper.createElement(\n                            'camunda:Constraint',\n                            { name: \"readonly\", config: undefined },\n                            validation,\n                            bpmnFactory\n                          );\n                          }else{\n                           var newConstraint = elementHelper.createElement(\n                                              'camunda:Constraint',\n                                              { name: undefined, config: undefined },\n                                              validation,\n                                              bpmnFactory\n                                            );\n                          }\n                            var constraints = formHelper.getConstraints(selectedForm),\n                              currentConstraint = constraints[idx];\n\n                          commands.push(cmdHelper.removeElementsFromList(\n                            element,\n                            formField.validation,\n                            'constraints',\n                            null,\n                            [ currentConstraint ]\n                          ));\n\n                          if (constraints.length === 1) {\n\n                            // remove camunda:validation if the last existing constraint has been removed\n                            commands.push(cmdHelper.updateBusinessObject(element, formField, { validation: undefined }));\n                          }\n                           commands.push(cmdHelper.addElementsTolist(element, validation, 'constraints', [ newConstraint ]));\n\n               */\n               //  var commands = [];\n                  //     return commands;\n\n       /* valid = !!values.validation;\n\n              // create validation business object and add it to form data, if it doesn't exist\n              var validation = elementHelper.createElement('camunda:Validation', {}, getBusinessObject(element), bpmnFactory);\nvar commands = [];\n              commands.push(cmdHelper.updateBusinessObject(element, formField, { 'validation': validation }));\nif (valid) {\n            var newConstraint = elementHelper.createElement(\n                    'camunda:Constraint',\n                    { name: \"readonly\", config: undefined },\n                    validation,\n                    bpmnFactory\n                  );\n                  }else{\n                   var newConstraint = elementHelper.createElement(\n                                      'camunda:Constraint',\n                                      { name: undefined, config: undefined },\n                                      validation,\n                                      bpmnFactory\n                                    );\n                  }\n                    var constraints = formHelper.getConstraints(selectedForm),\n                      currentConstraint = constraints[idx];\n\n                  commands.push(cmdHelper.removeElementsFromList(\n                    element,\n                    formField.validation,\n                    'constraints',\n                    null,\n                    [ currentConstraint ]\n                  ));\n\n                  if (constraints.length === 1) {\n\n                    // remove camunda:validation if the last existing constraint has been removed\n                    commands.push(cmdHelper.updateBusinessObject(element, formField, { validation: undefined }));\n                  }\n                   commands.push(cmdHelper.addElementsTolist(element, validation, 'constraints', [ newConstraint ]));\n\n        return commands;\n      }*/\n  //  }\n   });\n     /* var commands = [],\n          formField = getSelectedFormField(element, node),\n          validation = formField.validation;\n          return !!validation;}*/\n /*if (validation) {\n        // create validation business object and add it to form data, if it doesn't exist\n        validation = elementHelper.createElement('camunda:Validation', {}, getBusinessObject(element), bpmnFactory);\n\n        commands.push(cmdHelper.updateBusinessObject(element, formField, { 'validation': validation }));\n\n          var newConstraint = elementHelper.createElement(\n              'camunda:Constraint',\n              { name: \"readonly\", config: undefined },\n              validation,\n              bpmnFactory\n            );\n\n      }else{\n\n\n       var commands = [],\n                formField = getSelectedFormField(element, node),\n                constraints = formHelper.getConstraints(formField),\n                currentConstraint = constraints[idx];\n\n            commands.push(cmdHelper.removeElementsFromList(\n              element,\n              formField.validation,\n              'constraints',\n              null,\n              [ currentConstraint ]\n            ));\n\n            if (constraints.length === 1) {\n\n              // remove camunda:validation if the last existing constraint has been removed\n              commands.push(cmdHelper.updateBusinessObject(element, formField, { validation: undefined }));\n            }\n        }\n      commands.push(cmdHelper.addElementsTolist(element, validation, 'constraints', [ newConstraint ]));\n\n      return commands;\n    },\n\n\n    show: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }*/\n\n   /* getElements: function(element, node) {\n          var formField = getSelectedFormField(element, node);\n\n          return formHelper.getConstraints(formField);\n        },\n        addElement: function(element, node) {\n\n          var commands = [],\n              formField = getSelectedFormField(element, node),\n              validation = formField.validation;\n\n          if (!validation) {\n            // create validation business object and add it to form data, if it doesn't exist\n            validation = elementHelper.createElement('camunda:Validation', {}, getBusinessObject(element), bpmnFactory);\n\n            commands.push(cmdHelper.updateBusinessObject(element, formField, { 'validation': validation }));\n          }\n\n          var newConstraint = elementHelper.createElement(\n            'camunda:Constraint',\n            { name: undefined, config: undefined },\n            validation,\n            bpmnFactory\n          );\n\n          commands.push(cmdHelper.addElementsTolist(element, validation, 'constraints', [ newConstraint ]));\n\n          return commands;\n        },\n        updateElement: function(element, value, node, idx) {\n          var formField = getSelectedFormField(element, node),\n              constraint = formHelper.getConstraints(formField)[idx];\n\n          value.name = value.name || undefined;\n          value.config = value.config || undefined;\n\n          return cmdHelper.updateBusinessObject(element, constraint, value);\n        },\n        removeElement: function(element, node, idx) {\n          var commands = [],\n              formField = getSelectedFormField(element, node),\n              constraints = formHelper.getConstraints(formField),\n              currentConstraint = constraints[idx];\n\n          commands.push(cmdHelper.removeElementsFromList(\n            element,\n            formField.validation,\n            'constraints',\n            null,\n            [ currentConstraint ]\n          ));\n\n          if (constraints.length === 1) {\n\n            // remove camunda:validation if the last existing constraint has been removed\n            commands.push(cmdHelper.updateBusinessObject(element, formField, { validation: undefined }));\n          }\n\n          return commands;\n        },\n        show: function(element, node) {\n          return !!getSelectedFormField(element, node);\n        }\n*/\n // });\n   group.entries.push(isEditableEntry);\n  // [FormData] form field select box\n  var formFieldsEntry = extensionElements(element, bpmnFactory, {\n    id: 'form-fields',\n    label: translate('Form Fields'),\n    modelProperty: 'label',\n    prefix: 'FormField',\n    createExtensionElement: function(element, extensionElements, value) {\n      var bo = getBusinessObject(element), commands = [];\n\n      if (!extensionElements) {\n        extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n        commands.push(cmdHelper.updateProperties(element, { extensionElements: extensionElements }));\n      }\n\n      var formData = formHelper.getFormData(element);\n\n      if (!formData) {\n        formData = elementHelper.createElement('camunda:FormData', { fields: [] }, extensionElements, bpmnFactory);\n        commands.push(cmdHelper.addAndRemoveElementsFromList(\n          element,\n          extensionElements,\n          'values',\n          'extensionElements',\n          [formData],\n          []\n        ));\n      }\n\n/*        editable = window.localStorage.getItem(\"editable\");\n        valid = window.localStorage.getItem(\"valid\");*/\n      var field = elementHelper.createElement('camunda:FormField', { id:formCode, label: selectedForm+\"-(\"+editable+\")\", type:\"string\" }, formData, bpmnFactory);\n\n      if (typeof formData.fields !== 'undefined') {\n        commands.push(cmdHelper.addElementsTolist(element, formData, 'fields', [ field ]));\n      } else {\n        commands.push(cmdHelper.updateBusinessObject(element, formData, {\n          fields: [ field ]\n        }));\n      }\n            var  validation = elementHelper.createElement('camunda:Validation', {}, getBusinessObject(element), bpmnFactory);\n              commands.push(cmdHelper.updateBusinessObject(element, field, { 'validation': validation }));\n      if(!valid){\n      var newConstraint = elementHelper.createElement(\n          'camunda:Constraint',\n          { name: \"readonly\", config: undefined },\n          validation,\n          bpmnFactory\n        );\n        }else{\n         var newConstraint = elementHelper.createElement(\n                            'camunda:Constraint',\n                            { name: \"required\", config: undefined },\n                            validation,\n                            bpmnFactory\n                          );\n        }\n          var constraints = formHelper.getConstraints(selectedForm);\n\n      //    window.localStorage.setItem(\"editable\", \"N\");\n       //   window.localStorage.setItem(\"valid\", false);\n          editable = \"N\";\n          valid = false;\n\n        if (constraints.length === 1) {\n\n          // remove camunda:validation if the last existing constraint has been removed\n          commands.push(cmdHelper.updateBusinessObject(element, field, { validation: undefined }));\n        }\n         commands.push(cmdHelper.addElementsTolist(element, validation, 'constraints', [ newConstraint ]));\n\n\n      return commands;\n    },\n    removeExtensionElement: function(element, extensionElements, value, idx) {\n      var formData = getExtensionElements(getBusinessObject(element), 'camunda:FormData')[0],\n          entry = formData.fields[idx],\n          commands = [];\n\n      if (formData.fields.length < 2) {\n        commands.push(removeEntry(getBusinessObject(element), element, formData));\n      } else {\n        commands.push(cmdHelper.removeElementsFromList(element, formData, 'fields', null, [entry]));\n\n        if (entry.id === formData.get('businessKey')) {\n          commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\n        }\n      }\n\n      return commands;\n    },\n    getExtensionElements: function(element) {\n        var form_ids = [];\n        var elements = formHelper.getFormFields(element);\n        elements.forEach((el)=>{\n            form_ids.push(el.id)\n        });\n        window.localStorage.setItem('execute_process_forms', form_ids);\n\n      return formHelper.getFormFields(element);\n    },\n    hideExtensionElements: function(element, node) {\n      return false;\n    }\n  });\n  group.entries.push(formFieldsEntry);\n\n  // [FormData] business key form field select box\n /* var formBusinessKeyFormFieldEntry = entryFactory.selectBox(translate, {\n    id: 'form-business-key',\n    label: translate('Business Key'),\n    modelProperty: 'businessKey',\n    selectOptions: function(element, inputNode) {\n      var selectOptions = [{ name: '', value: '' }];\n      var formFields = formHelper.getFormFields(element);\n      each(formFields, function(field) {\n        if (field.type !== 'boolean') {\n          selectOptions.push({ name: field.id, value: field.id });\n        }\n      });\n      return selectOptions;\n    },\n    get: function(element, node) {\n      var result = { businessKey: '' };\n      var bo = getBusinessObject(element);\n      var formDataExtension = getExtensionElements(bo, 'camunda:FormData');\n      if (formDataExtension) {\n        var formData = formDataExtension[0];\n        var storedValue = formData.get('businessKey');\n        result = { businessKey: storedValue };\n      }\n      return result;\n    },\n    set: function(element, values, node) {\n      var formData = getExtensionElements(getBusinessObject(element), 'camunda:FormData')[0];\n      return cmdHelper.updateBusinessObject(element, formData, { 'businessKey': values.businessKey || undefined });\n    },\n    hidden: function(element, node) {\n      var isStartEvent = is(element,'bpmn:StartEvent');\n      return !(isStartEvent && formHelper.getFormFields(element).length > 0);\n    }\n  });\n  group.entries.push(formBusinessKeyFormFieldEntry);\n*/\n  // [FormData] Form Field label\n/*  group.entries.push(entryFactory.label({\n    id: 'form-field-header',\n    labelText: translate('Form Field'),\n    showLabel: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));*/\n\n  // [FormData] form field id text input field\n /* group.entries.push(entryFactory.validationAwareTextField(translate, {\n    id: 'form-field-id',\n    label: translate('ID (process variable name)'),\n    modelProperty: 'id',\n\n    getProperty: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node) || {};\n\n      return selectedFormField.id;\n    },\n\n    setProperty: function(element, properties, node) {\n      var formField = getSelectedFormField(element, node);\n\n      return cmdHelper.updateBusinessObject(element, formField, properties);\n    },\n\n    hidden: function(element, node) {\n      return !getSelectedFormField(element, node);\n    },\n\n    validate: function(element, values, node) {\n\n      var formField = getSelectedFormField(element, node);\n\n      if (formField) {\n\n        var idValue = values.id;\n\n        if (!idValue || idValue.trim() === '') {\n          return { id: 'Form field id must not be empty' };\n        }\n\n        var formFields = formHelper.getFormFields(element);\n\n        var existingFormField = find(formFields, function(f) {\n          return f !== formField && f.id === idValue;\n        });\n\n        if (existingFormField) {\n          return { id: 'Form field id already used in form data.' };\n        }\n      }\n    }\n  }));*/\n\n  // [FormData] form field type combo box\n /* group.entries.push(entryFactory.comboBox(translate, {\n    id: 'form-field-type',\n    label: translate('Type'),\n    selectOptions: [\n      { name: 'string', value: 'string' },\n      { name: 'long', value: 'long' },\n      { name: 'boolean', value: 'boolean' },\n      { name: 'date', value: 'date' },\n      { name: 'enum', value: 'enum' }\n    ],\n    modelProperty: 'type',\n    emptyParameter: true,\n\n    get: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      if (selectedFormField) {\n        return { type: selectedFormField.type };\n      } else {\n        return {};\n      }\n    },\n    set: function(element, values, node) {\n      var selectedFormField = getSelectedFormField(element, node),\n          formData = getExtensionElements(getBusinessObject(element), 'camunda:FormData')[0],\n          commands = [];\n\n      if (selectedFormField.type === 'enum' && values.type !== 'enum') {\n\n        // delete camunda:value objects from formField.values when switching from type enum\n        commands.push(cmdHelper.updateBusinessObject(element, selectedFormField, { values: undefined }));\n      }\n      if (values.type === 'boolean' && selectedFormField.get('id') === formData.get('businessKey')) {\n        commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\n      }\n      commands.push(cmdHelper.updateBusinessObject(element, selectedFormField, values));\n\n      return commands;\n    },\n    hidden: function(element, node) {\n      return !getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] form field label text input field\n  group.entries.push(formFieldTextField(translate, {\n    id: 'form-field-label',\n    label: translate('Label'),\n    modelProperty: 'label'\n  }, getSelectedFormField));\n\n  // [FormData] form field defaultValue text input field\n  group.entries.push(formFieldTextField(translate, {\n    id: 'form-field-defaultValue',\n    label: translate('Default Value'),\n    modelProperty: 'defaultValue'\n  }, getSelectedFormField));\n\n\n  // [FormData] form field enum values label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-enum-values-header',\n    labelText: translate('Values'),\n    divider: true,\n    showLabel: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      return selectedFormField && selectedFormField.type === 'enum';\n    }\n  }));*/\n\n  // [FormData] form field enum values table\n /* group.entries.push(entryFactory.table(translate, {\n    id: 'form-field-enum-values',\n    labels: [ translate('Id'), translate('Name') ],\n    modelProperties: [ 'id', 'name' ],\n    show: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      return selectedFormField && selectedFormField.type === 'enum';\n    },\n    getElements: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      return formHelper.getEnumValues(selectedFormField);\n    },\n    addElement: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node),\n          id = generateValueId();\n\n      var enumValue = elementHelper.createElement(\n        'camunda:Value',\n        { id: id, name: undefined },\n        getBusinessObject(element),\n        bpmnFactory\n      );\n\n      return cmdHelper.addElementsTolist(element, selectedFormField, 'values', [enumValue]);\n    },\n    removeElement: function(element, node, idx) {\n      var selectedFormField = getSelectedFormField(element, node),\n          enumValue = selectedFormField.values[idx];\n\n      return cmdHelper.removeElementsFromList(element, selectedFormField, 'values', null, [enumValue]);\n    },\n    updateElement: function(element, value, node, idx) {\n      var selectedFormField = getSelectedFormField(element, node),\n          enumValue = selectedFormField.values[idx];\n\n      value.name = value.name || undefined;\n      return cmdHelper.updateBusinessObject(element, enumValue, value);\n    },\n    validate: function(element, value, node, idx) {\n\n      var selectedFormField = getSelectedFormField(element, node),\n          enumValue = selectedFormField.values[idx];\n\n      if (enumValue) {\n\n        // check if id is valid\n        var validationError = utils.isIdValid(enumValue, value.id, translate);\n\n        if (validationError) {\n          return { id: validationError };\n        }\n      }\n    }\n  }));\n\n  // [FormData] Validation label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-validation-header',\n    labelText: translate('Validation'),\n    divider: true,\n    showLabel: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n*/\n  // [FormData] form field constraints table\n/*\n  group.entries.push(entryFactory.table(translate, {\n    id: 'constraints-list',\n    modelProperties: [ 'name', 'config' ],\n    labels: [ translate('Name'), translate('Config') ],\n    addLabel: translate('Add Constraint'),\n    getElements: function(element, node) {\n      var formField = getSelectedFormField(element, node);\n\n      return formHelper.getConstraints(formField);\n    },\n    addElement: function(element, node) {\n\n      var commands = [],\n          formField = getSelectedFormField(element, node),\n          validation = formField.validation;\n\n      if (!validation) {\n\n        // create validation business object and add it to form data, if it doesn't exist\n        validation = elementHelper.createElement('camunda:Validation', {}, getBusinessObject(element), bpmnFactory);\n\n        commands.push(cmdHelper.updateBusinessObject(element, formField, { 'validation': validation }));\n      }\n\n      var newConstraint = elementHelper.createElement(\n        'camunda:Constraint',\n        { name: undefined, config: undefined },\n        validation,\n        bpmnFactory\n      );\n\n      commands.push(cmdHelper.addElementsTolist(element, validation, 'constraints', [ newConstraint ]));\n\n      return commands;\n    },\n    updateElement: function(element, value, node, idx) {\n      var formField = getSelectedFormField(element, node),\n          constraint = formHelper.getConstraints(formField)[idx];\n\n      value.name = value.name || undefined;\n      value.config = value.config || undefined;\n\n      return cmdHelper.updateBusinessObject(element, constraint, value);\n    },\n    removeElement: function(element, node, idx) {\n      var commands = [],\n          formField = getSelectedFormField(element, node),\n          constraints = formHelper.getConstraints(formField),\n          currentConstraint = constraints[idx];\n\n      commands.push(cmdHelper.removeElementsFromList(\n        element,\n        formField.validation,\n        'constraints',\n        null,\n        [ currentConstraint ]\n      ));\n\n      if (constraints.length === 1) {\n\n        // remove camunda:validation if the last existing constraint has been removed\n        commands.push(cmdHelper.updateBusinessObject(element, formField, { validation: undefined }));\n      }\n\n      return commands;\n    },\n    show: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] Properties label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-properties-header',\n    labelText: translate('Properties'),\n    divider: true,\n    showLabel: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n*/\n\n  // [FormData] camunda:properties table\n /* group.entries.push(properties(element, bpmnFactory, {\n    id: 'form-field-properties',\n    modelProperties: [ 'id', 'value' ],\n    labels: [ translate('Id'), translate('Value') ],\n    getParent: function(element, node) {\n      return getSelectedFormField(element, node);\n    },\n    show: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }, translate));*/\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    getExtensionElements = require('./ExtensionElementsHelper').getExtensionElements;\n\nvar FormHelper = {};\n\nmodule.exports = FormHelper;\n\n/**\n * Return form data from business object or undefined if none exist\n *\n * @param  {djs.model.Base} element\n *\n * @return {ModdleElement|undefined} formData\n */\nFormHelper.getFormData = function(element) {\n  var bo = getBusinessObject(element);\n\n  var formData = getExtensionElements(bo, 'camunda:FormData');\n\n  if (typeof formData !== 'undefined') {\n    return formData[0];\n  }\n};\n\n\n/**\n * Return all form fields existing in the business object, and\n * an empty array if none exist.\n *\n * @param  {djs.model.Base} element\n *\n * @return {Array} a list of form field objects\n */\nFormHelper.getFormFields = function(element) {\n  var formData = this.getFormData(element);\n\n  if (typeof formData === 'undefined') {\n    return [];\n  }\n\n  return formData.fields || [];\n};\n\n\n/**\n * Get a form field from the business object at given index\n *\n * @param {djs.model.Base} element\n * @param {number} idx\n *\n * @return {ModdleElement} the form field\n */\nFormHelper.getFormField = function(element, idx) {\n\n  var formFields = this.getFormFields(element);\n\n  return formFields[idx];\n};\n\n\n/**\n * Get all constraints for a specific form field from the business object\n *\n * @param  {ModdleElement} formField\n *\n * @return {Array<ModdleElement>} a list of constraint objects\n */\nFormHelper.getConstraints = function(formField) {\n  if (formField && formField.validation && formField.validation.constraints) {\n    return formField.validation.constraints;\n  }\n  return [];\n};\n\n\n/**\n * Get all camunda:value objects for a specific form field from the business object\n *\n * @param  {ModdleElement} formField\n *\n * @return {Array<ModdleElement>} a list of camunda:value objects\n */\nFormHelper.getEnumValues = function(formField) {\n  if (formField && formField.values) {\n    return formField.values;\n  }\n  return [];\n};\n\n","'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\n\nmodule.exports = function(group, element, translate) {\n\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(element, 'camunda:Initiator') && !is(element.parent, 'bpmn:SubProcess')) {\n    group.entries.push(entryFactory.textField(translate, {\n      id: 'initiator',\n      label: translate('Initiator'),\n      modelProperty: 'initiator'\n    }));\n  }\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar filter = require('lodash/filter');\n\nvar extensionElementsHelper = require('../../../helper/ExtensionElementsHelper'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper');\n\nvar extensionElementsEntry = require('./implementation/ExtensionElements');\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\n/**\n  * return depend on parameter 'type' camunda:in or camunda:out extension elements\n  */\nfunction getCamundaInOutMappings(element, type) {\n  var bo = getBusinessObject(element);\n\n  var signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(bo);\n\n  return extensionElementsHelper.getExtensionElements(signalEventDefinition || bo, type) || [];\n}\n\n/**\n  * return depend on parameter 'type' camunda:in or camunda:out extension elements\n  * with source or sourceExpression attribute\n  */\nfunction getVariableMappings(element, type) {\n  var camundaMappings = getCamundaInOutMappings(element, type);\n\n  return filter(camundaMappings, function(mapping) {\n    return !mapping.businessKey;\n  });\n}\n\nfunction getInOutType(mapping) {\n  var inOutType = 'source';\n\n  if (mapping.variables === 'all') {\n    inOutType = 'variables';\n  }\n  else if (typeof mapping.source !== 'undefined') {\n    inOutType = 'source';\n  }\n  else if (typeof mapping.sourceExpression !== 'undefined') {\n    inOutType = 'sourceExpression';\n  }\n\n  return inOutType;\n}\n\nvar CAMUNDA_IN_EXTENSION_ELEMENT = 'camunda:In',\n    CAMUNDA_OUT_EXTENSION_ELEMENT = 'camunda:Out';\n\nvar WHITESPACE_REGEX = /\\s/;\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var inOutTypeOptions = [\n    {\n      name: translate('Source'),\n      value: 'source'\n    },\n    {\n      name: translate('Source Expression'),\n      value: 'sourceExpression'\n    },\n    {\n      name: translate('All'),\n      value: 'variables'\n    }\n  ];\n\n  var signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(element);\n\n  if (!is(element, 'camunda:CallActivity') && !signalEventDefinition) {\n    return;\n  }\n\n  if (signalEventDefinition && !(isAny(element, [\n    'bpmn:IntermediateThrowEvent',\n    'bpmn:EndEvent'\n  ]))) {\n    return;\n  }\n\n  var isSelected = function(element, node) {\n    return !!getSelected(element, node);\n  };\n\n  var getSelected = function(element, node) {\n    var parentNode = node.parentNode;\n    var selection = inEntry.getSelected(element, parentNode);\n\n    var parameter = getVariableMappings(element, CAMUNDA_IN_EXTENSION_ELEMENT)[selection.idx];\n\n    if (!parameter && outEntry) {\n      selection = outEntry.getSelected(element, parentNode);\n      parameter = getVariableMappings(element, CAMUNDA_OUT_EXTENSION_ELEMENT)[selection.idx];\n    }\n\n    return parameter;\n  };\n\n  var setOptionLabelValue = function(type) {\n    return function(element, node, option, property, value, idx) {\n      var variableMappings = getVariableMappings(element, type);\n      var mappingValue = variableMappings[idx];\n      var label = (mappingValue.target || '<undefined>') + ' := ';\n      var mappingType = getInOutType(mappingValue);\n\n      if (mappingType === 'variables') {\n        label = 'all';\n      }\n      else if (mappingType === 'source') {\n        label = label + (mappingValue.source || '<empty>');\n      }\n      else if (mappingType === 'sourceExpression') {\n        label = label + (mappingValue.sourceExpression || '<empty>');\n      } else {\n        label = label + '<empty>';\n      }\n\n      option.text = label;\n    };\n  };\n\n  var newElement = function(type) {\n    return function(element, extensionElements, value) {\n      var newElem = elementHelper.createElement(type, { source: '' }, extensionElements, bpmnFactory);\n\n      return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newElem ]);\n    };\n  };\n\n  var removeElement = function(type) {\n    return function(element, extensionElements, value, idx) {\n      var variablesMappings= getVariableMappings(element, type);\n      var mapping = variablesMappings[idx];\n\n      if (mapping) {\n        return extensionElementsHelper\n          .removeEntry(signalEventDefinition || getBusinessObject(element), element, mapping);\n      }\n    };\n  };\n\n  // in mapping for source and sourceExpression ///////////////////////////////////////////////////////////////\n\n  var inEntry = extensionElementsEntry(element, bpmnFactory, {\n    id: 'variableMapping-in',\n    label: translate('In Mapping'),\n    modelProperty: 'source',\n    prefix: 'In',\n    idGeneration: false,\n    resizable: true,\n    businessObject: signalEventDefinition || getBusinessObject(element),\n\n    createExtensionElement: newElement(CAMUNDA_IN_EXTENSION_ELEMENT),\n    removeExtensionElement: removeElement(CAMUNDA_IN_EXTENSION_ELEMENT),\n\n    getExtensionElements: function(element) {\n      return getVariableMappings(element, CAMUNDA_IN_EXTENSION_ELEMENT);\n    },\n\n    onSelectionChange: function(element, node, event, scope) {\n      outEntry && outEntry.deselect(element, node.parentNode);\n    },\n\n    setOptionLabelValue: setOptionLabelValue(CAMUNDA_IN_EXTENSION_ELEMENT)\n  });\n  group.entries.push(inEntry);\n\n  // out mapping for source and sourceExpression ///////////////////////////////////////////////////////\n\n  if (!signalEventDefinition) {\n    var outEntry = extensionElementsEntry(element, bpmnFactory, {\n      id: 'variableMapping-out',\n      label: translate('Out Mapping'),\n      modelProperty: 'source',\n      prefix: 'Out',\n      idGeneration: false,\n      resizable: true,\n\n      createExtensionElement: newElement(CAMUNDA_OUT_EXTENSION_ELEMENT),\n      removeExtensionElement: removeElement(CAMUNDA_OUT_EXTENSION_ELEMENT),\n\n      getExtensionElements: function(element) {\n        return getVariableMappings(element, CAMUNDA_OUT_EXTENSION_ELEMENT);\n      },\n\n      onSelectionChange: function(element, node, event, scope) {\n        inEntry.deselect(element, node.parentNode);\n      },\n\n      setOptionLabelValue: setOptionLabelValue(CAMUNDA_OUT_EXTENSION_ELEMENT)\n    });\n    group.entries.push(outEntry);\n  }\n\n  // label for selected mapping ///////////////////////////////////////////////////////\n\n  group.entries.push(entryFactory.label({\n    id: 'variableMapping-typeLabel',\n    get: function(element, node) {\n      var mapping = getSelected(element, node);\n\n      var value = '';\n      if (is(mapping, CAMUNDA_IN_EXTENSION_ELEMENT)) {\n        value = translate('In Mapping');\n      }\n      else if (is(mapping, CAMUNDA_OUT_EXTENSION_ELEMENT)) {\n        value = translate('Out Mapping');\n      }\n\n      return {\n        label: value\n      };\n    },\n\n    showLabel: function(element, node) {\n      return isSelected(element, node);\n    }\n  }));\n\n\n  group.entries.push(entryFactory.selectBox(translate, {\n    id: 'variableMapping-inOutType',\n    label: translate('Type'),\n    selectOptions: inOutTypeOptions,\n    modelProperty: 'inOutType',\n    get: function(element, node) {\n      var mapping = getSelected(element, node) || {};\n      return {\n        inOutType: getInOutType(mapping)\n      };\n    },\n    set: function(element, values, node) {\n      var inOutType = values.inOutType;\n\n      var props = {\n        'source' : undefined,\n        'sourceExpression' : undefined,\n        'variables' : undefined\n      };\n\n      if (inOutType === 'source') {\n        props.source = '';\n      }\n      else if (inOutType === 'sourceExpression') {\n        props.sourceExpression = '';\n      }\n      else if (inOutType === 'variables') {\n        props.variables = 'all';\n        props.target = undefined;\n      }\n\n      var mapping = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, mapping, props);\n    },\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  group.entries.push(entryFactory.textField(translate, {\n    id: 'variableMapping-source',\n    dataValueLabel: 'sourceLabel',\n    modelProperty: 'source',\n    get: function(element, node) {\n      var mapping = getSelected(element, node) || {};\n\n      var label = '';\n      var inOutType = getInOutType(mapping);\n      if (inOutType === 'source') {\n        label = translate('Source');\n      }\n      else if (inOutType === 'sourceExpression') {\n        label = translate('Source Expression');\n      }\n\n      return {\n        source: mapping[inOutType],\n        sourceLabel: label\n      };\n    },\n    set: function(element, values, node) {\n      values.source = values.source || undefined;\n\n      var mapping = getSelected(element, node);\n      var inOutType = getInOutType(mapping);\n\n      var props = {};\n      props[inOutType] = values.source || '';\n\n      return cmdHelper.updateBusinessObject(element, mapping, props);\n    },\n\n    // one of both (source or sourceExpression) must have a value to make\n    // the configuration easier and more understandable\n    // it is not engine conform\n    validate: function(element, values, node) {\n      var mapping = getSelected(element, node);\n\n      var validation = {};\n      if (mapping) {\n        if (!values.source) {\n          validation.source =\n          validation.source = values.sourceLabel ?\n            translate('Mapping must have a {value}', { value: values.sourceLabel.toLowerCase() }) :\n            translate('Mapping must have a value');\n        }\n\n        var inOutType = getInOutType(mapping);\n\n        if (WHITESPACE_REGEX.test(values.source) && inOutType !== 'sourceExpression') {\n          validation.source = translate('{label} must not contain whitespace', { label: values.sourceLabel });\n        }\n      }\n\n      return validation;\n    },\n    hidden: function(element, node) {\n      var selectedMapping = getSelected(element, node);\n      return !selectedMapping || (selectedMapping && selectedMapping.variables);\n    }\n  }));\n\n\n  group.entries.push(entryFactory.textField(translate, {\n    id: 'variableMapping-target',\n    label: translate('Target'),\n    modelProperty: 'target',\n    get: function(element, node) {\n      return {\n        target: (getSelected(element, node) || {}).target\n      };\n    },\n    set: function(element, values, node) {\n      values.target = values.target || undefined;\n      var mapping = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, mapping, values);\n    },\n    validate: function(element, values, node) {\n      var mapping = getSelected(element, node);\n\n      var validation = {};\n      if (mapping) {\n        var mappingType = getInOutType(mapping);\n\n        if (!values.target && mappingType !== 'variables') {\n          validation.target = translate('Mapping must have a target');\n        }\n\n        if (values.target\n          && WHITESPACE_REGEX.test(values.target)\n          && mappingType !== 'variables') {\n          validation.target = translate('Target must not contain whitespace');\n        }\n      }\n\n      return validation;\n    },\n    hidden: function(element, node) {\n      var selectedMapping = getSelected(element, node);\n      return !selectedMapping || (selectedMapping && selectedMapping.variables);\n    }\n  }));\n\n\n  group.entries.push(entryFactory.checkbox(translate, {\n    id: 'variableMapping-local',\n    label: translate('Local'),\n    modelProperty: 'local',\n    get: function(element, node) {\n      return {\n        local: (getSelected(element, node) || {}).local\n      };\n    },\n    set: function(element, values, node) {\n      values.local = values.local || false;\n      var mapping = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, mapping, values);\n    },\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n  }));\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nmodule.exports = function(group, element, translate) {\n\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && bo.get('processRef')) {\n    var versionTagEntry = entryFactory.textField(translate, {\n      id: 'versionTag',\n      label: translate('Version Tag'),\n      modelProperty: 'versionTag'\n    });\n\n    // in participants we have to change the default behavior of set and get\n    if (is(element, 'bpmn:Participant')) {\n      versionTagEntry.get = function(element) {\n        var processBo = bo.get('processRef');\n\n        return {\n          versionTag: processBo.get('camunda:versionTag')\n        };\n      };\n\n      versionTagEntry.set = function(element, values) {\n        var processBo = bo.get('processRef');\n\n        return cmdHelper.updateBusinessObject(element, processBo, {\n          'camunda:versionTag': values.versionTag || undefined\n        });\n      };\n    }\n\n    group.entries.push(versionTagEntry);\n\n  }\n};\n","'use strict';\n\nvar isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar processVariables = require('./implementation/ProcessVariables');\n\nmodule.exports = function(group, element, translate) {\n  if (canHaveOverview(element)) {\n    var processVariablesEntries = processVariables(element, translate);\n\n    group.entries = group.entries.concat(processVariablesEntries);\n  }\n};\n\n\n// helpers //////////\n\nfunction canHaveOverview(element) {\n  var businessObject = getBusinessObject(element);\n\n  return (\n    isAny(element, ['bpmn:Process', 'bpmn:SubProcess']) ||\n    (is(element, 'bpmn:Participant') && businessObject.get('processRef'))\n  );\n}\n","var getVariablesForScope = require('@bpmn-io/extract-process-variables').getVariablesForScope;\n\nvar groupBy = require('min-dash').groupBy,\n    flatten = require('min-dash').flatten,\n    forEach = require('min-dash').forEach,\n    keys = require('min-dash').keys,\n    map = require('min-dash').map,\n    sortBy = require('min-dash').sortBy;\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny;\n\nvar escapeHTML = require('../../../../Utils').escapeHTML;\n\nvar factory = require('../../../../factory/EntryFactory');\n\nvar entryFieldDescription = require('../../../../factory/EntryFieldDescription');\n\n\nmodule.exports = function(element, translate) {\n\n  var entries = [];\n\n  function createVariablesList(variables, scope) {\n    var scopePrefix = scope ? scope + '-' : '';\n\n    return flatten(map(variables, function(variable, idx) {\n\n      var name = variable.name,\n          origin = variable.origin,\n          variableEntries = [];\n\n      // title ///////////////////\n\n      var collapsible = factory.collapsible({\n        id: scopePrefix + 'variable- ' + idx + '-collapsible',\n        title: escapeHTML(name),\n        description: origin.toString(),\n        open: false,\n        get: function() {\n          return {\n            title: escapeHTML(name),\n            description: origin.toString()\n          };\n        }\n      });\n\n      var isOpen = collapsible.isOpen;\n\n      variableEntries.push(collapsible);\n\n      // created in //////////////////\n\n      var createdInHtml = '<div data-show=\"show\">' +\n        '<b>' + escapeHTML(translate('Created in')) + '</b>' +\n        createdInList(origin) +\n      '</div>';\n\n      variableEntries.push({\n        id: scopePrefix + 'variable- ' + idx + '-created-in',\n        html: createdInHtml,\n        cssClasses: [\n          'bpp-process-variables',\n          'bpp-process-variables__created-in'\n        ],\n        show: function() {\n          return isOpen();\n        }\n      });\n\n      return variableEntries;\n    }));\n  }\n\n\n  if (!canHaveProcessVariables(element)) {\n    return entries;\n  }\n\n  var businessObject = getBusinessObject(element),\n      rootElement = getRootElement(businessObject),\n      scope = getScope(element);\n\n  var variables = getVariablesForScope(scope, rootElement),\n      sorted = sortByName(variables),\n      withNames = populateElementNames(sorted),\n      byScope = groupByScope(withNames);\n\n  // (1) tab description entry\n  var description = entryFieldDescription(translate, translate('Available process variables, identified in the diagram.'));\n\n  entries.push({\n    id: 'process-variables-description',\n    html: description,\n    cssClasses: [\n      'bpp-process-variables',\n      'bpp-process-variables__description'\n    ]\n  });\n\n  // (2) empty list placeholder\n  if (!withNames.length) {\n    var placeholder = entryFieldDescription(translate, translate('No variables found.'));\n\n    entries.push({\n      id: 'process-variables-placeholder',\n      html: placeholder\n    });\n\n    return entries;\n  }\n\n  if (keys(byScope).length > 1) {\n\n    // (3a) multiple scopes variables lists\n\n    // assumption: variables extractor fetches parent variables first\n    forEach(reverse(keys(byScope)), function(scope) {\n      var variables = byScope[scope];\n\n      entries.push({\n        id: scope + '-scope-title',\n        html: '<div>' + escapeHTML(translate('Scope: ')) + scope + '</div>',\n        cssClasses: [\n          'bpp-process-variables',\n          'bpp-process-variables__scope-title',\n          'bpp-collapsible-break'\n        ]\n      });\n\n      entries = entries.concat(createVariablesList(variables, scope));\n    });\n  } else {\n\n    // (3b) single scope variables list\n    entries = entries.concat(createVariablesList(withNames));\n  }\n\n\n  return entries;\n};\n\n\n// helpers //////////\n\nfunction getRootElement(element) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(businessObject, 'bpmn:Participant')) {\n    return businessObject.processRef;\n  }\n\n  if (is(businessObject, 'bpmn:Process')) {\n    return businessObject;\n  }\n\n  var parent = businessObject;\n\n  while (parent.$parent && !is(parent, 'bpmn:Process')) {\n    parent = parent.$parent;\n  }\n\n  return parent;\n}\n\nfunction getScope(element) {\n  if (is(element, 'bpmn:Participant')) {\n    return getBusinessObject(element).processRef.id;\n  }\n\n  return element.id;\n}\n\nfunction sortByName(variables) {\n  return sortBy(variables, function(variable) {\n    return variable.name;\n  });\n}\n\nfunction populateElementNames(variables) {\n  forEach(variables, function(variable) {\n    var names = map(variable.origin, function(element) {\n      return element.name || element.id;\n    });\n\n    variable.origin = names;\n    variable.scope = variable.scope.name || variable.scope.id;\n  });\n\n  return variables;\n}\n\nfunction canHaveProcessVariables(element) {\n  var businessObject = getBusinessObject(element);\n\n  return (\n    isAny(element, ['bpmn:Process', 'bpmn:SubProcess']) ||\n      (is(element, 'bpmn:Participant') && businessObject.get('processRef'))\n  );\n}\n\nfunction groupByScope(variables) {\n  return groupBy(variables, 'scope');\n}\n\nfunction createdInList(origin) {\n  var html = '';\n\n  forEach(origin, function(o) {\n    html += '<p class=\"bpp-process-variables__created-in-item\">' + o + '</p>';\n  });\n  return html;\n}\n\nfunction reverse(array) {\n  return map(array, function(a, i) {\n    return array[array.length - 1 - i];\n  });\n}","'use strict';\n\nvar listener = require('./implementation/Listener');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var listenerEntry = listener(element, bpmnFactory, {}, translate);\n\n  group.entries = group.entries.concat(listenerEntry.entries);\n\n  return {\n    getSelectedListener: listenerEntry.getSelectedListener\n  };\n\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar extensionElementsEntry = require('./ExtensionElements'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    elementHelper = require('../../../../helper/ElementHelper'),\n    ImplementationTypeHelper = require('../../../../helper/ImplementationTypeHelper');\n\n\nfunction getListeners(bo, type) {\n  return bo && extensionElementsHelper.getExtensionElements(bo, type) || [];\n}\n\nvar CAMUNDA_EXECUTION_LISTENER_ELEMENT = 'camunda:ExecutionListener';\nvar CAMUNDA_TASK_LISTENER_ELEMENT = 'camunda:TaskListener';\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var LISTENER_TYPE_LABEL = {\n    class: translate('Java Class'),\n    expression: translate('Expression'),\n    delegateExpression: translate('Delegate Expression'),\n    script: translate('Script')\n  };\n\n  var bo;\n\n  var result = {\n    getSelectedListener: getSelectedListener\n  };\n\n  var entries = result.entries = [];\n\n  var isSequenceFlow = ImplementationTypeHelper.isSequenceFlow(element);\n\n  function getSelectedListener(element, node) {\n    var selection = (executionListenerEntry && executionListenerEntry.getSelected(element, node)) || { idx: -1 };\n\n    var listener = getListeners(bo, CAMUNDA_EXECUTION_LISTENER_ELEMENT)[selection.idx];\n    if (!listener && taskListenerEntry) {\n      selection = taskListenerEntry.getSelected(element, node);\n      listener = getListeners(bo, CAMUNDA_TASK_LISTENER_ELEMENT)[selection.idx];\n    }\n    return listener;\n  }\n\n  var setOptionLabelValue = function(type) {\n    return function(element, node, option, property, value, idx) {\n      var listeners = getListeners(bo, type);\n      var listener = listeners[idx];\n      var listenerType = ImplementationTypeHelper.getImplementationType(listener);\n\n      var event = (listener.get('event')) ? listener.get('event') : '<empty>';\n\n      var label = (event || '*') + ' : ' + (LISTENER_TYPE_LABEL[listenerType] || '');\n\n      option.text = label;\n    };\n  };\n\n  var newElement = function(element, type, initialEvent) {\n    return function(element, extensionElements, value) {\n      var props = {\n        event: initialEvent,\n        class: ''\n      };\n\n      var newElem = elementHelper.createElement(type, props, extensionElements, bpmnFactory);\n\n      return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newElem ]);\n    };\n  };\n\n  var removeElement = function(element, type) {\n    return function(element, extensionElements, value, idx) {\n      var listeners = getListeners(bo, type);\n      var listener = listeners[idx];\n      if (listener) {\n        return extensionElementsHelper.removeEntry(bo, element, listener);\n      }\n    };\n  };\n\n\n  // Execution Listener\n\n  if (is(element, 'bpmn:FlowElement') || is(element, 'bpmn:Process') || is(element, 'bpmn:Participant')) {\n    bo = getBusinessObject(element);\n    if (is(element, 'bpmn:Participant')) {\n      element = element.processRef;\n      bo = bo.get('processRef');\n    }\n\n    if (bo) {\n\n      var executionListenerEntry = extensionElementsEntry(element, bpmnFactory, {\n        id : 'executionListeners',\n        label : translate('Execution Listener'),\n        modelProperty: 'name',\n        idGeneration: 'false',\n        reference: 'processRef',\n\n        createExtensionElement: newElement(element, CAMUNDA_EXECUTION_LISTENER_ELEMENT, (isSequenceFlow) ? 'take' : 'start'),\n        removeExtensionElement: removeElement(element, CAMUNDA_EXECUTION_LISTENER_ELEMENT),\n\n        getExtensionElements: function(element) {\n          return getListeners(bo, CAMUNDA_EXECUTION_LISTENER_ELEMENT);\n        },\n\n        onSelectionChange: function(element, node, event, scope) {\n          taskListenerEntry && taskListenerEntry.deselect(element, node);\n        },\n\n        setOptionLabelValue: setOptionLabelValue(CAMUNDA_EXECUTION_LISTENER_ELEMENT)\n\n      });\n      entries.push(executionListenerEntry);\n\n    }\n  }\n\n\n  // Task Listener\n\n\n  if (is(element, 'bpmn:UserTask')) {\n    bo = getBusinessObject(element);\n\n    var taskListenerEntry = extensionElementsEntry(element, bpmnFactory, {\n      id : 'taskListeners',\n      label : translate('Task Listener'),\n      modelProperty: 'name',\n      idGeneration: 'false',\n\n      createExtensionElement: newElement(element, CAMUNDA_TASK_LISTENER_ELEMENT, 'create'),\n      removeExtensionElement: removeElement(element, CAMUNDA_TASK_LISTENER_ELEMENT),\n\n      getExtensionElements: function(element) {\n        return getListeners(bo, CAMUNDA_TASK_LISTENER_ELEMENT);\n      },\n\n      onSelectionChange: function(element, node, event, scope) {\n        executionListenerEntry.deselect(element, node);\n      },\n\n      setOptionLabelValue: setOptionLabelValue(CAMUNDA_TASK_LISTENER_ELEMENT)\n\n    });\n    entries.push(taskListenerEntry);\n  }\n\n  return result;\n\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar find = require('min-dash').find;\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../helper/CmdHelper'),\n    ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\n    scriptImplementation = require('./implementation/Script'),\n    timerImplementation = require('../../bpmn/parts/implementation/TimerEventDefinition');\n\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\n\n  var LISTENER_TYPE_LABEL = {\n    class: translate('Java Class'),\n    expression: translate('Expression'),\n    delegateExpression: translate('Delegate Expression'),\n    script: translate('Script')\n  };\n\n  options = options || {};\n\n  var getSelectedListener = options.getSelectedListener;\n\n  var classProp = 'class',\n      expressionProp = 'expression',\n      delegateExpressionProp = 'delegateExpression',\n      scriptProp = 'script';\n\n  var executionListenerEventTypeOptions = ImplementationTypeHelper.isSequenceFlow(element) ? [\n    { name: translate('take'), value: 'take' }\n  ] : [\n    { name: translate('start'), value: 'start' },\n    { name: translate('end'), value: 'end' }\n  ];\n\n  var taskListenerEventTypeOptions = [\n    { name: translate('create'), value: 'create' },\n    { name: translate('assignment'), value: 'assignment' },\n    { name: translate('complete'), value: 'complete' },\n    { name: translate('delete'), value: 'delete' },\n    { name: translate('update'), value: 'update' },\n    { name: translate('timeout'), value: 'timeout' }\n  ];\n\n  var isSelected = function(element, node) {\n    return getSelectedListener(element, node);\n  };\n\n\n  // eventType ////////////////\n  group.entries.push(entryFactory.selectBox(translate, {\n    id: 'listener-event-type',\n    label: translate('Event Type'),\n    modelProperty: 'eventType',\n    emptyParameter: false,\n\n    get: function(element, node) {\n\n      var listener = getSelectedListener(element, node);\n\n      var eventType = listener && listener.get('event');\n\n      return {\n        eventType: eventType\n      };\n    },\n\n    set: function(element, values, node) {\n      var eventType = values.eventType,\n          listener = getSelectedListener(element, node),\n          eventDefinitions = listener && listener.eventDefinitions;\n\n      // ensure only timeout events can have timer event definitions\n      if (eventDefinitions && eventType !== 'timeout') {\n        eventDefinitions = [];\n      }\n\n      return cmdHelper.updateBusinessObject(element, listener,\n        {\n          event: eventType,\n          eventDefinitions: eventDefinitions\n        }\n      );\n    },\n\n    selectOptions: function(element, node) {\n      var eventTypeOptions;\n\n      var selectedListener = getSelectedListener(element, node);\n      if (ImplementationTypeHelper.isTaskListener(selectedListener)) {\n        eventTypeOptions = taskListenerEventTypeOptions;\n      } else if (ImplementationTypeHelper.isExecutionListener(selectedListener)) {\n        eventTypeOptions = executionListenerEventTypeOptions;\n      }\n\n      return eventTypeOptions;\n\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  // listenerId ///////////////\n  group.entries.push(entryFactory.textField(translate, {\n    id: 'listener-id',\n    label: translate('Listener Id'),\n    modelProperty: 'listenerId',\n\n    get: function(element, node) {\n      var value = {},\n          listener = getSelectedListener(element, node);\n\n      value.listenerId = (listener && listener.get('id')) || undefined;\n\n      return value;\n    },\n\n    set: function(element, values, node) {\n      var update = {},\n          listener = getSelectedListener(element, node);\n\n      update['id'] = values.listenerId || '';\n\n      return cmdHelper.updateBusinessObject(element, listener, update);\n    },\n\n    hidden: function(element, node) {\n      var listener = getSelectedListener(element, node);\n\n      return !ImplementationTypeHelper.isTaskListener(listener);\n    },\n\n    validate: function(element, values, node) {\n      var value = values.listenerId,\n          listener = getSelectedListener(element, node),\n          validate = {};\n\n      if (!value && isTimeoutTaskListener(listener)) {\n        validate.listenerId = translate('Must provide a value for timeout task listener');\n      }\n\n      return validate;\n    }\n\n  }));\n\n\n  // listenerType ///////////////\n  group.entries.push(entryFactory.selectBox(translate, {\n    id: 'listener-type',\n    label: translate('Listener Type'),\n    selectOptions: [\n      { value: classProp, name: translate('Java Class') },\n      { value: expressionProp, name: translate('Expression') },\n      { value: delegateExpressionProp, name: translate('Delegate Expression') },\n      { value: scriptProp, name: translate('Script') }\n    ],\n    modelProperty: 'listenerType',\n    emptyParameter: false,\n\n    get: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return {\n        listenerType: ImplementationTypeHelper.getImplementationType(listener)\n      };\n    },\n\n    set: function(element, values, node) {\n      var listener = getSelectedListener(element, node),\n          listenerType = values.listenerType || undefined,\n          update = {};\n\n      update[classProp] = listenerType === classProp ? '' : undefined;\n      update[expressionProp] = listenerType === expressionProp ? '' : undefined;\n      update[delegateExpressionProp] = listenerType === delegateExpressionProp ? '' : undefined;\n      update[scriptProp] = listenerType === scriptProp ? bpmnFactory.create('camunda:Script') : undefined;\n\n      return cmdHelper.updateBusinessObject(element, listener, update);\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  // listenerValue //////////////\n  group.entries.push(entryFactory.textField(translate, {\n    id: 'listener-value',\n    dataValueLabel: 'listenerValueLabel',\n    modelProperty: 'listenerValue',\n\n    get: function(element, node) {\n      var value = {},\n          listener = getSelectedListener(element, node),\n          listenerType = ImplementationTypeHelper.getImplementationType(listener);\n\n      value.listenerValueLabel = LISTENER_TYPE_LABEL[listenerType] || '';\n      value.listenerValue = (listener && listener.get(listenerType)) || undefined;\n\n      return value;\n    },\n\n    set: function(element, values, node) {\n      var update = {},\n          listener = getSelectedListener(element, node),\n          listenerType = ImplementationTypeHelper.getImplementationType(listener);\n\n      update[listenerType] = values.listenerValue || '';\n\n      return cmdHelper.updateBusinessObject(element, listener, update);\n    },\n\n    hidden: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return !listener || listener.script;\n    },\n\n    validate: function(element, values) {\n      var value = values.listenerValue,\n          validate = {};\n\n      if (!value) {\n        validate.listenerValue = translate('Must provide a value');\n      }\n\n      return validate;\n    }\n\n  }));\n\n\n  // script ////////////////////\n  var script = scriptImplementation('scriptFormat', 'value', true, translate);\n\n  group.entries.push({\n    id: 'listener-script-value',\n    html: '<div data-show=\"isScript\">' +\n            script.template +\n          '</div>',\n\n    get: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return listener && listener.script ? script.get(element, listener.script) : {};\n    },\n\n    set: function(element, values, node) {\n      var listener = getSelectedListener(element, node);\n      var update = script.set(element, values, listener);\n      return cmdHelper.updateBusinessObject(element, listener.script, update);\n    },\n\n    validate: function(element, values, node) {\n      var listener = getSelectedListener(element, node);\n      return listener && listener.script ? script.validate(element, values) : {};\n    },\n\n    isScript: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return listener && listener.script;\n    },\n\n    script: script\n\n  });\n\n\n  // timerEventDefinition //////\n  var timerEventDefinitionHandler = function(element, node) {\n    var listener = getSelectedListener(element, node);\n\n    if (!listener || !isTimeoutTaskListener(listener)) {\n      return;\n    }\n\n    var timerEventDefinition = getTimerEventDefinition(listener);\n\n    if (!timerEventDefinition) {\n      return false;\n    }\n\n    return timerEventDefinition;\n  };\n\n  function createTimerEventDefinition(element, node) {\n\n    var listener = getSelectedListener(element, node);\n\n    if (!listener || !isTimeoutTaskListener(listener)) {\n      return;\n    }\n\n    var eventDefinitions = listener.get('eventDefinitions') || [],\n        timerEventDefinition = bpmnFactory.create('bpmn:TimerEventDefinition');\n\n    eventDefinitions.push(timerEventDefinition);\n\n    listener.eventDefinitions = eventDefinitions;\n\n    return timerEventDefinition;\n  }\n\n  var timerOptions = {\n    idPrefix: 'listener-',\n    createTimerEventDefinition: createTimerEventDefinition\n  };\n\n  timerImplementation(group, element, bpmnFactory, timerEventDefinitionHandler, translate, timerOptions);\n\n};\n\n\n// helpers //////////////\n\nfunction isTimeoutTaskListener(listener) {\n  var eventType = listener && listener.event;\n  return eventType === 'timeout';\n}\n\nfunction getTimerEventDefinition(bo) {\n  var eventDefinitions = bo.eventDefinitions || [];\n\n  return find(eventDefinitions, function(event) {\n    return is(event, 'bpmn:TimerEventDefinition');\n  });\n\n}\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar fieldInjection = require('./implementation/FieldInjection');\n\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\n\n  options = assign({\n    idPrefix: 'listener-',\n    insideListener: true\n  }, options);\n\n  var fieldInjectionEntry = fieldInjection(element, bpmnFactory, translate, options);\n\n  if (fieldInjectionEntry && fieldInjectionEntry.length > 0) {\n    group.entries = group.entries.concat(fieldInjectionEntry);\n  }\n\n};\n","var escapeHTML = require('../../../../Utils').escapeHTML;\r\n\r\nvar getTemplateId = require('../Helper').getTemplateId;\r\n\r\nvar domClasses = require('min-dom').classes,\r\n    domEvent = require('min-dom').event,\r\n    domify = require('min-dom').domify,\r\n    domQuery = require('min-dom').query;\r\n\r\nvar isUndefined = require('lodash/isUndefined');\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar getVersionOrDateFromTemplate = require('./Helper').getVersionOrDateFromTemplate;\r\n\r\nvar MAX_DESCRIPTION_LENGTH = 200;\r\n\r\nmodule.exports = function(\r\n    element,\r\n    commandStack,\r\n    elementTemplates,\r\n    modeling,\r\n    replace,\r\n    selection,\r\n    translate) {\r\n  var currentElementTemplate = elementTemplates.get(element);\r\n\r\n  var entries = [];\r\n\r\n  var description,\r\n      newestElementTemplate;\r\n\r\n  if (currentElementTemplate) {\r\n    newestElementTemplate = findNewestElementTemplate(elementTemplates, currentElementTemplate);\r\n\r\n    if (newestElementTemplate) {\r\n      entries.push({\r\n        id: 'element-template-update',\r\n        cssClasses: [ 'bpp-entry--warning' ],\r\n        html: createUpdateTemplateEntry(element, currentElementTemplate, newestElementTemplate, commandStack, translate)\r\n      });\r\n    }\r\n\r\n    description = currentElementTemplate.description;\r\n\r\n    if (description) {\r\n      entries.push(createDescriptionEntry(description, translate));\r\n    }\r\n  } else {\r\n    entries.push({\r\n      id: 'element-template-not-found',\r\n      cssClasses: [ 'bpp-entry--warning' ],\r\n      html: createTemplateNotFoundEntry(element, modeling, translate)\r\n    });\r\n  }\r\n\r\n  if (currentElementTemplate) {\r\n    entries.push({\r\n      id: 'element-template-version',\r\n      html: '<p>' + getVersionOrDateFromTemplate(currentElementTemplate) + '</p>'\r\n    });\r\n  }\r\n\r\n  return {\r\n    id: 'elementTemplateDescription',\r\n    label: currentElementTemplate ? currentElementTemplate.name : translate('Missing Template'),\r\n    dropdown: {\r\n      menu: [\r\n        {\r\n          id: 'element-template-unlink',\r\n          label: translate('Unlink'),\r\n          onClick: function() {\r\n            modeling.updateProperties(element, {\r\n              'camunda:modelerTemplate': null,\r\n              'camunda:modelerTemplateVersion': null\r\n            });\r\n          }\r\n        },\r\n        {\r\n          id: 'element-template-remove',\r\n          label: translate('Remove'),\r\n          onClick: function() {\r\n            var businessObject = getBusinessObject(element);\r\n\r\n            var type = businessObject.$type,\r\n                eventDefinitionType = getEventDefinitionType(businessObject);\r\n\r\n            var newElement = replace.replaceElement(element, {\r\n              type: type,\r\n              eventDefinitionType: eventDefinitionType\r\n            });\r\n\r\n            selection.select(newElement);\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    entries: entries\r\n  };\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction createDescriptionEntry(description, translate) {\r\n  description = escapeHTML(description);\r\n\r\n  var html = domify('<p class=\"description description--expanded\"></p>');\r\n\r\n  var descriptionText = domify('<span class=\"description__text\">' + description + '</span>');\r\n\r\n  html.appendChild(descriptionText);\r\n\r\n  function toggleExpanded(expanded) {\r\n    if (expanded) {\r\n      domClasses(html).add('description--expanded');\r\n\r\n      descriptionText.textContent = description + ' ';\r\n\r\n      expand.textContent = translate('Less');\r\n    } else {\r\n      domClasses(html).remove('description--expanded');\r\n\r\n      descriptionText.textContent = descriptionShortened + ' ... ';\r\n\r\n      expand.textContent = translate('More');\r\n    }\r\n  }\r\n\r\n  var descriptionShortened,\r\n      expand,\r\n      expanded = false;\r\n\r\n  if (description.length > MAX_DESCRIPTION_LENGTH) {\r\n    descriptionShortened = description.slice(0, MAX_DESCRIPTION_LENGTH);\r\n\r\n    expand = domify(\r\n      '<span class=\"bpp-entry-link description__expand\">' +\r\n        translate('More') +\r\n      '</span>'\r\n    );\r\n\r\n    domEvent.bind(expand, 'click', function() {\r\n      expanded = !expanded;\r\n\r\n      toggleExpanded(expanded);\r\n    });\r\n\r\n    html.appendChild(expand);\r\n\r\n    toggleExpanded(expanded);\r\n  }\r\n\r\n  return {\r\n    id: 'element-template-description',\r\n    html: html\r\n  };\r\n}\r\n\r\nfunction getEventDefinitionType(businessObject) {\r\n  if (!businessObject.eventDefinitions) {\r\n    return null;\r\n  }\r\n\r\n  var eventDefinition = businessObject.eventDefinitions[ 0 ];\r\n\r\n  if (!eventDefinition) {\r\n    return null;\r\n  }\r\n\r\n  return eventDefinition.$type;\r\n}\r\n\r\nfunction createTemplateNotFoundEntry(element, modeling, translate) {\r\n  var templateId = getTemplateId(element);\r\n\r\n  var html = domify(\r\n    '<p>' +\r\n    translate(\r\n      'The applied Template &lt;{templateId}&gt; was not found and therefore its data is not accessible.' +\r\n      '<br />' +\r\n      '<br />' +\r\n      'Unlink in order to access the data.', { templateId: templateId }\r\n    ) +\r\n    '</p>' +\r\n    '<p style=\"text-align: right;\">' +\r\n    '<a class=\"bpp-entry-link bpp-entry-link-button\">Unlink</a>' +\r\n    '</p>'\r\n  );\r\n\r\n  domQuery('.bpp-entry-link', html).addEventListener('click', function() {\r\n    modeling.updateProperties(element, {\r\n      'camunda:modelerTemplate': null\r\n    });\r\n  });\r\n\r\n  return html;\r\n}\r\n\r\nfunction createUpdateTemplateEntry(element, oldElementTemplate, newElementTemplate, commandStack, translate) {\r\n  var newElementTemplateVersion = getVersionOrDateFromTemplate(newElementTemplate);\r\n\r\n  var html = domify(\r\n    '<p>' +\r\n    translate(\r\n      'A new version of the Template ({newElementTemplateVersion}) is available.',\r\n      { newElementTemplateVersion: newElementTemplateVersion }\r\n    ) +\r\n    '</p>' +\r\n    '<p style=\"text-align: right;\">' +\r\n    '<a class=\"bpp-entry-link bpp-entry-link-button\">Update</a>' +\r\n    '</p>'\r\n  );\r\n\r\n  domQuery('.bpp-entry-link', html).addEventListener('click', function() {\r\n    commandStack.execute('propertiesPanel.camunda.changeTemplate', {\r\n      element: element,\r\n      newTemplate: newElementTemplate,\r\n      oldTemplate: oldElementTemplate\r\n    });\r\n  });\r\n\r\n  return html;\r\n}\r\n\r\nfunction findNewestElementTemplate(elementTemplates, currentElementTemplate) {\r\n  if (isUndefined(currentElementTemplate.version)) {\r\n    return null;\r\n  }\r\n\r\n  return elementTemplates\r\n    .getAll()\r\n    .filter(function(elementTemplate) {\r\n      return currentElementTemplate.id === elementTemplate.id && !isUndefined(elementTemplate.version);\r\n    })\r\n    .reduce(function(newestElementTemplate, elementTemplate) {\r\n      if (currentElementTemplate.version < elementTemplate.version) {\r\n        return elementTemplate;\r\n      }\r\n\r\n      if (newestElementTemplate && newestElementTemplate.version < elementTemplate.version) {\r\n        return elementTemplate;\r\n      }\r\n\r\n      return newestElementTemplate;\r\n    }, null);\r\n}","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar getOption = require('./Helper').getOption,\n    getOptions = require('./Helper').getOptions,\n    getTemplateId = require('../Helper').getTemplateId,\n    ELEMENT_TEMPLATE_OPTION_EMPTY = require('../Helper').ELEMENT_TEMPLATE_OPTION_EMPTY;\n\nvar isNull = require('lodash/isNull'),\n    isUndefined = require('lodash/isUndefined'),\n    pick = require('lodash/pick');\n\nmodule.exports = function(group, element, elementTemplates, translate) {\n  if (!isUndefined(getTemplateId(element)) && !isNull(getTemplateId(element))) {\n    return;\n  }\n\n  var options = getOptions(element, elementTemplates, translate);\n\n  // Return if empty option is only option\n  if (options.length === 1) {\n    return;\n  }\n\n  var selectOptions = options.map(function(option) {\n    return pick(option, [ 'name', 'value' ]);\n  });\n\n  // select element template (via dropdown)\n  group.entries.push(entryFactory.selectBox(translate, {\n    id: 'elementTemplate-chooser',\n    label: translate('Element Template'),\n    modelProperty: 'elementTemplateOption',\n    selectOptions: selectOptions,\n    get: function(element) {\n      return {\n        elementTemplateOption: ELEMENT_TEMPLATE_OPTION_EMPTY\n      };\n    },\n    set: function(element, properties) {\n      var optionId = properties['elementTemplateOption'];\n\n      var option = getOption(optionId, options);\n\n      var id = option.id,\n          version = option.version;\n\n      var newTemplate = elementTemplates.get(id, version);\n\n      return applyTemplate(element, newTemplate, elementTemplates);\n    }\n  }));\n\n};\n\n\n// helpers //////////\n\nfunction applyTemplate(element, newTemplate, elementTemplates) {\n  var oldTemplate = elementTemplates.get(element);\n\n  if (oldTemplate === newTemplate) {\n    return;\n  }\n\n  return {\n    cmd: 'propertiesPanel.camunda.changeTemplate',\n    context: {\n      element: element,\n      oldTemplate: oldTemplate,\n      newTemplate: newTemplate\n    }\n  };\n}","/**\n * Checks if `value` is `null`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n * @example\n *\n * _.isNull(null);\n * // => true\n *\n * _.isNull(void 0);\n * // => false\n */\nfunction isNull(value) {\n  return value === null;\n}\n\nmodule.exports = isNull;\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    elementHelper = require('../../../../helper/ElementHelper');\n\nvar findExtension = require('../Helper').findExtension,\n    findExtensions = require('../Helper').findExtensions,\n    findInputParameter = require('../Helper').findInputParameter,\n    findOutputParameter = require('../Helper').findOutputParameter,\n    findCamundaProperty = require('../Helper').findCamundaProperty,\n    findCamundaInOut = require('../Helper').findCamundaInOut;\n\nvar createCamundaProperty = require('../CreateHelper').createCamundaProperty,\n    createInputParameter = require('../CreateHelper').createInputParameter,\n    createOutputParameter = require('../CreateHelper').createOutputParameter,\n    createCamundaIn = require('../CreateHelper').createCamundaIn,\n    createCamundaOut = require('../CreateHelper').createCamundaOut,\n    createCamundaInWithBusinessKey = require('../CreateHelper').createCamundaInWithBusinessKey,\n    createCamundaFieldInjection = require('../CreateHelper').createCamundaFieldInjection;\n\nvar PROPERTY_TYPE = 'property',\n    CAMUNDA_PROPERTY_TYPE = 'camunda:property',\n    CAMUNDA_INPUT_PARAMETER_TYPE = 'camunda:inputParameter',\n    CAMUNDA_OUTPUT_PARAMETER_TYPE = 'camunda:outputParameter',\n    CAMUNDA_IN_TYPE = 'camunda:in',\n    CAMUNDA_OUT_TYPE = 'camunda:out',\n    CAMUNDA_IN_BUSINESS_KEY_TYPE = 'camunda:in:businessKey',\n    CAMUNDA_EXECUTION_LISTENER_TYPE = 'camunda:executionListener',\n    CAMUNDA_FIELD = 'camunda:field';\n\nvar BASIC_MODDLE_TYPES = [\n  'Boolean',\n  'Integer',\n  'String'\n];\n\nvar EXTENSION_BINDING_TYPES = [\n  CAMUNDA_PROPERTY_TYPE,\n  CAMUNDA_INPUT_PARAMETER_TYPE,\n  CAMUNDA_OUTPUT_PARAMETER_TYPE,\n  CAMUNDA_IN_TYPE,\n  CAMUNDA_OUT_TYPE,\n  CAMUNDA_IN_BUSINESS_KEY_TYPE,\n  CAMUNDA_FIELD\n];\n\nvar IO_BINDING_TYPES = [\n  CAMUNDA_INPUT_PARAMETER_TYPE,\n  CAMUNDA_OUTPUT_PARAMETER_TYPE\n];\n\nvar IN_OUT_BINDING_TYPES = [\n  CAMUNDA_IN_TYPE,\n  CAMUNDA_OUT_TYPE,\n  CAMUNDA_IN_BUSINESS_KEY_TYPE\n];\n\n/**\n * Injects custom properties into the given group.\n *\n * @param {djs.model.Base} element\n * @param {ElementTemplates} elementTemplates\n * @param {BpmnFactory} bpmnFactory\n * @param {Function} translate\n */\nmodule.exports = function(element, elementTemplates, bpmnFactory, translate) {\n\n  var template = elementTemplates.get(element);\n\n  if (!template) {\n    return [];\n  }\n\n  var renderCustomField = function(id, p, idx) {\n    var propertyType = p.type;\n\n    var entryOptions = {\n      id: id,\n      description: p.description,\n      label: p.label ? translate(p.label) : p.label,\n      modelProperty: id,\n      get: propertyGetter(id, p),\n      set: propertySetter(id, p, bpmnFactory),\n      validate: propertyValidator(id, p, translate)\n    };\n\n    var entry;\n\n    if (!propertyType) {\n      propertyType = getDefaultType(p);\n    }\n\n    if (propertyType === 'Boolean') {\n      entry = entryFactory.checkbox(translate, entryOptions);\n    }\n\n    if (propertyType === 'String') {\n      entry = entryFactory.textField(translate, entryOptions);\n    }\n\n    if (propertyType === 'Text') {\n      entry = entryFactory.textBox(translate, entryOptions);\n    }\n\n    if (propertyType === 'Dropdown') {\n      entryOptions.selectOptions = p.choices;\n\n      entry = entryFactory.selectBox(translate, entryOptions);\n    }\n\n    return entry;\n  };\n\n  var groups = [];\n  var id, entry;\n\n  var customFieldsGroup = {\n    id: 'customField',\n    label: translate('Custom Fields'),\n    entries: []\n  };\n  template.properties.forEach(function(p, idx) {\n\n    id = 'custom-' + template.id + '-' + idx;\n\n    entry = renderCustomField(id, p, idx);\n    if (entry) {\n      customFieldsGroup.entries.push(entry);\n    }\n  });\n  if (customFieldsGroup.entries.length > 0) {\n    groups.push(customFieldsGroup);\n  }\n\n  if (template.scopes) {\n    for (var scopeName in template.scopes) {\n\n      var scope = template.scopes[scopeName];\n      var idScopeName = scopeName.replace(/:/g, '_');\n\n      var customScopeFieldsGroup = {\n        id: 'customField-' + idScopeName,\n        label: translate('Custom Fields for scope: ') + scopeName,\n        entries: []\n      };\n\n      scope.properties.forEach(function(p, idx) {\n\n        var propertyId = 'custom-' + template.id + '-' + idScopeName + '-' + idx;\n\n        var scopedProperty = propertyWithScope(p, scopeName);\n\n        entry = renderCustomField(propertyId, scopedProperty, idx);\n        if (entry) {\n          customScopeFieldsGroup.entries.push(entry);\n        }\n      });\n\n      if (customScopeFieldsGroup.entries.length > 0) {\n        groups.push(customScopeFieldsGroup);\n      }\n    }\n  }\n\n  return groups;\n};\n\n\n// getters, setters and validators ///////////////\n\n\n/**\n * Return a getter that retrieves the given property.\n *\n * @param {String} name\n * @param {PropertyDescriptor} property\n *\n * @return {Function}\n */\nfunction propertyGetter(name, property) {\n\n  /* getter */\n  return function get(element) {\n    var value = getPropertyValue(element, property);\n\n    return objectWithKey(name, value);\n  };\n}\n\n/**\n * Return a setter that updates the given property.\n *\n * @param {String} name\n * @param {PropertyDescriptor} property\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {Function}\n */\nfunction propertySetter(name, property, bpmnFactory) {\n\n  /* setter */\n  return function set(element, values) {\n\n    var value = values[name];\n\n    return setPropertyValue(element, property, value, bpmnFactory);\n  };\n}\n\n/**\n * Return a validator that ensures the property is ok.\n *\n * @param {String} name\n * @param {PropertyDescriptor} property\n * @param {Function} translate\n *\n * @return {Function}\n */\nfunction propertyValidator(name, property, translate) {\n\n  /* validator */\n  return function validate(element, values) {\n    var value = values[name];\n\n    var error = validateValue(value, property, translate);\n\n    if (error) {\n      return objectWithKey(name, error);\n    }\n  };\n}\n\n\n// get, set and validate helpers ///////////////////\n\n/**\n * Return the value of the specified property descriptor,\n * on the passed diagram element.\n *\n * @param {djs.model.Base} element\n * @param {PropertyDescriptor} property\n *\n * @return {Any}\n */\nfunction getPropertyValue(element, property) {\n\n  var bo = getBusinessObject(element);\n\n  var binding = property.binding,\n      scope = property.scope;\n\n  var bindingType = binding.type,\n      bindingName = binding.name;\n\n  var propertyValue = property.value || '';\n\n  if (scope) {\n    bo = findExtension(bo, scope.name);\n    if (!bo) {\n      return propertyValue;\n    }\n  }\n\n  // property\n  if (bindingType === 'property') {\n\n    var value = bo.get(bindingName);\n\n    if (bindingName === 'conditionExpression') {\n      if (value) {\n        return value.body;\n      } else {\n\n        // return defined default\n        return propertyValue;\n      }\n    } else {\n\n      // return value; default to defined default\n      return typeof value !== 'undefined' ? value : propertyValue;\n    }\n  }\n\n  var camundaProperties,\n      camundaProperty;\n\n  if (bindingType === CAMUNDA_PROPERTY_TYPE) {\n    if (scope) {\n      camundaProperties = bo.get('properties');\n    } else {\n      camundaProperties = findExtension(bo, 'camunda:Properties');\n    }\n\n    if (camundaProperties) {\n      camundaProperty = findCamundaProperty(camundaProperties, binding);\n\n      if (camundaProperty) {\n        return camundaProperty.value;\n      }\n    }\n\n    return propertyValue;\n  }\n\n  var inputOutput,\n      ioParameter;\n\n  if (IO_BINDING_TYPES.indexOf(bindingType) !== -1) {\n\n    if (scope) {\n      inputOutput = bo.get('inputOutput');\n    } else {\n      inputOutput = findExtension(bo, 'camunda:InputOutput');\n    }\n\n    if (!inputOutput) {\n\n      // ioParameter cannot exist yet, return property value\n      return propertyValue;\n    }\n  }\n\n  // camunda input parameter\n  if (bindingType === CAMUNDA_INPUT_PARAMETER_TYPE) {\n    ioParameter = findInputParameter(inputOutput, binding);\n\n    if (ioParameter) {\n      if (binding.scriptFormat) {\n        if (ioParameter.definition) {\n          return ioParameter.definition.value;\n        }\n      } else {\n        return ioParameter.value || '';\n      }\n    }\n\n    return propertyValue;\n  }\n\n  // camunda output parameter\n  if (binding.type === CAMUNDA_OUTPUT_PARAMETER_TYPE) {\n    ioParameter = findOutputParameter(inputOutput, binding);\n\n    if (ioParameter) {\n      return ioParameter.name;\n    }\n\n    return propertyValue;\n  }\n\n\n  var ioElement;\n\n  if (IN_OUT_BINDING_TYPES.indexOf(bindingType) != -1) {\n    ioElement = findCamundaInOut(bo, binding);\n\n    if (ioElement) {\n      if (bindingType === CAMUNDA_IN_BUSINESS_KEY_TYPE) {\n        return ioElement.businessKey;\n      } else\n      if (bindingType === CAMUNDA_OUT_TYPE) {\n        return ioElement.target;\n      } else\n      if (bindingType === CAMUNDA_IN_TYPE) {\n        return ioElement[binding.expression ? 'sourceExpression' : 'source'];\n      }\n    }\n\n    return propertyValue;\n  }\n\n  if (bindingType === CAMUNDA_EXECUTION_LISTENER_TYPE) {\n    var executionListener;\n    if (scope) {\n      executionListener = bo.get('executionListener');\n    } else {\n      executionListener = findExtension(bo, 'camunda:ExecutionListener');\n    }\n\n    return executionListener.script.value;\n  }\n\n  var fieldInjection;\n  if (CAMUNDA_FIELD === bindingType) {\n    var fieldInjections = findExtensions(bo, [ 'camunda:Field' ]);\n    fieldInjections.forEach(function(item) {\n      if (item.name === binding.name) {\n        fieldInjection = item;\n      }\n    });\n    if (fieldInjection) {\n      return fieldInjection.string || fieldInjection.expression;\n    } else {\n      return '';\n    }\n  }\n\n  throw unknownPropertyBinding(property);\n}\n\nmodule.exports.getPropertyValue = getPropertyValue;\n\n\n/**\n * Return an update operation that changes the diagram\n * element's custom property to the given value.\n *\n * The response of this method will be processed via\n * {@link PropertiesPanel#applyChanges}.\n *\n * @param {djs.model.Base} element\n * @param {PropertyDescriptor} property\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {Object|Array<Object>} results to be processed\n */\nfunction setPropertyValue(element, property, value, bpmnFactory) {\n  var bo = getBusinessObject(element);\n\n  var binding = property.binding,\n      scope = property.scope;\n\n  var bindingType = binding.type,\n      bindingName = binding.name;\n\n  var propertyValue;\n\n  var updates = [];\n\n  var extensionElements;\n\n  if (EXTENSION_BINDING_TYPES.indexOf(bindingType) !== -1) {\n    extensionElements = bo.get('extensionElements');\n\n    // create extension elements, if they do not exist (yet)\n    if (!extensionElements) {\n      extensionElements = elementHelper.createElement('bpmn:ExtensionElements', null, element, bpmnFactory);\n\n      updates.push(cmdHelper.updateBusinessObject(\n        element, bo, objectWithKey('extensionElements', extensionElements)\n      ));\n    }\n  }\n\n  if (scope) {\n    bo = findExtension(bo, scope.name);\n    if (!bo) {\n      bo = elementHelper.createElement(scope.name, null, element, bpmnFactory);\n\n      updates.push(cmdHelper.addElementsTolist(\n        bo, extensionElements, 'values', [ bo ]\n      ));\n    }\n  }\n\n  // property\n  if (bindingType === 'property') {\n\n    if (bindingName === 'conditionExpression') {\n\n      propertyValue = elementHelper.createElement('bpmn:FormalExpression', {\n        body: value,\n        language: binding.scriptFormat\n      }, bo, bpmnFactory);\n    } else {\n\n      var moddlePropertyDescriptor = bo.$descriptor.propertiesByName[bindingName];\n\n      var moddleType = moddlePropertyDescriptor.type;\n\n      // make sure we only update String, Integer, Real and\n      // Boolean properties (do not accidentally override complex objects...)\n      if (BASIC_MODDLE_TYPES.indexOf(moddleType) === -1) {\n        throw new Error('cannot set moddle type <' + moddleType + '>');\n      }\n\n      if (moddleType === 'Boolean') {\n        propertyValue = !!value;\n      } else\n      if (moddleType === 'Integer') {\n        propertyValue = parseInt(value, 10);\n\n        if (isNaN(propertyValue)) {\n\n          // do not write NaN value\n          propertyValue = undefined;\n        }\n      } else {\n        propertyValue = value;\n      }\n    }\n\n    if (propertyValue !== undefined) {\n      updates.push(cmdHelper.updateBusinessObject(\n        element, bo, objectWithKey(bindingName, propertyValue)\n      ));\n    }\n  }\n\n  // camunda:property\n  var camundaProperties,\n      existingCamundaProperty,\n      newCamundaProperty;\n\n  if (bindingType === CAMUNDA_PROPERTY_TYPE) {\n\n    if (scope) {\n      camundaProperties = bo.get('properties');\n    } else {\n      camundaProperties = findExtension(extensionElements, 'camunda:Properties');\n    }\n\n    if (!camundaProperties) {\n      camundaProperties = elementHelper.createElement('camunda:Properties', null, bo, bpmnFactory);\n\n      if (scope) {\n        updates.push(cmdHelper.updateBusinessObject(\n          element, bo, { properties: camundaProperties }\n        ));\n      }\n      else {\n        updates.push(cmdHelper.addElementsTolist(\n          element, extensionElements, 'values', [ camundaProperties ]\n        ));\n      }\n    }\n\n    existingCamundaProperty = findCamundaProperty(camundaProperties, binding);\n\n    newCamundaProperty = createCamundaProperty(binding, value, bpmnFactory);\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      camundaProperties,\n      'values',\n      null,\n      [ newCamundaProperty ],\n      existingCamundaProperty ? [ existingCamundaProperty ] : []\n    ));\n  }\n\n  // camunda:inputParameter\n  // camunda:outputParameter\n  var inputOutput,\n      existingIoParameter,\n      newIoParameter;\n\n  if (IO_BINDING_TYPES.indexOf(bindingType) !== -1) {\n\n    if (scope) {\n      inputOutput = bo.get('inputOutput');\n    } else {\n      inputOutput = findExtension(extensionElements, 'camunda:InputOutput');\n    }\n\n    // create inputOutput element, if it do not exist (yet)\n    if (!inputOutput) {\n      inputOutput = elementHelper.createElement('camunda:InputOutput', null, bo, bpmnFactory);\n\n      if (scope) {\n        updates.push(cmdHelper.updateBusinessObject(\n          element, bo, { inputOutput: inputOutput }\n        ));\n      }\n      else {\n        updates.push(cmdHelper.addElementsTolist(\n          element, extensionElements, 'values', inputOutput\n        ));\n      }\n    }\n  }\n\n  if (bindingType === CAMUNDA_INPUT_PARAMETER_TYPE) {\n\n    existingIoParameter = findInputParameter(inputOutput, binding);\n\n    newIoParameter = createInputParameter(binding, value, bpmnFactory);\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      inputOutput,\n      'inputParameters',\n      null,\n      [ newIoParameter ],\n      existingIoParameter ? [ existingIoParameter ] : []\n    ));\n  }\n\n  if (bindingType === CAMUNDA_OUTPUT_PARAMETER_TYPE) {\n\n    existingIoParameter = findOutputParameter(inputOutput, binding);\n\n    newIoParameter = createOutputParameter(binding, value, bpmnFactory);\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      inputOutput,\n      'outputParameters',\n      null,\n      [ newIoParameter ],\n      existingIoParameter ? [ existingIoParameter ] : []\n    ));\n  }\n\n\n  // camunda:in\n  // camunda:out\n  // camunda:in:businessKey\n  var existingInOut,\n      newInOut;\n\n  if (IN_OUT_BINDING_TYPES.indexOf(bindingType) !== -1) {\n\n    existingInOut = findCamundaInOut(bo, binding);\n\n    if (bindingType === CAMUNDA_IN_TYPE) {\n      newInOut = createCamundaIn(binding, value, bpmnFactory);\n    } else\n    if (bindingType === CAMUNDA_OUT_TYPE) {\n      newInOut = createCamundaOut(binding, value, bpmnFactory);\n    } else {\n      newInOut = createCamundaInWithBusinessKey(binding, value, bpmnFactory);\n    }\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      extensionElements,\n      'values',\n      null,\n      [ newInOut ],\n      existingInOut ? [ existingInOut ] : []\n    ));\n  }\n\n  if (bindingType === CAMUNDA_FIELD) {\n    var existingFieldInjections = findExtensions(bo, [ 'camunda:Field' ]);\n    var newFieldInjections = [];\n\n    if (existingFieldInjections.length > 0) {\n      existingFieldInjections.forEach(function(item) {\n        if (item.name === binding.name) {\n          newFieldInjections.push(createCamundaFieldInjection(binding, value, bpmnFactory));\n        } else {\n          newFieldInjections.push(item);\n        }\n      });\n    } else {\n      newFieldInjections.push(createCamundaFieldInjection(binding, value, bpmnFactory));\n    }\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      extensionElements,\n      'values',\n      null,\n      newFieldInjections,\n      existingFieldInjections ? existingFieldInjections : []\n    ));\n  }\n\n  if (updates.length) {\n    return updates;\n  }\n\n  // quick warning for better debugging\n  console.warn('no update', element, property, value);\n}\n\nmodule.exports.setPropertyValue = setPropertyValue;\n\n/**\n * Validate value of a given property.\n *\n * @param {String} value\n * @param {PropertyDescriptor} property\n * @param {Function} translate\n *\n * @return {Object} with validation errors\n */\nfunction validateValue(value, property, translate) {\n\n  var constraints = property.constraints || {};\n\n  if (constraints.notEmpty && isEmpty(value)) {\n    return translate('Must not be empty');\n  }\n\n  if (constraints.maxLength && value.length > constraints.maxLength) {\n    return translate('Must have max length {length}', { length: constraints.maxLength });\n  }\n\n  if (constraints.minLength && value.length < constraints.minLength) {\n    return translate('Must have min length {length}', { length: constraints.minLength });\n  }\n\n  var pattern = constraints.pattern,\n      message;\n\n  if (pattern) {\n\n    if (typeof pattern !== 'string') {\n      message = pattern.message;\n      pattern = pattern.value;\n    }\n\n    if (!matchesPattern(value, pattern)) {\n      return message || translate('Must match pattern {pattern}', { pattern: pattern });\n    }\n  }\n}\n\n\n// misc helpers ///////////////////////////////\n\nfunction propertyWithScope(property, scopeName) {\n  if (!scopeName) {\n    return property;\n  }\n\n  return assign({}, property, {\n    scope: {\n      name: scopeName\n    }\n  });\n}\n\n/**\n * Return an object with a single key -> value association.\n *\n * @param {String} key\n * @param {Any} value\n *\n * @return {Object}\n */\nfunction objectWithKey(key, value) {\n  var obj = {};\n\n  obj[key] = value;\n\n  return obj;\n}\n\n/**\n * Does the given string match the specified pattern?\n *\n * @param {String} str\n * @param {String} pattern\n *\n * @return {Boolean}\n */\nfunction matchesPattern(str, pattern) {\n  var regexp = new RegExp(pattern);\n\n  return regexp.test(str);\n}\n\nfunction isEmpty(str) {\n  return !str || /^\\s*$/.test(str);\n}\n\n/**\n * Create a new {@link Error} indicating an unknown\n * property binding.\n *\n * @param {PropertyDescriptor} property\n *\n * @return {Error}\n */\nfunction unknownPropertyBinding(property) {\n  var binding = property.binding;\n\n  return new Error('unknown binding: <' + binding.type + '>');\n}\n\nfunction getDefaultType(property) {\n  var binding = property.binding,\n      bindingType = binding.type;\n\n  if (bindingType === PROPERTY_TYPE ||\n      bindingType === CAMUNDA_PROPERTY_TYPE ||\n      bindingType === CAMUNDA_IN_TYPE ||\n      bindingType === CAMUNDA_IN_BUSINESS_KEY_TYPE ||\n      bindingType === CAMUNDA_OUT_TYPE ||\n      bindingType === CAMUNDA_FIELD) {\n    return 'String';\n  }\n\n  if (bindingType === CAMUNDA_EXECUTION_LISTENER_TYPE) {\n    return 'Hidden';\n  }\n}\n","'use strict';\n\nvar assign = require('min-dash').assign,\n    flatten = require('min-dash').flatten,\n    filter = require('min-dash').filter,\n    findIndex = require('min-dash').findIndex,\n    forEach = require('min-dash').forEach;\n\nvar domClasses = require('min-dom').classes,\n    domEvent = require('min-dom').event,\n    domify = require('min-dom').domify,\n    domQuery = require('min-dom').query;\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar findExtension = require('../Helper').findExtension,\n    findInputParameter = require('../Helper').findInputParameter;\n\nvar createInputParameter = require('../CreateHelper').createInputParameter;\n\nvar escapeHTML = require('../../../../Utils').escapeHTML;\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper'),\n    elementHelper = require('../../../../helper/ElementHelper');\n\nvar InputOutputParameter = require('../../parts/implementation/InputOutputParameter');\n\nvar CAMUNDA_INPUT_PARAMETER_TYPE = 'camunda:inputParameter';\n\nvar MAX_DESCRIPTION_LENGTH = 200;\n\nvar EMPTY_PARAMETER = {\n  get: function() {},\n  set: function() {}\n};\n\n\n/**\n * Injects element template input parameters into the given group.\n *\n * @param {Object} group\n * @param {djs.model.Base} element\n * @param {ElementTemplates} elementTemplates\n * @param {BpmnFactory} bpmnFactory\n * @param {Function} translate\n */\nmodule.exports = function(group, element, elementTemplates, bpmnFactory, translate) {\n\n  var template = elementTemplates.get(element);\n\n  if (!template) {\n    return [];\n  }\n\n  var inputEntries = [];\n\n\n  function onToggle(value, entryNode) {\n    if (!value) {\n      return;\n    }\n\n    var currentEntryId = entryNode.dataset.entry;\n\n    // collapse all other items\n    inputEntries.forEach(function(entries) {\n      var collapsible = entries[0];\n\n      if (collapsible.id === currentEntryId) {\n        return;\n      }\n\n      var entryNode = domQuery('[data-entry=\"' + collapsible.id + '\"]');\n      collapsible.setOpen(false, entryNode);\n    });\n  }\n\n  function renderInputParameter(id, templateProperty) {\n\n    var parameterEntries = [],\n        collapsibleEntry;\n\n    var bo = getBusinessObject(element),\n        inputOutput = findExtension(bo, 'camunda:InputOutput');\n\n    if (!inputOutput) {\n      return parameterEntries;\n    }\n\n    var getParameter = function() {\n      return findInputParameter(inputOutput, templateProperty.binding) || EMPTY_PARAMETER;\n    };\n\n    var parameter = getParameter();\n\n    var isOpen = function() {\n      return collapsibleEntry.isOpen();\n    };\n\n    var assignmentIsOn = function() {\n      var inputOutput = findExtension(getBusinessObject(element), 'camunda:InputOutput'),\n          parameter = findInputParameter(inputOutput, templateProperty.binding);\n\n      return !!parameter;\n    };\n\n    var options = {\n      idPrefix: id + '-',\n      onToggle: onToggle,\n      getParameter: getParameter,\n      isOpen: function() {\n        return isOpen() && assignmentIsOn();\n      }\n    };\n\n\n    // (1) use input parameter implementation\n    var inputImplementation = InputOutputParameter(parameter, bpmnFactory, options, translate);\n    parameterEntries = inputImplementation.entries;\n\n    var nameIdx = findEntry(parameterEntries, id + '-parameterName');\n\n    collapsibleEntry = parameterEntries[findEntry(parameterEntries, id + '-collapsible')];\n\n    // (2) update title getter\n    var defaultGet = collapsibleEntry.get;\n    collapsibleEntry.get = function() {\n      return assign(defaultGet(), {\n        title: templateProperty.label ?\n          translate(templateProperty.label) :\n          templateProperty.binding.name\n      });\n    };\n\n    // (3) remove name property entry\n    removeEntry(parameterEntries, nameIdx);\n\n    // (4) add description entry\n    if (templateProperty.description) {\n      parameterEntries.splice(1, 0, createDescriptionEntry(\n        templateProperty.description,\n        id,\n        collapsibleEntry.isOpen,\n        translate\n      ));\n    }\n\n    // (5) add parameter toggle\n    parameterEntries.splice(templateProperty.description ? 2 : 1, 0, entryFactory.toggleSwitch(translate, {\n      id: id + '-assignment-toggle',\n      label: translate('Local Variable Assignment'),\n      modelProperty: 'isActive',\n      labelOn: translate('On'),\n      labelOff: translate('Off'),\n      descriptionOff: translate('The parameter won\\'t be created as local variable.'),\n      isOn: assignmentIsOn,\n      get: function(element, node) {\n        return { isActive: assignmentIsOn() };\n      },\n      set: function(element, values, node) {\n        var isActive = values.isActive || false;\n\n        if (isActive) {\n          return createNewInputParameter(element, templateProperty.binding, bpmnFactory);\n        } else {\n          return removeInputParameter(element, templateProperty.binding);\n        }\n\n      },\n      hidden: function(element, node) {\n        return !isOpen();\n      }\n    }));\n\n    return parameterEntries;\n  }\n\n\n  // filter specific input parameters from template\n  var inputParameters = filter(template.properties, function(p) {\n    return !p.type && p.binding.type === CAMUNDA_INPUT_PARAMETER_TYPE;\n  });\n\n  forEach(inputParameters, function(property, idx) {\n    var id = 'template-inputs-' + template.id + '-' + idx;\n    inputEntries.push(renderInputParameter(id, property));\n  });\n\n  group.entries = group.entries.concat(flatten(inputEntries));\n};\n\n\n// helper ///////////////////////\n\nfunction findEntry(entries, id) {\n  return findIndex(entries, function(entry) {\n    return entry.id === id;\n  });\n}\n\nfunction removeEntry(entries, idx) {\n  entries.splice(idx, 1);\n}\n\nfunction createDescriptionEntry(description, id, show, translate) {\n  description = escapeHTML(description);\n\n  var html = domify('<p class=\"description description--expanded\" data-show=\"show\"></p>');\n\n  var descriptionText = domify('<span class=\"description__text\">' + description + '</span>');\n\n  html.appendChild(descriptionText);\n\n  function toggleExpanded(expanded) {\n    if (expanded) {\n      domClasses(html).add('description--expanded');\n\n      descriptionText.textContent = description + ' ';\n\n      expand.textContent = translate('Less');\n    } else {\n      domClasses(html).remove('description--expanded');\n\n      descriptionText.textContent = descriptionShortened + ' ... ';\n\n      expand.textContent = translate('More');\n    }\n  }\n\n  var descriptionShortened,\n      expand,\n      expanded = false;\n\n  if (description.length > MAX_DESCRIPTION_LENGTH) {\n    descriptionShortened = description.slice(0, MAX_DESCRIPTION_LENGTH);\n\n    expand = domify(\n      '<span class=\"bpp-entry-link description__expand\">' +\n        translate('More') +\n      '</span>'\n    );\n\n    domEvent.bind(expand, 'click', function() {\n      expanded = !expanded;\n\n      toggleExpanded(expanded);\n    });\n\n    html.appendChild(expand);\n\n    toggleExpanded(expanded);\n  }\n\n  return {\n    id: id + '-description',\n    html: html,\n    show: show\n  };\n}\n\nfunction removeInputParameter(element, binding) {\n  var bo = getBusinessObject(element),\n      updates = [],\n      extensionElements = bo.get('extensionElements');\n\n  if (!extensionElements) {\n    return updates;\n  }\n\n  var inputOutput = findExtension(extensionElements, 'camunda:InputOutput');\n\n  if (!inputOutput) {\n    return updates;\n  }\n\n  var inputParameter = findInputParameter(inputOutput, binding);\n\n  if (!inputParameter) {\n    return updates;\n  }\n\n  updates.push(cmdHelper.removeElementsFromList(element, inputOutput, 'inputParameters', null, [inputParameter]));\n\n  return updates;\n}\n\nfunction createNewInputParameter(element, binding, bpmnFactory) {\n  var bo = getBusinessObject(element),\n      updates = [],\n      extensionElements = bo.get('extensionElements');\n\n  // (1) ensure extension elements\n  if (!extensionElements) {\n    extensionElements = elementHelper.createElement('bpmn:ExtensionElements', null, element, bpmnFactory);\n\n    updates.push(cmdHelper.updateBusinessObject(\n      element, bo, { extensionElements: extensionElements }\n    ));\n  }\n\n  var inputOutput = findExtension(extensionElements, 'camunda:InputOutput');\n\n  // (2) ensure inputOutput element\n  if (!inputOutput) {\n    inputOutput = elementHelper.createElement('camunda:InputOutput', null, bo, bpmnFactory);\n\n    updates.push(cmdHelper.addElementsTolist(\n      element, extensionElements, 'values', inputOutput\n    ));\n  }\n\n  // (3) create input parameter\n  var inputParameter = createInputParameter(binding, null, bpmnFactory);\n\n  updates.push(cmdHelper.addAndRemoveElementsFromList(\n    element,\n    inputOutput,\n    'inputParameters',\n    null,\n    [ inputParameter ],\n    [ ]\n  ));\n\n  return updates;\n}\n\n\n","'use strict';\n\nvar flatten = require('min-dash').flatten,\n    filter = require('min-dash').filter,\n    forEach = require('min-dash').forEach;\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    elementHelper = require('../../../../helper/ElementHelper');\n\nvar findExtension = require('../Helper').findExtension,\n    findOutputParameter = require('../Helper').findOutputParameter;\n\nvar createOutputParameter = require('../CreateHelper').createOutputParameter;\n\nvar domClasses = require('min-dom').classes,\n    domEvent = require('min-dom').event,\n    domify = require('min-dom').domify,\n    domQuery = require('min-dom').query;\n\nvar escapeHTML = require('../../../../Utils').escapeHTML;\n\nvar utils = require('../../../../Utils');\n\nvar CAMUNDA_OUTPUT_PARAMETER_TYPE = 'camunda:outputParameter';\n\nvar MAX_DESCRIPTION_LENGTH = 200;\n\nvar EMPTY_PARAMETER = {\n  get: function() {},\n  set: function() {}\n};\n\n/**\n * Injects element template output parameters into the given group.\n *\n * @param {Object} group\n * @param {djs.model.Base} element\n * @param {ElementTemplates} elementTemplates\n * @param {BpmnFactory} bpmnFactory\n * @param {Function} translate\n */\nmodule.exports = function(group, element, elementTemplates, bpmnFactory, translate) {\n\n  var template = elementTemplates.get(element);\n\n  if (!template) {\n    return [];\n  }\n\n  var outputEntries = [];\n\n\n  function onToggle(value, entryNode) {\n    if (!value) {\n      return;\n    }\n\n    var currentEntryId = entryNode.dataset.entry;\n\n    // collapse all other items\n    outputEntries.forEach(function(entries) {\n      var collapsible = entries[0];\n\n      if (collapsible.id === currentEntryId) {\n        return;\n      }\n\n      var entryNode = domQuery('[data-entry=\"' + collapsible.id + '\"]');\n      collapsible.setOpen(false, entryNode);\n    });\n  }\n\n  function renderOutputParameter(id, templateProperty) {\n\n    var parameterEntries = [];\n\n    // find input parameter first\n    var bo = getBusinessObject(element),\n        inputOutput = findExtension(bo, 'camunda:InputOutput');\n\n    if (!inputOutput) {\n      return parameterEntries;\n    }\n\n    var getParameter = function() {\n      return findOutputParameter(inputOutput, templateProperty.binding) || EMPTY_PARAMETER;\n    };\n\n    // (1) add collapsible header\n    var collapsible = entryFactory.collapsible({\n      id: id + '-collapsible',\n      title: translate(templateProperty.label),\n      cssClasses: [\n        'bpp-collapsible--with-mapping',\n        'bpp-collapsible--with-template-out'\n      ],\n      onToggle: onToggle,\n      open: false,\n      get: function() {\n        return {\n          title: translate(templateProperty.label),\n          description: getParameter().name\n        };\n      }\n    });\n    parameterEntries.push(collapsible);\n\n    var isOpen = collapsible.isOpen;\n\n    var assignmentIsOn = function() {\n      var inputOutput = findExtension(getBusinessObject(element), 'camunda:InputOutput'),\n          parameter = findOutputParameter(inputOutput, templateProperty.binding);\n\n      return !!parameter;\n    };\n\n    // (2) add description\n    if (templateProperty.description) {\n      parameterEntries.push(createDescriptionEntry(\n        templateProperty.description,\n        id,\n        isOpen,\n        translate\n      ));\n    }\n\n    // (3) add parameter toggle\n    parameterEntries.splice(templateProperty.description ? 2 : 1, 0, entryFactory.toggleSwitch(translate, {\n      id: id + '-assignment-toggle',\n      label: translate('Process Variable Assignment'),\n      modelProperty: 'isActive',\n      labelOn: translate('On'),\n      labelOff: translate('Off'),\n      descriptionOff: translate('The parameter won\\'t be available in the process scope.'),\n      isOn: assignmentIsOn,\n      get: function(element, node) {\n        return { isActive: assignmentIsOn() };\n      },\n      set: function(element, values, node) {\n        var isActive = values.isActive || false;\n\n        if (isActive) {\n          return createNewOutputParameter(element, templateProperty.binding, bpmnFactory);\n        } else {\n          return removeOutputParameter(element, templateProperty.binding);\n        }\n\n      },\n      hidden: function(element, node) {\n        return !isOpen();\n      }\n    }));\n\n    // (4) add process variable name field\n    parameterEntries.push(entryFactory.validationAwareTextField(translate, {\n      id: id + '-variableName',\n      label: translate('Assign to Process Variable'),\n      modelProperty: 'variableName',\n      getProperty: function(element) {\n        return getParameter().name;\n      },\n      setProperty: function(element, values) {\n        return cmdHelper.updateBusinessObject(element, getParameter(), { name: values.variableName });\n      },\n      validate: function(element, values) {\n        var validation = {},\n            nameValue = values.variableName;\n\n        if (nameValue) {\n          if (utils.containsSpace(nameValue)) {\n            validation.variableName = translate('Process Variable Name must not contain spaces.');\n          }\n        } else {\n          validation.variableName = translate('Process Variable Name must not be empty.');\n        }\n\n        return validation;\n      },\n      hidden: function(element, node) {\n        return !isOpen() || !assignmentIsOn();\n      }\n    }));\n\n    return parameterEntries;\n  }\n\n  // filter specific output parameters from template\n  var outputParameters = filter(template.properties, function(p) {\n    return !p.type && p.binding.type === CAMUNDA_OUTPUT_PARAMETER_TYPE;\n  });\n\n  forEach(outputParameters, function(property, idx) {\n    var id = 'template-outputs-' + template.id + '-' + idx;\n    outputEntries.push(renderOutputParameter(id, property));\n  });\n\n  group.entries = group.entries.concat(flatten(outputEntries));\n};\n\n// helpers ///////////////\n\nfunction createDescriptionEntry(description, id, show, translate) {\n  description = escapeHTML(description);\n\n  var html = domify('<p class=\"description description--expanded\" data-show=\"show\"></p>');\n\n  var descriptionText = domify('<span class=\"description__text\">' + description + '</span>');\n\n  html.appendChild(descriptionText);\n\n  function toggleExpanded(expanded) {\n    if (expanded) {\n      domClasses(html).add('description--expanded');\n\n      descriptionText.textContent = description + ' ';\n\n      expand.textContent = translate('Less');\n    } else {\n      domClasses(html).remove('description--expanded');\n\n      descriptionText.textContent = descriptionShortened + ' ... ';\n\n      expand.textContent = translate('More');\n    }\n  }\n\n  var descriptionShortened,\n      expand,\n      expanded = false;\n\n  if (description.length > MAX_DESCRIPTION_LENGTH) {\n    descriptionShortened = description.slice(0, MAX_DESCRIPTION_LENGTH);\n\n    expand = domify(\n      '<span class=\"bpp-entry-link description__expand\">' +\n        translate('More') +\n      '</span>'\n    );\n\n    domEvent.bind(expand, 'click', function() {\n      expanded = !expanded;\n\n      toggleExpanded(expanded);\n    });\n\n    html.appendChild(expand);\n\n    toggleExpanded(expanded);\n  }\n\n  return {\n    id: id + '-description',\n    html: html,\n    show: show\n  };\n}\n\nfunction removeOutputParameter(element, binding) {\n  var bo = getBusinessObject(element),\n      updates = [],\n      extensionElements = bo.get('extensionElements');\n\n  if (!extensionElements) {\n    return updates;\n  }\n\n  var inputOutput = findExtension(extensionElements, 'camunda:InputOutput');\n\n  if (!inputOutput) {\n    return updates;\n  }\n\n  var outputParameter = findOutputParameter(inputOutput, binding);\n\n  if (!outputParameter) {\n    return updates;\n  }\n\n  updates.push(cmdHelper.removeElementsFromList(element, inputOutput, 'outputParameters', null, [outputParameter]));\n\n  return updates;\n}\n\nfunction createNewOutputParameter(element, binding, bpmnFactory) {\n  var bo = getBusinessObject(element),\n      updates = [],\n      extensionElements = bo.get('extensionElements');\n\n  // (1) ensure extension elements\n  if (!extensionElements) {\n    extensionElements = elementHelper.createElement('bpmn:ExtensionElements', null, element, bpmnFactory);\n\n    updates.push(cmdHelper.updateBusinessObject(\n      element, bo, { extensionElements: extensionElements }\n    ));\n  }\n\n  var inputOutput = findExtension(extensionElements, 'camunda:InputOutput');\n\n  // (2) ensure inputOutput element\n  if (!inputOutput) {\n    inputOutput = elementHelper.createElement('camunda:InputOutput', null, bo, bpmnFactory);\n\n    updates.push(cmdHelper.addElementsTolist(\n      element, extensionElements, 'values', inputOutput\n    ));\n  }\n\n  // (3) create output parameter\n  var outputParameter = createOutputParameter(binding, null, bpmnFactory);\n\n  updates.push(cmdHelper.addAndRemoveElementsFromList(\n    element,\n    inputOutput,\n    'outputParameters',\n    null,\n    [ outputParameter ],\n    [ ]\n  ));\n\n  return updates;\n}","'use strict';\n\nvar inputParameters = require('./implementation/InputParameters');\n\nmodule.exports = function(group, element, bpmnFactory, elementTemplates, translate) {\n\n  var template = elementTemplates.get(element);\n\n  if (template) {\n    return;\n  }\n\n  var inputParametersEntry = inputParameters(element, bpmnFactory, {}, translate);\n\n  group.entries = group.entries.concat(inputParametersEntry.entries);\n};\n","'use strict';\n\nvar outputParameters = require('./implementation/OutputParameters');\n\nmodule.exports = function(group, element, bpmnFactory, elementTemplates, translate) {\n\n  var template = elementTemplates.get(element);\n\n  if (template) {\n    return;\n  }\n\n  var outputParametersEntry = outputParameters(element, bpmnFactory, {}, translate);\n\n  group.entries = group.entries.concat(outputParametersEntry.entries);\n};\n","'use strict';\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\n    InputOutputHelper = require('../../../helper/InputOutputHelper');\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nfunction getImplementationType(element) {\n  return ImplementationTypeHelper.getImplementationType(element);\n}\n\nfunction getBusinessObject(element) {\n  return ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n}\n\nfunction getConnector(bo) {\n  return InputOutputHelper.getConnector(bo);\n}\n\nfunction isConnector(element) {\n  return getImplementationType(element) === 'connector';\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  group.entries.push(entryFactory.textField(translate, {\n    id: 'connectorId',\n    label: translate('Connector Id'),\n    modelProperty: 'connectorId',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var connector = bo && getConnector(bo);\n      var value = connector && connector.get('connectorId');\n      return { connectorId: value };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      var connector = getConnector(bo);\n      return cmdHelper.updateBusinessObject(element, connector, {\n        connectorId: values.connectorId || undefined\n      });\n    },\n\n    validate: function(element, values, node) {\n      return isConnector(element) && !values.connectorId ? { connectorId: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isConnector(element);\n    }\n\n  }));\n\n};\n","'use strict';\n\nvar inputParameters = require('./implementation/InputParameters');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var inputParametersEntry = inputParameters(element, bpmnFactory, {\n    idPrefix: 'connector-',\n    insideConnector: true\n  }, translate);\n\n  group.entries = group.entries.concat(inputParametersEntry.entries);\n};\n","'use strict';\n\nvar outputParameters = require('./implementation/OutputParameters');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var outputParametersEntry = outputParameters(element, bpmnFactory, {\n    idPrefix: 'connector-',\n    insideConnector: true\n  }, translate);\n\n  group.entries = group.entries.concat(outputParametersEntry.entries);\n};\n","'use strict';\n\nvar properties = require('./implementation/Properties'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var propertiesEntry = properties(element, bpmnFactory, {\n    id: 'properties',\n    modelProperties: [ 'name', 'value' ],\n    labels: [ translate('Name'), translate('Value') ],\n\n    getParent: function(element, node, bo) {\n      return bo.extensionElements;\n    },\n\n    createParent: function(element, bo) {\n      var parent = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n      var cmd = cmdHelper.updateBusinessObject(element, bo, { extensionElements: parent });\n      return {\n        cmd: cmd,\n        parent: parent\n      };\n    }\n  }, translate);\n\n  if (propertiesEntry) {\n    group.entries.push(propertiesEntry);\n  }\n\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar jobPriority = require('./implementation/JobPriority'),\n    jobRetryTimeCycle = require('./implementation/JobRetryTimeCycle');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'camunda:JobPriorized') ||\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n\n    group.entries = group.entries.concat(jobPriority(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        var bo = getBusinessObject(element);\n\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n\n        return bo.get('processRef');\n      }\n    }, translate));\n  }\n\n  if (is(element, 'camunda:AsyncCapable')) {\n    group.entries = group.entries.concat(jobRetryTimeCycle(element, bpmnFactory, {\n      getBusinessObject: getBusinessObject\n    }, translate));\n  }\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var jobPriorityEntry = entryFactory.textField(translate, {\n    id: 'jobPriority',\n    label: translate('Job Priority'),\n    modelProperty: 'jobPriority',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        jobPriority: bo.get('camunda:jobPriority')\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:jobPriority': values.jobPriority || undefined\n      });\n    }\n\n  });\n\n  return [ jobPriorityEntry ];\n\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar historyTimeToLive = require('./implementation/HistoryTimeToLive');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'camunda:Process') ||\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n\n    group.entries = group.entries.concat(historyTimeToLive(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        var bo = getBusinessObject(element);\n\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n\n        return bo.get('processRef');\n      }\n    }, translate));\n\n  }\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var historyTimeToLiveEntry = entryFactory.textField(translate, {\n    id: 'historyTimeToLive',\n    label: translate('History Time To Live'),\n    modelProperty: 'historyTimeToLive',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var historyTimeToLive = bo.get('camunda:historyTimeToLive');\n\n      return {\n        historyTimeToLive: historyTimeToLive ? historyTimeToLive : ''\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:historyTimeToLive': values.historyTimeToLive || undefined\n      });\n    }\n\n  });\n\n  return [ historyTimeToLiveEntry ];\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar candidateStarter = require('./implementation/CandidateStarter');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'camunda:Process') ||\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n\n    group.entries = group.entries.concat(candidateStarter(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        var bo = getBusinessObject(element);\n\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n\n        return bo.get('processRef');\n      }\n    }, translate));\n\n  }\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var candidateStarterGroupsEntry = entryFactory.textField(translate, {\n    id: 'candidateStarterGroups',\n    label: translate('Candidate Starter Groups'),\n    modelProperty: 'candidateStarterGroups',\n    description: translate('Specify more than one group as a comma separated list.'),\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var candidateStarterGroups = bo.get('camunda:candidateStarterGroups');\n\n      return {\n        candidateStarterGroups: candidateStarterGroups ? candidateStarterGroups : ''\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:candidateStarterGroups': values.candidateStarterGroups || undefined\n      });\n    }\n\n  });\n\n  var candidateStarterUsersEntry = entryFactory.textField(translate, {\n    id: 'candidateStarterUsers',\n    label: translate('Candidate Starter Users'),\n    modelProperty: 'candidateStarterUsers',\n    description: translate('Specify more than one user as a comma separated list.'),\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var candidateStarterUsers = bo.get('camunda:candidateStarterUsers');\n\n      return {\n        candidateStarterUsers: candidateStarterUsers ? candidateStarterUsers : ''\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:candidateStarterUsers': values.candidateStarterUsers || undefined\n      });\n    }\n\n  });\n\n  return [\n    candidateStarterGroupsEntry,\n    candidateStarterUsersEntry\n  ];\n};\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar tasklist = require('./implementation/Tasklist');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n  var businessObject = getBusinessObject(element);\r\n\r\n  if (is(element, 'camunda:Process') ||\r\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\r\n\r\n    group.entries = group.entries.concat(tasklist(element, bpmnFactory, {\r\n      getBusinessObject: function(element) {\r\n        var bo = getBusinessObject(element);\r\n\r\n        if (!is(bo, 'bpmn:Participant')) {\r\n          return bo;\r\n        }\r\n\r\n        return bo.get('processRef');\r\n      }\r\n    }, translate));\r\n\r\n  }\r\n};\r\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject;\r\n\r\n  var isStartableInTasklistEntry = entryFactory.checkbox(translate, {\r\n    id: 'isStartableInTasklist',\r\n    label: translate('Startable'),\r\n    modelProperty: 'isStartableInTasklist',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      var isStartableInTasklist = bo.get('camunda:isStartableInTasklist');\r\n\r\n      return {\r\n        isStartableInTasklist: isStartableInTasklist ? isStartableInTasklist : ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, {\r\n        'camunda:isStartableInTasklist': !!values.isStartableInTasklist\r\n      });\r\n    }\r\n  });\r\n\r\n  return [\r\n    isStartableInTasklistEntry\r\n  ];\r\n};\r\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper');\n\nvar externalTaskPriority = require('./implementation/ExternalTaskPriority');\n\nfunction getServiceTaskLikeBusinessObject(element) {\n  var bo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n\n  // if the element is not a serviceTaskLike element, fetch the normal business object\n  // This avoids the loss of the process / participant business object\n  if (!bo) {\n    bo = getBusinessObject(element);\n  }\n\n  return bo;\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var bo = getServiceTaskLikeBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(bo, 'camunda:TaskPriorized') || (is(bo, 'bpmn:Participant')) && bo.get('processRef')) {\n    group.entries = group.entries.concat(externalTaskPriority(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n        return bo.get('processRef');\n      }\n    }, translate));\n  }\n};","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var externalTaskPriorityEntry = entryFactory.textField(translate, {\n    id: 'externalTaskPriority',\n    label: translate('Task Priority'),\n    modelProperty: 'taskPriority',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        taskPriority: bo.get('camunda:taskPriority')\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:taskPriority': values.taskPriority || undefined\n      });\n    }\n\n  });\n\n  return [ externalTaskPriorityEntry ];\n\n};\n","'use strict';\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper');\n\nvar fieldInjection = require('./implementation/FieldInjection');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var bo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  var fieldInjectionEntry = fieldInjection(element, bpmnFactory, translate, { businessObject: bo });\n\n  if (fieldInjectionEntry && fieldInjectionEntry.length > 0) {\n    group.entries = group.entries.concat(fieldInjectionEntry);\n  }\n\n};\n","import {\n  domify,\n  classes as domClasses,\n  matches as domMatches,\n  delegate as domDelegate,\n  query as domQuery,\n  queryAll as domQueryAll,\n  event as domEvent,\n  attr as domAttr\n} from 'min-dom';\n\nimport {\n  filter,\n  assign\n} from 'min-dash';\n\nimport createEmitter from 'mitt';\n\nvar DEFAULT_OPTIONS = {\n  scrollSymbolLeft: '',\n  scrollSymbolRight: ''\n};\n\n\n/**\n * This component adds the functionality to scroll over a list of tabs.\n *\n * It adds scroll buttons on the left and right side of the tabs container\n * if not all tabs are visible. It also adds a mouse wheel listener on the\n * container.\n *\n * If either a button is clicked or the mouse wheel is used over the tabs,\n * a 'scroll' event is being fired. This event contains the node elements\n * of the new and old active tab, and the direction in which the tab has\n * changed relative to the old active tab.\n *\n * @example:\n * (1) provide a tabs-container:\n *\n * var $el = (\n *   <div>\n *     <!-- button added by scrollTabs -->\n *     <span class=\"scroll-tabs-button scroll-tabs-left\"></span>\n *     <ul class=\"my-tabs-container\">\n *       <li class=\"my-tab i-am-active\"></li>\n *       <li class=\"my-tab\"></li>\n *       <li class=\"my-tab ignore-me\"></li>\n *     </ul>\n *     <!-- button added by scrollTabs -->\n *     <span class=\"scroll-tabs-button scroll-tabs-right\"></span>\n *   </div>\n * );\n *\n *\n * (2) initialize scrollTabs:\n *\n *  var scroller = scrollTabs(tabBarNode, {\n *    selectors: {\n *      tabsContainer: '.my-tabs-container',\n *      tab: '.my-tab',\n *      ignore: '.ignore-me',\n *      active: '.i-am-active'\n *    }\n *  });\n *\n *\n * (3) listen to the scroll event:\n *\n * scroller.on('scroll', function(newActiveNode, oldActiveNode, direction) {\n *   // direction is any of (-1: left, 1: right)\n *   // activate the new active tab\n * });\n *\n *\n * (4) update the scroller if tabs change and or the tab container resizes:\n *\n * scroller.update();\n *\n *\n * @param  {DOMElement} el\n * @param  {Object} options\n * @param  {Object} options.selectors\n * @param  {String} options.selectors.tabsContainer the container all tabs are contained in\n * @param  {String} options.selectors.tab a single tab inside the tab container\n * @param  {String} options.selectors.ignore tabs that should be ignored during scroll left/right\n * @param  {String} options.selectors.active selector for the current active tab\n * @param  {String} [options.scrollSymbolLeft]\n * @param  {String} [options.scrollSymbolRight]\n */\nfunction ScrollTabs($el, options) {\n\n  // we are an event emitter\n  assign(this, createEmitter());\n\n  this.options = options = assign({}, DEFAULT_OPTIONS, options);\n  this.container = $el;\n\n  this._createScrollButtons($el, options);\n\n  this._bindEvents($el);\n}\n\n\n/**\n * Create a clickable scroll button\n *\n * @param {Object} options\n * @param {String} options.className\n * @param {String} options.label\n * @param {Number} options.direction\n *\n * @return {DOMElement} The created scroll button node\n */\nScrollTabs.prototype._createButton = function(parentNode, options) {\n\n  var className = options.className,\n      direction = options.direction;\n\n\n  var button = domQuery('.' + className, parentNode);\n\n  if (!button) {\n    button = domify('<span class=\"scroll-tabs-button ' + className + '\">' +\n                                options.label +\n                              '</span>');\n\n    parentNode.insertBefore(button, parentNode.childNodes[0]);\n  }\n\n  domAttr(button, 'data-direction', direction);\n\n  return button;\n};\n\n/**\n * Create both scroll buttons\n *\n * @param  {DOMElement} parentNode\n * @param  {Object} options\n * @param  {String} options.scrollSymbolLeft\n * @param  {String} options.scrollSymbolRight\n */\nScrollTabs.prototype._createScrollButtons = function(parentNode, options) {\n\n  // Create a button that scrolls to the tab left to the currently active tab\n  this._createButton(parentNode, {\n    className: 'scroll-tabs-left',\n    label: options.scrollSymbolLeft,\n    direction: -1\n  });\n\n  // Create a button that scrolls to the tab right to the currently active tab\n  this._createButton(parentNode, {\n    className: 'scroll-tabs-right',\n    label: options.scrollSymbolRight,\n    direction: 1\n  });\n};\n\n/**\n * Get the current active tab\n *\n * @return {DOMElement}\n */\nScrollTabs.prototype.getActiveTabNode = function() {\n  return domQuery(this.options.selectors.active, this.container);\n};\n\n\n/**\n * Get the container all tabs are contained in\n *\n * @return {DOMElement}\n */\nScrollTabs.prototype.getTabsContainerNode = function() {\n  return domQuery(this.options.selectors.tabsContainer, this.container);\n};\n\n\n/**\n * Get all tabs (visible and invisible ones)\n *\n * @return {Array<DOMElement>}\n */\nScrollTabs.prototype.getAllTabNodes = function() {\n  return domQueryAll(this.options.selectors.tab, this.container);\n};\n\n\n/**\n * Gets all tabs that don't have the ignore class set\n *\n * @return {Array<DOMElement>}\n */\nScrollTabs.prototype.getVisibleTabs = function() {\n  var allTabs = this.getAllTabNodes();\n\n  var ignore = this.options.selectors.ignore;\n\n  return filter(allTabs, function(tabNode) {\n    return !domMatches(tabNode, ignore);\n  });\n};\n\n\n/**\n * Get a tab relative to a reference tab.\n *\n * @param  {DOMElement} referenceTabNode\n * @param  {Number} n gets the nth tab next or previous to the reference tab\n *\n * @return {DOMElement}\n *\n * @example:\n * Visible tabs: [ A | B | C | D | E ]\n * Assume tab 'C' is the reference tab:\n * If direction === -1, it returns tab 'B',\n * if direction ===  2, it returns tab 'E'\n */\nScrollTabs.prototype.getAdjacentTab = function(referenceTabNode, n) {\n  var visibleTabs = this.getVisibleTabs();\n\n  var index = visibleTabs.indexOf(referenceTabNode);\n\n  return visibleTabs[index + n];\n};\n\nScrollTabs.prototype._bindEvents = function(node) {\n  this._bindWheelEvent(node);\n  this._bindTabClickEvents(node);\n  this._bindScrollButtonEvents(node);\n};\n\n/**\n *  Bind a click listener to a DOM node.\n *  Make sure a tab link is entirely visible after onClick.\n *\n * @param {DOMElement} node\n */\nScrollTabs.prototype._bindTabClickEvents = function(node) {\n  var selector = this.options.selectors.tab;\n\n  var self = this;\n\n  domDelegate.bind(node, selector, 'click', function onClick(event) {\n    self.scrollToTabNode(event.delegateTarget);\n  });\n};\n\n\n/**\n * Bind the wheel event listener to a DOM node\n *\n * @param {DOMElement} node\n */\nScrollTabs.prototype._bindWheelEvent = function(node) {\n  var self = this;\n\n  domEvent.bind(node, 'wheel', function(e) {\n\n    // scroll direction (-1: left, 1: right)\n    var direction = Math.sign(e.deltaY);\n\n    var oldActiveTab = self.getActiveTabNode();\n\n    var newActiveTab = self.getAdjacentTab(oldActiveTab, direction);\n\n    if (newActiveTab) {\n      self.scrollToTabNode(newActiveTab);\n      self.emit('scroll', newActiveTab, oldActiveTab, direction);\n    }\n\n    e.preventDefault();\n  });\n};\n\n/**\n * Bind scroll button events to a DOM node\n *\n * @param  {DOMElement} node\n */\nScrollTabs.prototype._bindScrollButtonEvents = function(node) {\n\n  var self = this;\n\n  domDelegate.bind(node, '.scroll-tabs-button', 'click', function(event) {\n\n    var target = event.delegateTarget;\n\n    // data-direction is either -1 or 1\n    var direction = parseInt(domAttr(target, 'data-direction'), 10);\n\n    var oldActiveTabNode = self.getActiveTabNode();\n\n    var newActiveTabNode = self.getAdjacentTab(oldActiveTabNode, direction);\n\n    if (newActiveTabNode) {\n      self.scrollToTabNode(newActiveTabNode);\n      self.emit('scroll', newActiveTabNode, oldActiveTabNode, direction);\n    }\n\n    event.preventDefault();\n  });\n};\n\n\n/**\n* Scroll to a tab if it is not entirely visible\n*\n* @param  {DOMElement} tabNode tab node to scroll to\n*/\nScrollTabs.prototype.scrollToTabNode = function(tabNode) {\n  if (!tabNode) {\n    return;\n  }\n\n  var tabsContainerNode = tabNode.parentNode;\n\n  var tabWidth = tabNode.offsetWidth,\n      tabOffsetLeft = tabNode.offsetLeft,\n      tabOffsetRight = tabOffsetLeft + tabWidth,\n      containerWidth = tabsContainerNode.offsetWidth,\n      containerScrollLeft = tabsContainerNode.scrollLeft;\n\n  if (containerScrollLeft > tabOffsetLeft) {\n    // scroll to the left, if the tab is overflowing on the left side\n    tabsContainerNode.scrollLeft = 0;\n  } else if (tabOffsetRight > containerWidth) {\n    // scroll to the right, if the tab is overflowing on the right side\n    tabsContainerNode.scrollLeft = tabOffsetRight - containerWidth;\n  }\n};\n\n\n/**\n * React on tab changes from outside (resize/show/hide/add/remove),\n * update scroll button visibility.\n */\nScrollTabs.prototype.update = function() {\n\n  var tabsContainerNode = this.getTabsContainerNode();\n\n  // check if tabs fit in container\n  var overflow = tabsContainerNode.scrollWidth > tabsContainerNode.offsetWidth;\n\n  // TODO(nikku): distinguish overflow left / overflow right?\n  var overflowClass = 'scroll-tabs-overflow';\n\n  domClasses(this.container).toggle(overflowClass, overflow);\n\n  if (overflow) {\n    // make sure the current active tab is always visible\n    this.scrollToTabNode(this.getActiveTabNode());\n  }\n};\n\n\n// exports ////////////////\n\n/**\n * Create a scrollTabs instance on the given element.\n *\n * @param {DOMElement} $el\n * @param {Object} options\n *\n * @return {ScrollTabs}\n */\nexport default function create($el, options) {\n\n  var scrollTabs = get($el);\n\n  if (!scrollTabs) {\n    scrollTabs = new ScrollTabs($el, options);\n\n    $el.__scrollTabs = scrollTabs;\n  }\n\n  return scrollTabs;\n}\n\n\n/**\n * Return the scrollTabs instance that has been previously\n * initialized on the element.\n *\n * @param {DOMElement} $el\n * @return {ScrollTabs}\n */\nfunction get($el) {\n  return $el.__scrollTabs;\n}\n\ncreate.get = get;","/**\n * Is an element of the given BPMN type?\n *\n * @param  {djs.model.Base|ModdleElement} element\n * @param  {string} type\n *\n * @return {boolean}\n */\nexport function is(element, type) {\n  var bo = getBusinessObject(element);\n\n  return bo && (typeof bo.$instanceOf === 'function') && bo.$instanceOf(type);\n}\n\n\n/**\n * Return the business object for a given element.\n *\n * @param  {djs.model.Base|ModdleElement} element\n *\n * @return {ModdleElement}\n */\nexport function getBusinessObject(element) {\n  return (element && element.businessObject) || element;\n}","/**\n * Flatten array, one level deep.\n *\n * @param {Array<?>} arr\n *\n * @return {Array<?>}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nvar nativeToString = Object.prototype.toString;\nvar nativeHasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\nfunction isNil(obj) {\n  return obj == null;\n}\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\nfunction isFunction(obj) {\n  var tag = nativeToString.call(obj);\n  return tag === '[object Function]' || tag === '[object AsyncFunction]' || tag === '[object GeneratorFunction]' || tag === '[object AsyncGeneratorFunction]' || tag === '[object Proxy]';\n}\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\n\nfunction ensureArray(obj) {\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\n\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function|Object} matcher\n *\n * @return {Object}\n */\n\nfunction find(collection, matcher) {\n  matcher = toMatcher(matcher);\n  var match;\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      match = val;\n      return false;\n    }\n  });\n  return match;\n}\n/**\n * Find element index in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Object}\n */\n\nfunction findIndex(collection, matcher) {\n  matcher = toMatcher(matcher);\n  var idx = isArray(collection) ? -1 : undefined;\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      idx = key;\n      return false;\n    }\n  });\n  return idx;\n}\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Array} result\n */\n\nfunction filter(collection, matcher) {\n  var result = [];\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      result.push(val);\n    }\n  });\n  return result;\n}\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @param  {Array|Object} collection\n * @param  {Function} iterator\n *\n * @return {Object} return result that stopped the iteration\n */\n\nfunction forEach(collection, iterator) {\n  var val, result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  var convertKey = isArray(collection) ? toNum : identity;\n\n  for (var key in collection) {\n    if (has(collection, key)) {\n      val = collection[key];\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n/**\n * Return collection without element.\n *\n * @param  {Array} arr\n * @param  {Function} matcher\n *\n * @return {Array}\n */\n\nfunction without(arr, matcher) {\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n  matcher = toMatcher(matcher);\n  return arr.filter(function (el, idx) {\n    return !matcher(el, idx);\n  });\n}\n/**\n * Reduce collection, returning a single result.\n *\n * @param  {Object|Array} collection\n * @param  {Function} iterator\n * @param  {Any} result\n *\n * @return {Any} result returned from last iterator\n */\n\nfunction reduce(collection, iterator, result) {\n  forEach(collection, function (value, idx) {\n    result = iterator(result, value, idx);\n  });\n  return result;\n}\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\n\nfunction every(collection, matcher) {\n  return !!reduce(collection, function (matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\n\nfunction some(collection, matcher) {\n  return !!find(collection, matcher);\n}\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\n\nfunction map(collection, fn) {\n  var result = [];\n  forEach(collection, function (val, key) {\n    result.push(fn(val, key));\n  });\n  return result;\n}\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\n\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\n\nfunction size(collection) {\n  return keys(collection).length;\n}\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\n\nfunction values(collection) {\n  return map(collection, function (val) {\n    return val;\n  });\n}\n/**\n * Group collection members by attribute.\n *\n * @param  {Object|Array} collection\n * @param  {Function} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\n\nfunction groupBy(collection, extractor) {\n  var grouped = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  extractor = toExtractor(extractor);\n  forEach(collection, function (val) {\n    var discriminator = extractor(val) || '_';\n    var group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n  return grouped;\n}\nfunction uniqueBy(extractor) {\n  extractor = toExtractor(extractor);\n  var grouped = {};\n\n  for (var _len = arguments.length, collections = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    collections[_key - 1] = arguments[_key];\n  }\n\n  forEach(collections, function (c) {\n    return groupBy(c, extractor, grouped);\n  });\n  var result = map(grouped, function (val, key) {\n    return val[0];\n  });\n  return result;\n}\nvar unionBy = uniqueBy;\n/**\n * Sort collection by criteria.\n *\n * @param  {Object|Array} collection\n * @param  {String|Function} extractor\n *\n * @return {Array}\n */\n\nfunction sortBy(collection, extractor) {\n  extractor = toExtractor(extractor);\n  var sorted = [];\n  forEach(collection, function (value, key) {\n    var disc = extractor(value, key);\n    var entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      var d = sorted[idx].d;\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    } // not inserted, append (!)\n\n\n    sorted.push(entry);\n  });\n  return map(sorted, function (e) {\n    return e.v;\n  });\n}\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * const matcher = matchPattern({ id: 1 });\n *\n * var element = find(elements, matcher);\n *\n * @param  {Object} pattern\n *\n * @return {Function} matcherFn\n */\n\nfunction matchPattern(pattern) {\n  return function (el) {\n    return every(pattern, function (val, key) {\n      return el[key] === val;\n    });\n  };\n}\n\nfunction toExtractor(extractor) {\n  return isFunction(extractor) ? extractor : function (e) {\n    return e[extractor];\n  };\n}\n\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : function (e) {\n    return e === matcher;\n  };\n}\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/**\n * Debounce fn, calling it only once if\n * the given time elapsed between calls.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {Function} debounced function\n */\nfunction debounce(fn, timeout) {\n  var timer;\n  var lastArgs;\n  var lastThis;\n  var lastNow;\n\n  function fire() {\n    var now = Date.now();\n    var scheduledDiff = lastNow + timeout - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  return function () {\n    lastNow = Date.now();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n    lastThis = this; // ensure an execution is scheduled\n\n    if (!timer) {\n      schedule(timeout);\n    }\n  };\n}\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\n\nfunction throttle(fn, interval) {\n  var throttling = false;\n  return function () {\n    if (throttling) {\n      return;\n    }\n\n    fn.apply(void 0, arguments);\n    throttling = true;\n    setTimeout(function () {\n      throttling = false;\n    }, interval);\n  };\n}\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\n\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\n\nfunction assign(target) {\n  for (var _len = arguments.length, others = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    others[_key - 1] = arguments[_key];\n  }\n\n  return _extends.apply(void 0, [target].concat(others));\n}\n/**\n * Pick given properties from the target object.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\n\nfunction pick(target, properties) {\n  var result = {};\n  var obj = Object(target);\n  forEach(properties, function (prop) {\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n  return result;\n}\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\n\nfunction omit(target, properties) {\n  var result = {};\n  var obj = Object(target);\n  forEach(obj, function (prop, key) {\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n  return result;\n}\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\n\nfunction merge(target) {\n  for (var _len2 = arguments.length, sources = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    sources[_key2 - 1] = arguments[_key2];\n  }\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function (source) {\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function (sourceVal, key) {\n      if (key === '__proto__') {\n        return;\n      }\n\n      var targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n        if (!isObject(targetVal)) {\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n    });\n  });\n  return target;\n}\n\nexport { flatten, find, findIndex, filter, forEach, without, reduce, every, some, map, keys, size, values, groupBy, uniqueBy, unionBy, sortBy, matchPattern, debounce, throttle, bind, isUndefined, isDefined, isNil, isArray, isObject, isNumber, isFunction, isString, ensureArray, has, assign, pick, omit, merge };\n","/**\n * Set attribute `name` to `val`, or get attr `name`.\n *\n * @param {Element} el\n * @param {String} name\n * @param {String} [val]\n * @api public\n */\nfunction attr(el, name, val) {\n  // get\n  if (arguments.length == 2) {\n    return el.getAttribute(name);\n  }\n\n  // remove\n  if (val === null) {\n    return el.removeAttribute(name);\n  }\n\n  // set\n  el.setAttribute(name, val);\n\n  return el;\n}\n\nvar indexOf = [].indexOf;\n\nvar indexof = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n\n/**\n * Taken from https://github.com/component/classes\n *\n * Without the component bits.\n */\n\n/**\n * Whitespace regexp.\n */\n\nvar re = /\\s+/;\n\n/**\n * toString reference.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nfunction classes(el) {\n  return new ClassList(el);\n}\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n  this.el = el;\n  this.list = el.classList;\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function (name) {\n  // classList\n  if (this.list) {\n    this.list.add(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = indexof(arr, name);\n  if (!~i) arr.push(name);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function (name) {\n  if ('[object RegExp]' == toString.call(name)) {\n    return this.removeMatching(name);\n  }\n\n  // classList\n  if (this.list) {\n    this.list.remove(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = indexof(arr, name);\n  if (~i) arr.splice(i, 1);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove all classes matching `re`.\n *\n * @param {RegExp} re\n * @return {ClassList}\n * @api private\n */\n\nClassList.prototype.removeMatching = function (re) {\n  var arr = this.array();\n  for (var i = 0; i < arr.length; i++) {\n    if (re.test(arr[i])) {\n      this.remove(arr[i]);\n    }\n  }\n  return this;\n};\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function (name, force) {\n  // classList\n  if (this.list) {\n    if ('undefined' !== typeof force) {\n      if (force !== this.list.toggle(name, force)) {\n        this.list.toggle(name); // toggle again to correct\n      }\n    } else {\n      this.list.toggle(name);\n    }\n    return this;\n  }\n\n  // fallback\n  if ('undefined' !== typeof force) {\n    if (!force) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  } else {\n    if (this.has(name)) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function () {\n  var className = this.el.getAttribute('class') || '';\n  var str = className.replace(/^\\s+|\\s+$/g, '');\n  var arr = str.split(re);\n  if ('' === arr[0]) arr.shift();\n  return arr;\n};\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has = ClassList.prototype.contains = function (name) {\n  return this.list ? this.list.contains(name) : !!~indexof(this.array(), name);\n};\n\n/**\n * Remove all children from the given element.\n */\nfunction clear(el) {\n\n  var c;\n\n  while (el.childNodes.length) {\n    c = el.childNodes[0];\n    el.removeChild(c);\n  }\n\n  return el;\n}\n\nvar proto = typeof Element !== 'undefined' ? Element.prototype : {};\nvar vendor = proto.matches\n  || proto.matchesSelector\n  || proto.webkitMatchesSelector\n  || proto.mozMatchesSelector\n  || proto.msMatchesSelector\n  || proto.oMatchesSelector;\n\nvar matchesSelector = match;\n\n/**\n * Match `el` to `selector`.\n *\n * @param {Element} el\n * @param {String} selector\n * @return {Boolean}\n * @api public\n */\n\nfunction match(el, selector) {\n  if (!el || el.nodeType !== 1) return false;\n  if (vendor) return vendor.call(el, selector);\n  var nodes = el.parentNode.querySelectorAll(selector);\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i] == el) return true;\n  }\n  return false;\n}\n\n/**\n * Closest\n *\n * @param {Element} el\n * @param {String} selector\n * @param {Boolean} checkYourSelf (optional)\n */\nfunction closest (element, selector, checkYourSelf) {\n  var currentElem = checkYourSelf ? element : element.parentNode;\n\n  while (currentElem && currentElem.nodeType !== document.DOCUMENT_NODE && currentElem.nodeType !== document.DOCUMENT_FRAGMENT_NODE) {\n\n    if (matchesSelector(currentElem, selector)) {\n      return currentElem;\n    }\n\n    currentElem = currentElem.parentNode;\n  }\n\n  return matchesSelector(currentElem, selector) ? currentElem : null;\n}\n\nvar bind = window.addEventListener ? 'addEventListener' : 'attachEvent',\n    unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent',\n    prefix = bind !== 'addEventListener' ? 'on' : '';\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar bind_1 = function(el, type, fn, capture){\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar unbind_1 = function(el, type, fn, capture){\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};\n\nvar componentEvent = {\n\tbind: bind_1,\n\tunbind: unbind_1\n};\n\n/**\n * Module dependencies.\n */\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = ['focus', 'blur'];\n\nfunction bind$1(el, selector, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return componentEvent.bind(el, type, function (e) {\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true, el);\n    if (e.delegateTarget) {\n      fn.call(el, e);\n    }\n  }, capture);\n}\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\nfunction unbind$1(el, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return componentEvent.unbind(el, type, fn, capture);\n}\n\nvar delegate = {\n  bind: bind$1,\n  unbind: unbind$1\n};\n\n/**\n * Expose `parse`.\n */\n\nvar domify = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = map[tag] || map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n\nfunction query(selector, el) {\n  el = el || document;\n\n  return el.querySelector(selector);\n}\n\nfunction all(selector, el) {\n  el = el || document;\n\n  return el.querySelectorAll(selector);\n}\n\nfunction remove(el) {\n  el.parentNode && el.parentNode.removeChild(el);\n}\n\nexport { attr, classes, clear, closest, delegate, domify, componentEvent as event, matchesSelector as matches, query, all as queryAll, remove };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar CmdHelper = {};\nmodule.exports = CmdHelper;\n\nCmdHelper.updateProperties = function(element, properties) {\n  return {\n    cmd: 'element.updateProperties',\n    context: { element: element, properties: properties }\n  };\n};\n\nCmdHelper.updateBusinessObject = function(element, businessObject, newProperties) {\n  return {\n    cmd: 'properties-panel.update-businessobject',\n    context: {\n      element: element,\n      businessObject: businessObject,\n      properties: newProperties\n    }\n  };\n};\n\nCmdHelper.addElementsTolist = function(element, businessObject, listPropertyName, objectsToAdd, objectsToPrepend) {\n  return {\n    cmd: 'properties-panel.update-businessobject-list',\n    context: {\n      element: element,\n      currentObject: businessObject,\n      propertyName: listPropertyName,\n      objectsToPrepend: objectsToPrepend,\n      objectsToAdd: objectsToAdd\n    }\n  };\n};\n\nCmdHelper.removeElementsFromList = function(element, businessObject, listPropertyName, referencePropertyName, objectsToRemove) {\n\n  return {\n    cmd: 'properties-panel.update-businessobject-list',\n    context: {\n      element: element,\n      currentObject: businessObject,\n      propertyName: listPropertyName,\n      referencePropertyName: referencePropertyName,\n      objectsToRemove: objectsToRemove\n    }\n  };\n};\n\n\nCmdHelper.addAndRemoveElementsFromList = function(element, businessObject, listPropertyName, referencePropertyName, objectsToAdd, objectsToRemove) {\n\n  return {\n    cmd: 'properties-panel.update-businessobject-list',\n    context: {\n      element: element,\n      currentObject: businessObject,\n      propertyName: listPropertyName,\n      referencePropertyName: referencePropertyName,\n      objectsToAdd: objectsToAdd,\n      objectsToRemove: objectsToRemove\n    }\n  };\n};\n\n\nCmdHelper.setList = function(element, businessObject, listPropertyName, updatedObjectList) {\n  return {\n    cmd: 'properties-panel.update-businessobject-list',\n    context: {\n      element: element,\n      currentObject: businessObject,\n      propertyName: listPropertyName,\n      updatedObjectList: updatedObjectList\n    }\n  };\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\n// input entities\nvar textInputField = require('./TextInputEntryFactory'),\n    checkboxField = require('./CheckboxEntryFactory'),\n    selectBoxField = require('./SelectEntryFactory'),\n    comboBoxField = require('./ComboEntryFactory'),\n    textBoxField = require('./TextBoxEntryFactory'),\n    validationAwareTextInputField = require('./ValidationAwareTextInput'),\n    tableField = require('./TableEntryFactory'),\n    labelEntry = require('./LabelFactory'),\n    link = require('./LinkEntryFactory'),\n    autoSuggestTextBoxField = require('./AutoSuggestTextBoxFactory'),\n    collapsible = require('./CollapsibleEntryFactory'),\n    toggleSwitch = require('./ToggleSwitchEntryFactory');\n\nvar cmdHelper = require('../helper/CmdHelper');\n\n// helpers ////////////////////////////////////////\n\nfunction ensureNotNull(prop) {\n  if (!prop) {\n    throw new Error(prop + ' must be set.');\n  }\n\n  return prop;\n}\n\n/**\n * sets the default parameters which are needed to create an entry\n *\n * @param options\n * @returns {{id: *, description: (*|string), get: (*|Function), set: (*|Function),\n *            validate: (*|Function), html: string}}\n */\nvar setDefaultParameters = function(options) {\n\n  // default method to fetch the current value of the input field\n  var defaultGet = function(element) {\n    var bo = getBusinessObject(element),\n        res = {},\n        prop = ensureNotNull(options.modelProperty);\n    res[prop] = bo.get(prop);\n\n    return res;\n  };\n\n  // default method to set a new value to the input field\n  var defaultSet = function(element, values) {\n    var res = {},\n        prop = ensureNotNull(options.modelProperty);\n    if (values[prop] !== '') {\n      res[prop] = values[prop];\n    } else {\n      res[prop] = undefined;\n    }\n\n    return cmdHelper.updateProperties(element, res);\n  };\n\n  // default validation method\n  var defaultValidate = function() {\n    return {};\n  };\n\n  return {\n    id : options.id,\n    description : (options.description || ''),\n    get : (options.get || defaultGet),\n    set : (options.set || defaultSet),\n    validate : (options.validate || defaultValidate),\n    html: ''\n  };\n};\n\nfunction EntryFactory() {\n\n}\n\n/**\n * Generates an text input entry object for a property panel.\n * options are:\n * - id: id of the entry - String\n *\n * - description: description of the property - String\n *\n * - label: label for the input field - String\n *\n * - set: setter method - Function\n *\n * - get: getter method - Function\n *\n * - validate: validation mehtod - Function\n *\n * - modelProperty: name of the model property - String\n *\n * - buttonAction: Object which contains the following properties: - Object\n * ---- name: name of the [data-action] callback - String\n * ---- method: callback function for [data-action] - Function\n *\n * - buttonShow: Object which contains the following properties: - Object\n * ---- name: name of the [data-show] callback - String\n * ---- method: callback function for [data-show] - Function\n *\n * @param options\n * @returns the propertyPanel entry resource object\n */\nEntryFactory.textField = function(translate, options) {\n  return textInputField(translate, options, setDefaultParameters(options));\n};\n\nEntryFactory.validationAwareTextField = function(translate, options) {\n  return validationAwareTextInputField(translate, options, setDefaultParameters(options));\n};\n\n/**\n * Generates a checkbox input entry object for a property panel.\n * options are:\n * - id: id of the entry - String\n *\n * - description: description of the property - String\n *\n * - label: label for the input field - String\n *\n * - set: setter method - Function\n *\n * - get: getter method - Function\n *\n * - validate: validation method - Function\n *\n * - modelProperty: name of the model property - String\n *\n * @param options\n * @returns the propertyPanel entry resource object\n */\nEntryFactory.checkbox = function(translate, options) {\n  return checkboxField(translate, options, setDefaultParameters(options));\n};\n\nEntryFactory.textBox = function(translate, options) {\n  return textBoxField(translate, options, setDefaultParameters(options));\n};\n\nEntryFactory.selectBox = function(translate, options) {\n  return selectBoxField(translate, options, setDefaultParameters(options));\n};\n\nEntryFactory.comboBox = function(translate, options) {\n  return comboBoxField(translate, options);\n};\n\nEntryFactory.table = function(translate, options) {\n  return tableField(translate, options);\n};\n\nEntryFactory.label = function(options) {\n  return labelEntry(options);\n};\n\nEntryFactory.link = function(translate, options) {\n  return link(translate, options);\n};\n\nEntryFactory.autoSuggest = function(translate, options) {\n  return autoSuggestTextBoxField(translate, options, setDefaultParameters(options));\n};\n\nEntryFactory.collapsible = function(options) {\n  return collapsible(options);\n};\n\nEntryFactory.toggleSwitch = function(translate, options) {\n  return toggleSwitch(translate, options, setDefaultParameters(options));\n};\n\nmodule.exports = EntryFactory;\n","'use strict';\n\nvar domQuery = require('min-dom').query,\n    domClear = require('min-dom').clear,\n    domClasses = require('min-dom').classes,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    forEach = require('lodash/forEach'),\n    domify = require('min-dom').domify,\n    Ids = require('ids').default;\n\nvar SPACE_REGEX = /\\s/;\n\n// for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\nvar QNAME_REGEX = /^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i;\n\n// for ID validation as per BPMN Schema (QName - Namespace)\nvar ID_REGEX = /^[a-z_][\\w-.]*$/i;\n\nvar HTML_ESCAPE_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\nfunction selectedOption(selectBox) {\n  if (selectBox.selectedIndex >= 0) {\n    return selectBox.options[selectBox.selectedIndex].value;\n  }\n}\n\nmodule.exports.selectedOption = selectedOption;\n\n\nfunction selectedType(elementSyntax, inputNode) {\n  var typeSelect = domQuery(elementSyntax, inputNode);\n  return selectedOption(typeSelect);\n}\n\nmodule.exports.selectedType = selectedType;\n\n\n/**\n * Retrieve the root element the document this\n * business object is contained in.\n *\n * @return {ModdleElement}\n */\nfunction getRoot(businessObject) {\n  var parent = businessObject;\n  while (parent.$parent) {\n    parent = parent.$parent;\n  }\n  return parent;\n}\n\nmodule.exports.getRoot = getRoot;\n\n\n/**\n * filters all elements in the list which have a given type.\n * removes a new list\n */\nfunction filterElementsByType(objectList, type) {\n  var list = objectList || [];\n  var result = [];\n  forEach(list, function(obj) {\n    if (is(obj, type)) {\n      result.push(obj);\n    }\n  });\n  return result;\n}\n\nmodule.exports.filterElementsByType = filterElementsByType;\n\n\nfunction findRootElementsByType(businessObject, referencedType) {\n  var root = getRoot(businessObject);\n\n  return filterElementsByType(root.rootElements, referencedType);\n}\n\nmodule.exports.findRootElementsByType = findRootElementsByType;\n\n\nfunction removeAllChildren(domElement) {\n  while (domElement.firstChild) {\n    domElement.removeChild(domElement.firstChild);\n  }\n}\n\nmodule.exports.removeAllChildren = removeAllChildren;\n\n\n/**\n * adds an empty option to the list\n */\nfunction addEmptyParameter(list) {\n  return list.push({ 'label': '', 'value': '', 'name': '' });\n}\n\nmodule.exports.addEmptyParameter = addEmptyParameter;\n\n\n/**\n * returns a list with all root elements for the given parameter 'referencedType'\n */\nfunction refreshOptionsModel(businessObject, referencedType) {\n  var model = [];\n  var referableObjects = findRootElementsByType(businessObject, referencedType);\n  forEach(referableObjects, function(obj) {\n    model.push({\n      label: (obj.name || '') + ' (id='+obj.id+')',\n      value: obj.id,\n      name: obj.name\n    });\n  });\n  return model;\n}\n\nmodule.exports.refreshOptionsModel = refreshOptionsModel;\n\n\n/**\n * fills the drop down with options\n */\nfunction updateOptionsDropDown(domSelector, businessObject, referencedType, entryNode) {\n  var options = refreshOptionsModel(businessObject, referencedType);\n  addEmptyParameter(options);\n  var selectBox = domQuery(domSelector, entryNode);\n  domClear(selectBox);\n\n  forEach(options, function(option) {\n    var optionEntry = domify('<option value=\"' + escapeHTML(option.value) + '\">' + escapeHTML(option.label) + '</option>');\n    selectBox.appendChild(optionEntry);\n  });\n  return options;\n}\n\nmodule.exports.updateOptionsDropDown = updateOptionsDropDown;\n\n\n/**\n * checks whether the id value is valid\n *\n * @param {ModdleElement} bo\n * @param {String} idValue\n * @param {Function} translate\n *\n * @return {String} error message\n */\nfunction isIdValid(bo, idValue, translate) {\n  var assigned = bo.$model.ids.assigned(idValue);\n\n  var idExists = assigned && assigned !== bo;\n\n  if (!idValue || idExists) {\n    return translate('Element must have an unique id.');\n  }\n\n  return validateId(idValue, translate);\n}\n\nmodule.exports.isIdValid = isIdValid;\n\n\nfunction validateId(idValue, translate) {\n\n  if (containsSpace(idValue)) {\n    return translate('Id must not contain spaces.');\n  }\n\n  if (!ID_REGEX.test(idValue)) {\n\n    if (QNAME_REGEX.test(idValue)) {\n      return translate('Id must not contain prefix.');\n    }\n\n    return translate('Id must be a valid QName.');\n  }\n}\n\nmodule.exports.validateId = validateId;\n\n\nfunction containsSpace(value) {\n  return SPACE_REGEX.test(value);\n}\n\nmodule.exports.containsSpace = containsSpace;\n\n/**\n * generate a semantic id with given prefix\n */\nfunction nextId(prefix) {\n  var ids = new Ids([32,32,1]);\n\n  return ids.nextPrefixed(prefix);\n}\n\nmodule.exports.nextId = nextId;\n\n\nfunction triggerClickEvent(element) {\n  var evt;\n  var eventType = 'click';\n\n  if (document.createEvent) {\n    try {\n\n      // Chrome, Safari, Firefox\n      evt = new MouseEvent((eventType), { view: window, bubbles: true, cancelable: true });\n    } catch (e) {\n\n      // IE 11, PhantomJS (wat!)\n      evt = document.createEvent('MouseEvent');\n\n      evt.initEvent((eventType), true, true);\n    }\n    return element.dispatchEvent(evt);\n  } else {\n\n    // Welcome IE\n    evt = document.createEventObject();\n\n    return element.fireEvent('on' + eventType, evt);\n  }\n}\n\nmodule.exports.triggerClickEvent = triggerClickEvent;\n\n\nfunction escapeHTML(str) {\n  str = '' + str;\n\n  return str && str.replace(/[&<>\"']/g, function(match) {\n    return HTML_ESCAPE_MAP[match];\n  });\n}\n\nmodule.exports.escapeHTML = escapeHTML;\n\nfunction createDropdown(dropdown) {\n  var menu = dropdown.menu;\n\n  var dropdownNode = domify(\n    '<div class=\"group__dropdown\">' +\n      '<button class=\"group__dropdown-button\">' +\n      '<svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 192 512\"><path fill=\"currentColor\" d=\"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z\"></path></svg>' +\n      '</button>' +\n      '<div class=\"group__dropdown-menu\"></div>' +\n    '</div>'\n  );\n\n  var buttonNode = domQuery('.group__dropdown-button', dropdownNode),\n      menuNode = domQuery('.group__dropdown-menu', dropdownNode);\n\n  buttonNode.addEventListener('click', function(event) {\n    domClasses(dropdownNode).toggle('group__dropdown--open');\n\n    createOnGlobalClick(event);\n  });\n\n  forEach(menu, function(menuItem) {\n    var menuItemNode = domify('<div class=\"group__dropdown-menu-item\" data-dropdown-action=\"' +\n      menuItem.id +\n      '\">' + escapeHTML(menuItem.label) + '</div>');\n\n    menuItemNode.addEventListener('click', function() {\n      menuItem.onClick();\n\n      domClasses(dropdownNode).remove('group__dropdown--open');\n    });\n\n    menuNode.appendChild(menuItemNode);\n  });\n\n  var _onGlobalClick;\n\n  function createOnGlobalClick(_event) {\n    function onGlobalClick(event) {\n      if (event === _event) {\n        return;\n      }\n\n      var target = event.target;\n\n      if (menuNode !== target && !menuNode.contains(target)) {\n        domClasses(dropdownNode).remove('group__dropdown--open');\n\n        document.removeEventListener('click', onGlobalClick);\n      }\n    }\n\n    if (_onGlobalClick) {\n      document.removeEventListener('click', _onGlobalClick);\n    }\n\n    document.addEventListener('click', onGlobalClick);\n\n    _onGlobalClick = onGlobalClick;\n  }\n\n  return dropdownNode;\n}\n\nmodule.exports.createDropdown = createDropdown;","import {\n  some\n} from 'min-dash';\n\nimport { is } from '../../../util/ModelUtil';\n\n\n/**\n * Return true if element has any of the given types.\n *\n * @param {djs.model.Base} element\n * @param {Array<string>} types\n *\n * @return {boolean}\n */\nexport function isAny(element, types) {\n  return some(types, function(t) {\n    return is(element, t);\n  });\n}\n\n\n/**\n * Return the parent of the element with any of the given types.\n *\n * @param {djs.model.Base} element\n * @param {string|Array<string>} anyType\n *\n * @return {djs.model.Base}\n */\nexport function getParent(element, anyType) {\n\n  if (typeof anyType === 'string') {\n    anyType = [ anyType ];\n  }\n\n  while ((element = element.parent)) {\n    if (isAny(element, anyType)) {\n      return element;\n    }\n  }\n\n  return null;\n}","'use strict';\n\nvar ElementHelper = {};\nmodule.exports = ElementHelper;\n\n/**\n * Creates a new element and set the parent to it\n *\n * @method ElementHelper#createElement\n *\n * @param {String} elementType of the new element\n * @param {Object} properties of the new element in key-value pairs\n * @param {moddle.object} parent of the new element\n * @param {BpmnFactory} factory which creates the new element\n *\n * @returns {djs.model.Base} element which is created\n */\nElementHelper.createElement = function(elementType, properties, parent, factory) {\n  var element = factory.create(elementType, properties);\n  element.$parent = parent;\n\n  return element;\n};\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny;\n\nvar find = require('lodash/find');\n\nvar TEMPLATE_ID_ATTR = 'camunda:modelerTemplate',\n    TEMPLATE_VERSION_ATTR = 'camunda:modelerTemplateVersion';\n\n/**\n * The BPMN 2.0 extension attribute name under\n * which the element template ID is stored.\n *\n * @type {String}\n */\nmodule.exports.TEMPLATE_ID_ATTR = TEMPLATE_ID_ATTR;\n\n/**\n * The BPMN 2.0 extension attribute name under\n * which the element template version is stored.\n *\n * @type {String}\n */\nmodule.exports.TEMPLATE_VERSION_ATTR = TEMPLATE_VERSION_ATTR;\n\n\n/**\n * Get template id for a given diagram element.\n *\n * @param {djs.model.Base} element\n *\n * @return {String}\n */\nfunction getTemplateId(element) {\n\n  var bo = getBusinessObject(element);\n\n  if (bo) {\n    return bo.get(TEMPLATE_ID_ATTR);\n  }\n}\n\nmodule.exports.getTemplateId = getTemplateId;\n\n/**\n * Get template version for a given diagram element.\n *\n * @param {djs.model.Base} element\n *\n * @return {String}\n */\nfunction getTemplateVersion(element) {\n\n  var bo = getBusinessObject(element);\n\n  if (bo) {\n    return bo.get(TEMPLATE_VERSION_ATTR);\n  }\n}\n\nmodule.exports.getTemplateVersion = getTemplateVersion;\n\n\n/**\n * Find extension with given type in\n * BPMN element, diagram element or ExtensionElement.\n *\n * @param {ModdleElement|djs.model.Base} element\n * @param {String} type\n *\n * @return {ModdleElement} the extension\n */\nfunction findExtension(element, type) {\n  var bo = getBusinessObject(element);\n\n  var extensionElements;\n\n  if (is(bo, 'bpmn:ExtensionElements')) {\n    extensionElements = bo;\n  } else {\n    extensionElements = bo.extensionElements;\n  }\n\n  if (!extensionElements) {\n    return null;\n  }\n\n  return find(extensionElements.get('values'), function(e) {\n    return is(e, type);\n  });\n}\n\nmodule.exports.findExtension = findExtension;\n\n\nfunction findExtensions(element, types) {\n  var extensionElements = getExtensionElements(element);\n\n  if (!extensionElements) {\n    return [];\n  }\n\n  return extensionElements.get('values').filter(function(e) {\n    return isAny(e, types);\n  });\n}\n\nmodule.exports.findExtensions = findExtensions;\n\n\nfunction findCamundaInOut(element, binding) {\n\n  var extensionElements = getExtensionElements(element);\n\n  if (!extensionElements) {\n    return;\n  }\n\n  var matcher;\n\n  if (binding.type === 'camunda:in') {\n    matcher = function(e) {\n      return is(e, 'camunda:In') && isInOut(e, binding);\n    };\n  } else\n  if (binding.type === 'camunda:out') {\n    matcher = function(e) {\n      return is(e, 'camunda:Out') && isInOut(e, binding);\n    };\n  } else\n  if (binding.type === 'camunda:in:businessKey') {\n    matcher = function(e) {\n      return is(e, 'camunda:In') && 'businessKey' in e;\n    };\n  }\n\n  return find(extensionElements.get('values'), matcher);\n}\n\nmodule.exports.findCamundaInOut = findCamundaInOut;\n\nfunction findCamundaProperty(camundaProperties, binding) {\n  return find(camundaProperties.get('values'), function(p) {\n    return p.name === binding.name;\n  });\n}\n\nmodule.exports.findCamundaProperty = findCamundaProperty;\n\n\nfunction findInputParameter(inputOutput, binding) {\n  var parameters = inputOutput.get('inputParameters');\n\n  return find(parameters, function(p) {\n    return p.name === binding.name;\n  });\n}\n\nmodule.exports.findInputParameter = findInputParameter;\n\n\nfunction findOutputParameter(inputOutput, binding) {\n  var parameters = inputOutput.get('outputParameters');\n\n  return find(parameters, function(p) {\n    var value = p.value;\n\n    if (!binding.scriptFormat) {\n      return value === binding.source;\n    }\n\n    var definition = p.definition;\n\n    if (!definition || binding.scriptFormat !== definition.scriptFormat) {\n      return false;\n    }\n\n    return definition.value === binding.source;\n  });\n}\n\nmodule.exports.findOutputParameter = findOutputParameter;\n\n\n\n// helpers /////////////////////////////////\n\nfunction getExtensionElements(element) {\n  var bo = getBusinessObject(element);\n\n  if (is(bo, 'bpmn:ExtensionElements')) {\n    return bo;\n  } else {\n    return bo.extensionElements;\n  }\n}\n\n\nfunction isInOut(element, binding) {\n\n  if (binding.type === 'camunda:in') {\n\n    // find based on target attribute\n    if (binding.target) {\n      return element.target === binding.target;\n    }\n  }\n\n  if (binding.type === 'camunda:out') {\n\n    // find based on source / sourceExpression\n    if (binding.source) {\n      return element.source === binding.source;\n    }\n\n    if (binding.sourceExpression) {\n      return element.sourceExpression === binding.sourceExpression;\n    }\n  }\n\n  // find based variables / local combination\n  if (binding.variables) {\n    return element.variables === 'all' && (\n      binding.variables !== 'local' || element.local\n    );\n  }\n}\n","import {\n  is,\n  getBusinessObject\n} from './ModelUtil';\n\nimport {\n  forEach\n} from 'min-dash';\n\n\nexport function isExpanded(element) {\n\n  if (is(element, 'bpmn:CallActivity')) {\n    return false;\n  }\n\n  if (is(element, 'bpmn:SubProcess')) {\n    return getBusinessObject(element).di && !!getBusinessObject(element).di.isExpanded;\n  }\n\n  if (is(element, 'bpmn:Participant')) {\n    return !!getBusinessObject(element).processRef;\n  }\n\n  return true;\n}\n\nexport function isInterrupting(element) {\n  return element && getBusinessObject(element).isInterrupting !== false;\n}\n\nexport function isEventSubProcess(element) {\n  return element && !!getBusinessObject(element).triggeredByEvent;\n}\n\nexport function hasEventDefinition(element, eventType) {\n  var bo = getBusinessObject(element),\n      hasEventDefinition = false;\n\n  if (bo.eventDefinitions) {\n    forEach(bo.eventDefinitions, function(event) {\n      if (is(event, eventType)) {\n        hasEventDefinition = true;\n      }\n    });\n  }\n\n  return hasEventDefinition;\n}\n\nexport function hasErrorEventDefinition(element) {\n  return hasEventDefinition(element, 'bpmn:ErrorEventDefinition');\n}\n\nexport function hasEscalationEventDefinition(element) {\n  return hasEventDefinition(element, 'bpmn:EscalationEventDefinition');\n}\n\nexport function hasCompensateEventDefinition(element) {\n  return hasEventDefinition(element, 'bpmn:CompensateEventDefinition');\n}\n","'use strict';\n\nvar assign = require('lodash/assign');\n\n/**\n * Create an input parameter representing the given\n * binding and value.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createInputParameter(binding, value, bpmnFactory) {\n  var scriptFormat = binding.scriptFormat,\n      parameterValue,\n      parameterDefinition;\n\n  if (scriptFormat) {\n    parameterDefinition = bpmnFactory.create('camunda:Script', {\n      scriptFormat: scriptFormat,\n      value: value\n    });\n  } else {\n    parameterValue = value;\n  }\n\n  return bpmnFactory.create('camunda:InputParameter', {\n    name: binding.name,\n    value: parameterValue,\n    definition: parameterDefinition\n  });\n}\n\nmodule.exports.createInputParameter = createInputParameter;\n\n\n/**\n * Create an output parameter representing the given\n * binding and value.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createOutputParameter(binding, value, bpmnFactory) {\n  var scriptFormat = binding.scriptFormat,\n      parameterValue,\n      parameterDefinition;\n\n  if (scriptFormat) {\n    parameterDefinition = bpmnFactory.create('camunda:Script', {\n      scriptFormat: scriptFormat,\n      value: binding.source\n    });\n  } else {\n    parameterValue = binding.source;\n  }\n\n  return bpmnFactory.create('camunda:OutputParameter', {\n    name: value,\n    value: parameterValue,\n    definition: parameterDefinition\n  });\n}\n\nmodule.exports.createOutputParameter = createOutputParameter;\n\n\n/**\n * Create camunda property from the given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaProperty(binding, value, bpmnFactory) {\n  return bpmnFactory.create('camunda:Property', {\n    name: binding.name,\n    value: value || ''\n  });\n}\n\nmodule.exports.createCamundaProperty = createCamundaProperty;\n\n\n/**\n * Create camunda:in element from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaIn(binding, value, bpmnFactory) {\n\n  var properties = createCamundaInOutAttrs(binding, value);\n\n  return bpmnFactory.create('camunda:In', properties);\n}\n\nmodule.exports.createCamundaIn = createCamundaIn;\n\n\n/**\n * Create camunda:in with businessKey element from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaInWithBusinessKey(binding, value, bpmnFactory) {\n  return bpmnFactory.create('camunda:In', {\n    businessKey: value\n  });\n}\n\nmodule.exports.createCamundaInWithBusinessKey = createCamundaInWithBusinessKey;\n\n\n/**\n * Create camunda:out element from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaOut(binding, value, bpmnFactory) {\n  var properties = createCamundaInOutAttrs(binding, value);\n\n  return bpmnFactory.create('camunda:Out', properties);\n}\n\nmodule.exports.createCamundaOut = createCamundaOut;\n\n\n/**\n * Create camunda:executionListener element containing an inline script from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaExecutionListenerScript(binding, value, bpmnFactory) {\n  var scriptFormat = binding.scriptFormat,\n      parameterValue,\n      parameterDefinition;\n\n  if (scriptFormat) {\n    parameterDefinition = bpmnFactory.create('camunda:Script', {\n      scriptFormat: scriptFormat,\n      value: value\n    });\n  } else {\n    parameterValue = value;\n  }\n\n  return bpmnFactory.create('camunda:ExecutionListener', {\n    event: binding.event,\n    value: parameterValue,\n    script: parameterDefinition\n  });\n}\n\nmodule.exports.createCamundaExecutionListenerScript = createCamundaExecutionListenerScript;\n\n/**\n * Create camunda:field element containing string or expression from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaFieldInjection(binding, value, bpmnFactory) {\n  var DEFAULT_PROPS = {\n    'string': undefined,\n    'expression': undefined,\n    'name': undefined\n  };\n\n  var props = assign({}, DEFAULT_PROPS);\n\n  if (!binding.expression) {\n    props.string = value;\n  } else {\n    props.expression = value;\n  }\n  props.name = binding.name;\n\n  return bpmnFactory.create('camunda:Field', props);\n}\nmodule.exports.createCamundaFieldInjection = createCamundaFieldInjection;\n\n\n// helpers ////////////////////////////\n\n/**\n * Create properties for camunda:in and camunda:out types.\n */\nfunction createCamundaInOutAttrs(binding, value) {\n\n  var properties = {};\n\n  // camunda:in source(Expression) target\n  if (binding.target) {\n\n    properties.target = binding.target;\n\n    if (binding.expression) {\n      properties.sourceExpression = value;\n    } else {\n      properties.source = value;\n    }\n  } else\n\n  // camunda:(in|out) variables local\n  if (binding.variables) {\n    properties.variables = 'all';\n\n    if (binding.variables === 'local') {\n      properties.local = true;\n    }\n  }\n\n  // camunda:out source(Expression) target\n  else {\n    properties.target = value;\n\n    [ 'source', 'sourceExpression' ].forEach(function(k) {\n      if (binding[k]) {\n        properties[k] = binding[k];\n      }\n    });\n  }\n\n  return properties;\n}\n","'use strict';\n\nvar cmdHelper = require('./CmdHelper'),\n    elementHelper = require('./ElementHelper');\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar ExtensionElementsHelper = {};\n\nvar getExtensionElements = function(bo) {\n  return bo.get('extensionElements');\n};\n\nExtensionElementsHelper.getExtensionElements = function(bo, type) {\n  var extensionElements = getExtensionElements(bo);\n  if (typeof extensionElements !== 'undefined') {\n    var extensionValues = extensionElements.get('values');\n    if (typeof extensionValues !== 'undefined') {\n      var elements = extensionValues.filter(function(value) {\n        return is(value, type);\n      });\n      if (elements.length) {\n        return elements;\n      }\n    }\n  }\n};\n\nExtensionElementsHelper.addEntry = function(bo, element, entry, bpmnFactory) {\n  var extensionElements = bo.get('extensionElements');\n\n  // if there is no extensionElements list, create one\n  if (!extensionElements) {\n\n    // TODO: Ask Daniel which operation costs more\n    extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [entry] }, bo, bpmnFactory);\n    return { extensionElements : extensionElements };\n  } else {\n\n    // add new failedJobRetryExtensionElement to existing extensionElements list\n    return cmdHelper.addElementsTolist(element, extensionElements, 'values', [entry]);\n  }\n};\n\nExtensionElementsHelper.removeEntry = function(bo, element, entry) {\n  var extensionElements = bo.get('extensionElements');\n\n  if (!extensionElements) {\n\n    // return an empty command when there is no extensionElements list\n    return {};\n  }\n\n  return cmdHelper.removeElementsFromList(element, extensionElements, 'values', 'extensionElements', [entry]);\n};\n\nmodule.exports = ExtensionElementsHelper;\n","/**\n * Failsafe remove an element from a collection\n *\n * @param  {Array<Object>} [collection]\n * @param  {Object} [element]\n *\n * @return {number} the previous index of the element\n */\nexport function remove(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  var idx = collection.indexOf(element);\n\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  }\n\n  return idx;\n}\n\n/**\n * Fail save add an element to the given connection, ensuring\n * it does not yet exist.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n * @param {number} idx\n */\nexport function add(collection, element, idx) {\n\n  if (!collection || !element) {\n    return;\n  }\n\n  if (typeof idx !== 'number') {\n    idx = -1;\n  }\n\n  var currentIdx = collection.indexOf(element);\n\n  if (currentIdx !== -1) {\n\n    if (currentIdx === idx) {\n\n      // nothing to do, position has not changed\n      return;\n    } else {\n\n      if (idx !== -1) {\n\n        // remove from current position\n        collection.splice(currentIdx, 1);\n      } else {\n\n        // already exists in collection\n        return;\n      }\n    }\n  }\n\n  if (idx !== -1) {\n\n    // insert at specified position\n    collection.splice(idx, 0, element);\n  } else {\n\n    // push to end\n    collection.push(element);\n  }\n}\n\n\n/**\n * Fail save get the index of an element in a collection.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n *\n * @return {number} the index or -1 if collection or element do\n *                  not exist or the element is not contained.\n */\nexport function indexOf(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  return collection.indexOf(element);\n}\n","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n","'use strict';\n\nvar domify = require('min-dom').domify,\n    domClasses = require('min-dom').classes,\n    domEvent = require('min-dom').event;\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar MAX_DESCRIPTION_LENGTH = 200;\n\n/**\n * Create a linkified and HTML escaped entry field description.\n *\n * As a special feature, this description may contain both markdown,\n * plain <a href> links and <br />\n *\n * @param {string} description\n * @param {object} [options]\n * @param {string} [options.show] - name of callback to determine whether description is shown\n */\nmodule.exports = function entryFieldDescription(translate, description, options) {\n  var show = options && options.show;\n\n  // we tokenize the description to extract text, HTML and markdown links\n  // text, links and new lines are handled seperately\n\n  var escaped = [];\n\n  // match markdown [{TEXT}]({URL}) and HTML links <a href=\"{URL}\">{TEXT}</a>\n  var pattern = /(?:\\[([^\\]]+)\\]\\((https?:\\/\\/[^)]+)\\))|(?:<a href=\"(https?:\\/\\/[^\"]+)\">(.+?(?=<\\/))<\\/a>)/gi;\n\n  var index = 0;\n  var match;\n  var link, text;\n\n  while ((match = pattern.exec(description))) {\n\n    // escape + insert text before match\n    if (match.index > index) {\n      escaped.push(escapeText(description.substring(index, match.index)));\n    }\n\n    link = match[2] && encodeURI(match[2]) || match[3];\n    text = match[1] || match[4];\n\n    // insert safe link\n    escaped.push('<a href=\"' + link + '\" target=\"_blank\">' + escapeText(text) + '</a>');\n\n    index = match.index + match[0].length;\n  }\n\n  // escape and insert text after last match\n  if (index < description.length) {\n    escaped.push(escapeText(description.substring(index)));\n  }\n\n  description = escaped.join('');\n\n  var html = domify(\n    '<div class=\"bpp-field-description description description--expanded\"' +\n    (show ? 'data-show=\"' + show + '\">' : '>') +\n    '</div>'\n  );\n\n  var descriptionText = domify('<span class=\"description__text\">' + description + '</span>');\n\n  html.appendChild(descriptionText);\n\n  function toggleExpanded(expanded) {\n    if (expanded) {\n      domClasses(html).add('description--expanded');\n\n      descriptionText.textContent = description + ' ';\n\n      expand.textContent = translate('Less');\n    } else {\n      domClasses(html).remove('description--expanded');\n\n      descriptionText.textContent = descriptionShortened + ' ... ';\n\n      expand.textContent = translate('More');\n    }\n  }\n\n  var descriptionShortened,\n      expand,\n      expanded = false;\n\n  if (description.length > MAX_DESCRIPTION_LENGTH) {\n    descriptionShortened = description.slice(0, MAX_DESCRIPTION_LENGTH);\n\n    expand = domify(\n      '<span class=\"bpp-entry-link description__expand\">' +\n        translate('More') +\n      '</span>'\n    );\n\n    domEvent.bind(expand, 'click', function() {\n      expanded = !expanded;\n\n      toggleExpanded(expanded);\n    });\n\n    html.appendChild(expand);\n\n    toggleExpanded(expanded);\n  }\n\n  return html;\n};\n\nfunction escapeText(text) {\n  var match, index = 0, escaped = [];\n\n  // match new line <br/> <br /> <br.... /> etc.\n  var pattern = /<br\\s*\\/?>/gi;\n\n  while ((match = pattern.exec(text))) {\n\n    if (match.index > index) {\n      escaped.push(escapeHTML(text.substring(index, match.index)));\n    }\n\n    escaped.push('<br />');\n\n    index = match.index + match[0].length;\n  }\n\n  if (index < text.length) {\n    escaped.push(escapeHTML(text.substring(index)));\n  }\n\n  return escaped.join('');\n}","module.exports = require('./lib');\n","module.exports = {\n  __depends__: [\n    require('./element-templates'),\n    require('diagram-js/lib/i18n/translate').default\n  ],\n  __init__: [ 'propertiesProvider' ],\n  propertiesProvider: [ 'type', require('./CamundaPropertiesProvider') ]\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    forEach = require('lodash/forEach');\n\nvar EventDefinitionHelper = {};\n\nmodule.exports = EventDefinitionHelper;\n\nEventDefinitionHelper.getEventDefinition = function(element, eventType) {\n\n  var bo = getBusinessObject(element),\n      eventDefinition = null;\n\n  if (bo.eventDefinitions) {\n    forEach(bo.eventDefinitions, function(event) {\n      if (is(event, eventType)) {\n        eventDefinition = event;\n      }\n    });\n  }\n\n  return eventDefinition;\n};\n\nEventDefinitionHelper.getTimerEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:TimerEventDefinition');\n};\n\nEventDefinitionHelper.getMessageEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:MessageEventDefinition');\n};\n\nEventDefinitionHelper.getSignalEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:SignalEventDefinition');\n};\n\nEventDefinitionHelper.getErrorEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:ErrorEventDefinition');\n};\n\nEventDefinitionHelper.getEscalationEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:EscalationEventDefinition');\n};\n\nEventDefinitionHelper.getCompensateEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:CompensateEventDefinition');\n};\n\nEventDefinitionHelper.getLinkEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:LinkEventDefinition');\n};\n\nEventDefinitionHelper.getConditionalEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:ConditionalEventDefinition');\n};\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","'use strict';\n\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\n    is = ModelUtil.is,\n    getBusinessObject = ModelUtil.getBusinessObject;\n\nvar eventDefinitionHelper = require('./EventDefinitionHelper');\nvar extensionsElementHelper = require('./ExtensionElementsHelper');\n\nvar ImplementationTypeHelper = {};\n\nmodule.exports = ImplementationTypeHelper;\n\n/**\n * Returns 'true' if the given element is 'camunda:ServiceTaskLike'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isServiceTaskLike = function(element) {\n  return is(element, 'camunda:ServiceTaskLike');\n};\n\n/**\n * Returns 'true' if the given element is 'camunda:DmnCapable'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isDmnCapable = function(element) {\n  return is(element, 'camunda:DmnCapable');\n};\n\n/**\n * Returns 'true' if the given element is 'camunda:ExternalCapable'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isExternalCapable = function(element) {\n  return is(element, 'camunda:ExternalCapable');\n};\n\n/**\n * Returns 'true' if the given element is 'camunda:TaskListener'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isTaskListener = function(element) {\n  return is(element, 'camunda:TaskListener');\n};\n\n/**\n * Returns 'true' if the given element is 'camunda:ExecutionListener'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isExecutionListener = function(element) {\n  return is(element, 'camunda:ExecutionListener');\n};\n\n/**\n * Returns 'true' if the given element is 'camunda:ExecutionListener' or\n * 'camunda:TaskListener'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isListener = function(element) {\n  return this.isTaskListener(element) || this.isExecutionListener(element);\n};\n\n/**\n * Returns 'true' if the given element is 'bpmn:SequenceFlow'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isSequenceFlow = function(element) {\n  return is(element, 'bpmn:SequenceFlow');\n};\n\n/**\n * Get a 'camunda:ServiceTaskLike' business object.\n *\n * If the given element is not a 'camunda:ServiceTaskLike', then 'false'\n * is returned.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement} the 'camunda:ServiceTaskLike' business object\n */\nImplementationTypeHelper.getServiceTaskLikeBusinessObject = function(element) {\n \n  if (is(element, 'bpmn:IntermediateThrowEvent') || is(element, 'bpmn:EndEvent')) {\n\n    // change business object to 'messageEventDefinition' when\n    // the element is a message intermediate throw event or message end event\n    // because the camunda extensions (e.g. camunda:class) are in the message\n    // event definition tag and not in the intermediate throw event or end event tag\n    var messageEventDefinition = eventDefinitionHelper.getMessageEventDefinition(element);\n    if (messageEventDefinition) {\n      element = messageEventDefinition;\n    }\n  }\n\n  return this.isServiceTaskLike(element) && getBusinessObject(element);\n\n};\n\n/**\n * Returns the implementation type of the given element.\n *\n * Possible implementation types are:\n * - dmn\n * - connector\n * - external\n * - class\n * - expression\n * - delegateExpression\n * - script\n * - or undefined, when no matching implementation type is found\n *\n * @param  {djs.model.Base} element\n *\n * @return {String} the implementation type\n */\nImplementationTypeHelper.getImplementationType = function(element) {\n\n  var bo = this.getServiceTaskLikeBusinessObject(element);\n\n  if (!bo) {\n    if (this.isListener(element)) {\n      bo = element;\n    } else {\n      return;\n    }\n  }\n\n  if (this.isDmnCapable(bo)) {\n    var decisionRef = bo.get('camunda:decisionRef');\n    if (typeof decisionRef !== 'undefined') {\n      return 'dmn';\n    }\n  }\n\n  if (this.isServiceTaskLike(bo)) {\n    var connectors = extensionsElementHelper.getExtensionElements(bo, 'camunda:Connector');\n    if (typeof connectors !== 'undefined') {\n      return 'connector';\n    }\n  }\n\n  if (this.isExternalCapable(bo)) {\n    var type = bo.get('camunda:type');\n    if (type === 'external') {\n      return 'external';\n    }\n  }\n\n  var cls = bo.get('camunda:class');\n  if (typeof cls !== 'undefined') {\n    return 'class';\n  }\n\n  var expression = bo.get('camunda:expression');\n  if (typeof expression !== 'undefined') {\n    return 'expression';\n  }\n\n  var delegateExpression = bo.get('camunda:delegateExpression');\n  if (typeof delegateExpression !== 'undefined') {\n    return 'delegateExpression';\n  }\n\n  if (this.isListener(bo)) {\n    var script = bo.get('script');\n    if (typeof script !== 'undefined') {\n      return 'script';\n    }\n  }\n\n};\n","// export const SERVER_URL = \"http://41.230.29.238:8081/ISO-1-0.0.1-SNAPSHOT\"\n/*********************************** Kubrnetes ********************************************/\n/*\nexport const USER_SERVICE = \"http://192.168.49.2:9021/user\"\nexport const FORM_SERVICE = \"http://192.168.49.2:9006/form\"\nexport const SCRIPT_SERVICE = \"http://192.168.49.2:9019/script\"\nexport const MAIL_NOTIFICATION_SERVICE = \"http://192.168.49.2:9010/mail-notification\"\n*/\n\n/*** kuberntes test *****/\n\n/*export const PROCESS_SERVICE = \"http://localhost:8080/process/process\"\nexport const USER_SERVICE = \"http://localhost:8080/user/user\"\nexport const FORM_SERVICE = \"http://localhost:8080/form/form\"\nexport const SCRIPT_SERVICE = \"http://localhost:8080/script/script\"\nexport const MAIL_NOTIFICATION_SERVICE = \"http://localhost:8080/mail-notification/mail-notification\"*/\n/************************** public access ******************/\n/*\nexport const PROCESS_SERVICE = \"http://41.230.29.238:8081/process/process\"\nexport const USER_SERVICE = \"http://41.230.29.238:8081/user/user\"\nexport const FORM_SERVICE = \"http://41.230.29.238:8081/form/form\"\nexport const SCRIPT_SERVICE = \"http://41.230.29.238:8081/script/script\"\nexport const MAIL_NOTIFICATION_SERVICE = \"http://41.230.29.238:8081/mail-notification/mail-notification\"\n*/\n\n/**************\n * private access\n */\nexport const PROCESS_SERVICE = \"http://192.168.100.24:8080/process/process\"\nexport const USER_SERVICE = \"http://192.168.100.24:8080/user/user\"\nexport const FORM_SERVICE = \"http://192.168.100.24:8080/form/form\"\nexport const SCRIPT_SERVICE = \"http://192.168.100.24:8080/script/script\"\nexport const MAIL_NOTIFICATION_SERVICE = \"http://192.168.100.24:8080/mail-notification/mail-notification\"\n\n/******************************** local tomcat**************************************************/\n/*\nexport const SERVER_URL = \"http://localhost:8082\"\nexport const USER_SERVICE = \"http://localhost:8080/webapp/user\"\nexport const FORM_SERVICE = \"http://localhost:8080/webapp/form\"\nexport const SCRIPT_SERVICE = \"http://localhost:8080/webapp/script\"\nexport const MAIL_NOTIFICATION_SERVICE = \"http://localhost:8080/webapp/mail-notification\"\n*/\n\n/********************************** external tomcat*********************************/\n/*\nexport const USER_SERVICE = \"http://41.230.29.238:8081/webapp/user\"\nexport const FORM_SERVICE = \"http://41.230.29.238:8081/webapp/form\"\nexport const SCRIPT_SERVICE = \"http://41.230.29.238:8081/webapp/script\"\nexport const MAIL_NOTIFICATION_SERVICE = \"http://41.230.29.238:8081/webapp/mail-notification\"\n*/\n","import translate from './translate';\n\nexport default {\n  translate: [ 'value', translate ]\n};","/**\n * A simple translation stub to be used for multi-language support\n * in diagrams. Can be easily replaced with a more sophisticated\n * solution.\n *\n * @example\n *\n * // use it inside any diagram component by injecting `translate`.\n *\n * function MyService(translate) {\n *   alert(translate('HELLO {you}', { you: 'You!' }));\n * }\n *\n * @param {string} template to interpolate\n * @param {Object} [replacements] a map with substitutes\n *\n * @return {string} the translated string\n */\nexport default function translate(template, replacements) {\n\n  replacements = replacements || {};\n\n  return template.replace(/{([^}]+)}/g, function(_, key) {\n    return replacements[key] || '{' + key + '}';\n  });\n}","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\n/**\n * Create an entry to modify a property of an element which\n * is referenced by a event definition.\n *\n * @param  {djs.model.Base} element\n * @param  {ModdleElement} definition\n * @param  {BpmnFactory} bpmnFactory\n * @param  {Object} options\n * @param  {string} options.id the id of the entry\n * @param  {string} options.label the label of the entry\n * @param  {string} options.referenceProperty the name of referencing property\n * @param  {string} options.modelProperty the name of property to modify\n * @param  {string} options.shouldValidate a flag indicate whether to validate or not\n *\n * @return {Array<Object>} return an array containing the entries\n */\nmodule.exports = function(element, definition, bpmnFactory, translate, options) {\n\n  var id = options.id || 'element-property';\n  var label = options.label;\n  var referenceProperty = options.referenceProperty;\n  var modelProperty = options.modelProperty || 'name';\n  var shouldValidate = options.shouldValidate || false;\n\n  var entry = entryFactory.textField(translate, {\n    id: id,\n    label: label,\n    modelProperty: modelProperty,\n\n    get: function(element, node) {\n      var reference = definition.get(referenceProperty);\n      var props = {};\n      props[modelProperty] = reference && reference.get(modelProperty);\n      return props;\n    },\n\n    set: function(element, values, node) {\n      var reference = definition.get(referenceProperty);\n      var props = {};\n      props[modelProperty] = values[modelProperty] || undefined;\n      return cmdHelper.updateBusinessObject(element, reference, props);\n    },\n\n    hidden: function(element, node) {\n      return !definition.get(referenceProperty);\n    }\n  });\n\n  if (shouldValidate) {\n    entry.validate = function(element, values, node) {\n      var reference = definition.get(referenceProperty);\n      if (reference && !values[modelProperty]) {\n        var validationErrors = {};\n        validationErrors[modelProperty] = 'Must provide a value';\n        return validationErrors;\n      }\n    };\n  }\n\n  return [ entry ];\n};\n"],"sourceRoot":""}