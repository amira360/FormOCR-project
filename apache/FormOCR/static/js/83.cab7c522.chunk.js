(this["webpackJsonpisct-group"]=this["webpackJsonpisct-group"]||[]).push([[83],{3078:function(e,t,n){"use strict";n.r(t);var a=n(39),c=n(13),r=n(89),i=n(1),s=n.n(i),o=n(633),l=n(115),j=n(3025),d=n(701),h=(n(719),n(816),n(817),n(818),n(819),n(821),n(822),n(697)),b=n(704),u=n(3120),m=n(3107),p=n(3113),x=n(3045),O=n(742),g=Object(j.a)((function(e){return{formControl:{margin:e.spacing(1),marginLeft:"0px !important",minWidth:220,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}})),f={PaperProps:{style:{maxHeight:224,width:250}}};t.default=Object(d.a)(Object(a.a)({},g),{withTheme:!0})((function(e){var t=s.a.useState(!0),n=Object(r.a)(t,2),a=(n[0],n[1],s.a.useState(!0)),j=Object(r.a)(a,2),d=(j[0],j[1],s.a.useState("")),v=Object(r.a)(d,2),S=v[0],N=v[1],w=s.a.useState(""),k=Object(r.a)(w,2),P=(k[0],k[1],s.a.useState("")),y=Object(r.a)(P,2),M=y[0],C=y[1],I=s.a.useState(""),A=Object(r.a)(I,2),L=(A[0],A[1],s.a.useState("")),B=Object(r.a)(L,2),T=B[0],D=(B[1],s.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainId)),E=Object(r.a)(D,2),F=E[0],J=(E[1],s.a.useState([])),H=Object(r.a)(J,2),V=H[0],z=H[1],_=s.a.useState([]),W=Object(r.a)(_,2),K=(W[0],W[1],s.a.useState("// Ajouter votre template")),X=Object(r.a)(K,2),Z=X[0],R=X[1],G=s.a.useState("// Ajouter votre header"),U=Object(r.a)(G,2),Y=U[0],q=U[1],Q=s.a.useState("// Ajouter votre footer"),$=Object(r.a)(Q,2),ee=$[0],te=$[1],ne=s.a.useState([]),ae=Object(r.a)(ne,2),ce=ae[0],re=ae[1],ie=s.a.useState(null),se=Object(r.a)(ie,2),oe=(se[0],se[1],g()),le=s.a.useState(localStorage.getItem("username")),je=Object(r.a)(le,2),de=je[0],he=(je[1],s.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainName)),be=Object(r.a)(he,2),ue=be[0];be[1];Object(i.useEffect)((function(){var e={method:"GET",headers:{"X-Tenant":ue,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")}};fetch(l.v+"/api/auth/role/getRoles",e).then((function(e){return e.json()})).then((function(e){console.log(e);var t=[];e.map((function(e){t.push({key:e.roleId,value:e.roleName,display:e.roleName})})),re(t),console.log(ce)})).catch((function(e){console.log(e)}))}),[]);return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(o.k,{xs:"12",sm:"12",children:Object(c.jsxs)(o.f,{children:[Object(c.jsx)(o.j,{children:Object(c.jsx)("h2",{children:"Cr\xe9er un template d'impression"})}),Object(c.jsx)(o.g,{children:Object(c.jsxs)(o.u,{noValidate:!0,children:[Object(c.jsxs)(o.v,{row:!0,className:"my-0",children:[Object(c.jsx)(o.k,{xs:"6",children:Object(c.jsxs)(o.v,{children:[Object(c.jsx)(o.H,{htmlFor:"printId",children:"S No"}),Object(c.jsx)(o.A,{id:"printId",disabled:!0})]})}),Object(c.jsx)(o.k,{xs:"6",children:Object(c.jsxs)(o.v,{children:[Object(c.jsx)(o.H,{htmlFor:"printName",children:"Nom"}),Object(c.jsx)(o.A,{id:"printName",onChange:function(e){return N(e.target.value)},value:S})]})})]}),Object(c.jsxs)(o.v,{row:!0,className:"my-0",children:[Object(c.jsx)(o.k,{xs:"6",children:Object(c.jsxs)(o.v,{children:[Object(c.jsx)(o.H,{htmlFor:"printVersion",children:"Version"}),Object(c.jsx)(o.A,{id:"printVersion",onChange:function(e){return C(e.target.value)},value:M})]})}),Object(c.jsx)(o.k,{xs:"6",children:Object(c.jsxs)(o.v,{children:[Object(c.jsx)(o.k,{xs:"12",children:Object(c.jsx)(o.H,{htmlFor:"AccessControl",children:"Contr\xf4le d'acc\xe8s"})}),Object(c.jsx)(o.k,{xs:"12",children:Object(c.jsx)(m.a,{style:{marginLeft:"0px !important",width:"100%",color:"black"},labelId:"demo-mutiple-chip-label",id:"accessControl",value:V,onChange:function(e){return z(e.target.value)},multiple:!0,input:Object(c.jsx)(x.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(c.jsx)("div",{className:oe.chips,style:{display:"flex",flexWrap:"wrap"},children:e.map((function(e){return Object(c.jsx)("div",{children:Object(c.jsx)(u.a,{onMouseDown:function(e){e.stopPropagation()},icon:undefined,label:e,onDelete:function(t){return function(e){var t=V.filter((function(t){return t!==e}));z(t)}(e)},className:oe.chip})},e)}))})},MenuProps:f,children:ce.map((function(e){return Object(c.jsx)(p.a,{value:e.value,children:e.display},e.value)}))})})]})})]}),Object(c.jsx)(o.f,{children:Object(c.jsx)(o.g,{children:Object(c.jsxs)(o.ab,{activeTab:"template",children:[Object(c.jsxs)(o.J,{variant:"tabs",children:[Object(c.jsx)(o.K,{children:Object(c.jsx)(o.L,{"data-tab":"template",children:"Template"})}),Object(c.jsx)(o.K,{children:Object(c.jsx)(o.L,{"data-tab":"header",children:"Header"})}),Object(c.jsx)(o.K,{children:Object(c.jsx)(o.L,{"data-tab":"footer",children:"Footer"})})]}),Object(c.jsxs)(o.Y,{children:[Object(c.jsx)(o.Z,{"data-tab":"template",children:Object(c.jsx)(o.g,{children:Object(c.jsx)(o.O,{children:Object(c.jsx)(o.k,{xs:"12",children:Object(c.jsx)(O.a,{height:"70vh",defaultLanguage:"javascript",value:Z,onChange:function(e,t){return R(e)}})})})})}),Object(c.jsx)(o.Z,{"data-tab":"header",children:Object(c.jsx)(o.g,{children:Object(c.jsx)(o.O,{children:Object(c.jsx)(o.k,{xs:"12",children:Object(c.jsx)(O.a,{height:"70vh",defaultLanguage:"javascript",value:Y,onChange:function(e,t){return q(e)}})})})})}),Object(c.jsx)(o.Z,{"data-tab":"footer",children:Object(c.jsx)(o.g,{children:Object(c.jsx)(o.O,{children:Object(c.jsx)(o.k,{xs:"12",children:Object(c.jsx)(O.a,{height:"70vh",defaultLanguage:"javascript",value:ee,onChange:function(e,t){return te(e)}})})})})})]})]})})}),Object(c.jsxs)(o.O,{xs:"4",children:[Object(c.jsx)(o.k,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0",children:Object(c.jsxs)(o.e,{block:!0,variant:"outline",color:"info",id:"workflowSave",onClick:function(){var t={printId:T,printName:S,printVersion:M,printRoles:V,template:Z,header:Y,footer:ee,domainId:F,username:de},n={method:"POST",headers:{"X-Tenant":ue,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")},body:JSON.stringify(t)};fetch(l.r+"/api/print/save",n).then((function(e){return new Promise((function(t,n){e.text().then((function(e){t(e.length?JSON.parse(e):null)})).catch((function(e){n(e)}))}))})).then((function(t){t.printId;e.history.push("/admin/print/list")}))},children:[Object(c.jsx)(h.a,{})," Enregister"]})}),Object(c.jsx)(o.k,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0",children:Object(c.jsxs)(o.e,{block:!0,variant:"outline",color:"danger",onClick:function(){return e.history.push("/admin/print/list")},children:[Object(c.jsx)(b.a,{}),"Annuler"]})})]})]})})]})})})}))},719:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a='<?xml version="1.0" encoding="UTF-8" standalone="no"?><bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="sample-diagram" targetNamespace="http://bpmn.io/schema/bpmn" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd">\n                            <bpmn2:process id="'.concat(function(e){for(var t=["Process_"],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,c=0;c<e;c++)t.push(n.charAt(Math.floor(Math.random()*a)));return t.join("")}(7),'" isExecutable="true"/>\n                            <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n                              <bpmndi:BPMNPlane bpmnElement="Process_1bzh145" id="BPMNPlane_1"/>\n                            </bpmndi:BPMNDiagram>\n                          </bpmn2:definitions>')}}]);
//# sourceMappingURL=83.cab7c522.chunk.js.map