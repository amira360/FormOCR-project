(this["webpackJsonpisct-group"]=this["webpackJsonpisct-group"]||[]).push([[90],{3101:function(e,t,a){"use strict";a.r(t);var n=a(39),c=a(13),s=a(680),i=a(89),o=a(1),r=a.n(o),l=a(733),j=(a(667),a(633)),u=a(658),d=a(115),b=(a(1506),a(3025)),O=a(701),h=(a(685),a(686),a(687),a(688),a(697)),m=a(704),p=a(679),x=(a(895),Object(b.a)((function(e){return{formControl:{margin:e.spacing(1),marginLeft:"0px !important",minWidth:220,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}})));t.default=Object(O.a)(Object(n.a)({},x),{withTheme:!0})((function(e){var t=Object(o.useRef)(null),a=r.a.useState(!0),n=Object(i.a)(a,2),b=(n[0],n[1],r.a.useState(!0)),O=Object(i.a)(b,2),S=(O[0],O[1],r.a.useState("")),f=Object(i.a)(S,2),g=(f[0],f[1],r.a.useState("")),v=Object(i.a)(g,2),y=(v[0],v[1],r.a.useState("")),k=Object(i.a)(y,2),N=(k[0],k[1],r.a.useState("")),w=Object(i.a)(N,2),I=(w[0],w[1],r.a.useState([])),C=Object(i.a)(I,2),T=(C[0],C[1]),A=r.a.useState(null),z=Object(i.a)(A,2),J=(z[0],z[1],r.a.useState("workflow")),H=Object(i.a)(J,2),B=(H[0],H[1],r.a.useState("")),F=Object(i.a)(B,2),P=(F[0],F[1],r.a.useState("")),D=Object(i.a)(P,2),E=(D[0],D[1],r.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainId)),R=Object(i.a)(E,2),V=R[0],W=(R[1],r.a.useState([])),X=Object(i.a)(W,2),q=(X[0],X[1],r.a.useState([])),G=Object(i.a)(q,2),L=(G[0],G[1],r.a.useState([])),M=Object(i.a)(L,2),_=(M[0],M[1]),K=r.a.useState([]),Q=Object(i.a)(K,2),U=(Q[0],Q[1],r.a.useState([])),Y=Object(i.a)(U,2),Z=(Y[0],Y[1],r.a.useState("")),$=Object(i.a)(Z,2),ee=($[0],$[1],r.a.useState("")),te=Object(i.a)(ee,2),ae=(te[0],te[1],r.a.useState([])),ne=Object(i.a)(ae,2),ce=(ne[0],ne[1],r.a.useState([])),se=Object(i.a)(ce,2),ie=(se[0],se[1],r.a.useState(null)),oe=Object(i.a)(ie,2),re=(oe[0],oe[1],x(),r.a.useState(null)),le=Object(i.a)(re,2),je=(le[0],le[1],r.a.useState(null)),ue=Object(i.a)(je,2),de=(ue[0],ue[1],r.a.useState(localStorage.getItem("username"))),be=Object(i.a)(de,2),Oe=(be[0],be[1],r.a.useState("")),he=Object(i.a)(Oe,2),me=(he[0],he[1],r.a.useState("")),pe=Object(i.a)(me,2),xe=(pe[0],pe[1],r.a.useState("")),Se=Object(i.a)(xe,2),fe=(Se[0],Se[1],r.a.useState([])),ge=Object(i.a)(fe,2),ve=(ge[0],ge[1],r.a.useState("")),ye=Object(i.a)(ve,2),ke=(ye[0],ye[1],r.a.useState("")),Ne=Object(i.a)(ke,2),we=(Ne[0],Ne[1],r.a.useState("")),Ie=Object(i.a)(we,2),Ce=(Ie[0],Ie[1],r.a.useState("")),Te=Object(i.a)(Ce,2),Ae=(Te[0],Te[1],r.a.useState("")),ze=Object(i.a)(Ae,2),Je=(ze[0],ze[1],r.a.useState("")),He=Object(i.a)(Je,2),Be=(He[0],He[1],r.a.useState("")),Fe=Object(i.a)(Be,2),Pe=Fe[0],De=Fe[1],Ee=r.a.useState([]),Re=Object(i.a)(Ee,2),Ve=(Re[0],Re[1],r.a.useState("")),We=Object(i.a)(Ve,2),Xe=We[0],qe=We[1],Ge=r.a.useState([]),Le=Object(i.a)(Ge,2),Me=(Le[0],Le[1],r.a.useState(!1)),_e=Object(i.a)(Me,2),Ke=(_e[0],_e[1],r.a.useState([{processId:"",dependOn:[]}])),Qe=Object(i.a)(Ke,2),Ue=Qe[0],Ye=Qe[1],Ze=r.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainName),$e=Object(i.a)(Ze,2),et=$e[0];$e[1];Object(o.useEffect)((function(){var e={method:"GET",headers:{"X-Tenant":et,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")}};fetch(d.v+"/api/auth/role/getRoles",e).then((function(e){return e.json()})).then((function(e){console.log(e);var t=[];e.map((function(e){t.push({value:e.roleName,label:e.roleName,id:e.roleId})})),_(t)})).catch((function(e){console.log(e)}));var t={method:"POST",headers:{"X-Tenant":et,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")},body:JSON.stringify({domainId:V})};fetch(d.x+"/api/workflow/getAll",t).then((function(e){return new Promise((function(t,a){e.text().then((function(e){t(e.length?JSON.parse(e):null)})).catch((function(e){a(e)}))}))})).then((function(e){console.log(e);var t=[];e.map((function(e){t.push({value:e.id,label:e.name+"-"+e.version})})),T(t),De(t)}))}),[]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(l.Toast,{ref:t}),Object(c.jsx)(j.k,{xs:"12",sm:"12",children:Object(c.jsxs)(j.f,{children:[Object(c.jsx)(j.j,{children:Object(c.jsx)("h2",{children:"Cr\xe9er une matrice de d\xe9pendance"})}),Object(c.jsx)(j.g,{children:Object(c.jsxs)(j.u,{noValidate:!0,children:[Object(c.jsxs)(j.v,{row:!0,className:"my-0",children:[Object(c.jsx)(j.k,{sm:12,md:6,children:Object(c.jsxs)(j.v,{children:[Object(c.jsx)(j.H,{htmlFor:"dependencyId",children:"S No"}),Object(c.jsx)(j.A,{id:"dependencyId",disabled:!0})]})}),Object(c.jsx)(j.k,{sm:12,md:6,children:Object(c.jsxs)(j.v,{children:[Object(c.jsx)(j.H,{htmlFor:"dependencyName",children:" Nom "}),Object(c.jsx)(j.A,{id:"dependencyName",onChange:function(e){return qe(e.target.value)},value:Xe})]})})]}),Object(c.jsxs)(j.f,{children:[Object(c.jsx)(j.j,{color:"light",children:"D\xe9pendance"}),Object(c.jsxs)(j.g,{children:[Ue.map((function(e,t){return Object(c.jsx)("div",{style:{marginTop:"10px"},children:Object(c.jsx)("div",{style:{width:"100%",borderBottom:"1px solid lightGray"},children:Object(c.jsxs)(j.v,{row:!0,className:"my-0",children:[Object(c.jsx)(j.k,{sm:12,md:5,children:Object(c.jsxs)(j.v,{children:[Object(c.jsx)(j.H,{htmlFor:"processus",children:"Processus"}),Object(c.jsx)(p.a,{name:"processus",value:e.processId,onChange:function(e){return function(e,t){var a=Object(s.a)(Ue);a[e].processId=t.value,Ye(a)}(t,e)},options:Pe,required:!0,isClearable:!0})]})}),Object(c.jsx)(j.k,{sm:12,md:5,children:Object(c.jsxs)(j.v,{children:[Object(c.jsx)(j.H,{htmlFor:"Source",children:"D\xe9pend de"}),Object(c.jsx)(p.a,{name:"source",value:e.dependOn,onChange:function(e){return function(e,t){var a=Object(s.a)(Ue);a[e].dependOn=t,Ye(a)}(t,e)},options:Pe,required:!0,isClearable:!0,isMulti:!0})]})}),Object(c.jsx)(j.k,{sm:12,md:1,style:{paddingTop:"30px",paddingRight:"10px"},children:t?Object(c.jsx)(j.k,{sm:12,md:12,children:Object(c.jsx)(u.Button,{onClick:function(e){return function(e,t){e.preventDefault();var a=Object(s.a)(Ue);a.splice(t,1),Ye(a)}(e,t)},icon:"pi pi-trash",className:"p-button-rounded p-button-danger"})}):null})]})})},t)})),Object(c.jsx)(j.k,{sm:12,md:6,children:Object(c.jsx)("div",{className:"button-section",children:Object(c.jsx)("button",{className:"button add",type:"button",onClick:function(){Ye([].concat(Object(s.a)(Ue),[{processId:"",dependOn:[]}]))},children:"Add"})})})]})]}),Object(c.jsxs)(j.O,{xs:"4",children:[Object(c.jsx)(j.k,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0",children:Object(c.jsxs)(j.e,{block:!0,variant:"outline",color:"info",id:"workflowSave",onClick:function(t){t.preventDefault();var a={method:"POST",headers:{"X-Tenant":et,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")},body:JSON.stringify({name:Xe,dependencies:Ue})};fetch(d.d+"/api/auth/create",a).then((function(e){return new Promise((function(t,a){e.text().then((function(e){t(e.length?JSON.parse(e):null)})).catch((function(e){a(e)}))}))})).then((function(t){e.history.push("/admin/dependencies/list")}))},children:[Object(c.jsx)(h.a,{})," Enregister"]})}),Object(c.jsx)(j.k,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0",children:Object(c.jsxs)(j.e,{block:!0,variant:"outline",color:"danger",onClick:function(){return e.history.push("/admin/dependency/list")},children:[Object(c.jsx)(m.a,{}),"Annuler"]})})]})]})})]})})]})}))},697:function(e,t,a){"use strict";var n=a(1),c=a(1054);t.a=Object(c.a)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save")}}]);
//# sourceMappingURL=90.57cff86e.chunk.js.map