{"version":3,"sources":["views/Administration/cartography/CartographyList.js","views/users/UsersData.js","../node_modules/primereact/inputtext.js","../node_modules/@material-ui/icons/esm/Add.js"],"names":["CartographyList","props","useRef","React","useState","currentItems","setCurrentItems","setPrints","JSON","parse","localStorage","getItem","domainName","domainId","dt","useSelector","state","sidebarShow","globalFilter","setGlobalFilter","setPermissions","setVisible","useEffect","role_permissions","permissionTab","length","map","rolePermissions","permission","push","key","print_data","method","headers","body","stringify","fetch","PRINT_SERVICE","then","response","Promise","resolve","reject","text","catch","err","data","console","log","prints_data","print","sno","name","version","id","size","setItem","error","csvContent","item","Object","values","join","encodeURIComponent","style","zIndex","backgroundColor","color","fontWeight","className","usersData","registered","role","status","module","exports","require","createSvgIcon","d"],"mappings":"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","file":"static/js/50.395b318d.chunk.js","sourcesContent":["import {\n    CBadge, CButton,\n    CCard,\n    CCardBody,\n    CCardHeader,\n    CCol,\n    CDataTable, CDropdown, CDropdownDivider, CDropdownItem,\n    CDropdownMenu,\n    CDropdownToggle, CHeader,\n    CRow, CSidebar, CToggler, CLink\n} from \"@coreui/react\";\nimport CIcon from '@coreui/icons-react';\nimport usersData from \"../../users/UsersData\";\nimport React, {useEffect, useRef, useState} from \"react\";\nimport Tables from \"../../base/tables/Tables\";\nimport {useSelector} from \"react-redux\";\nimport {Search, Add, Delete, Edit, Update} from \"@material-ui/icons\";\nimport {RemoveRedEye} from \"@material-ui/icons\";\nimport {Link} from \"react-router-dom\";\nimport { Menu } from 'primereact/menu';\nimport {SERVER_URL, PRINT_SERVICE} from \"../../../constants\";\n\nimport 'primeicons/primeicons.css';\nimport 'primereact/resources/themes/saga-blue/theme.css';\nimport 'primereact/resources/primereact.css';\nimport 'primeflex/primeflex.css';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Button } from 'primereact/button';\nimport { InputText } from 'primereact/inputtext';\nimport {ProgressBar} from \"primereact/progressbar\";\n\nconst getBadge = status => {\n    switch (status) {\n        case 'Active': return 'success'\n        case 'Inactive': return 'secondary'\n        case 'Pending': return 'warning'\n        case 'Banned': return 'danger'\n        default: return 'primary'\n    }\n}\nconst fields = [ 'Action','S No','Nom', 'Version']\n\nconst CartographyList = (props) => {\n\n    const menu = useRef(null);\n\n    const [currentItems, setCurrentItems] = React.useState([]);\n    const [formName, setFormName] = React.useState(\"\");\n    const [formId, setFormId] = React.useState(\"\");\n    const [formCode, setFormCode] = React.useState(\"\");\n    const [prints, setPrints] = React.useState([]);\n    const [domainName, setDomainName] = React.useState(JSON.parse(localStorage.getItem('domain_data')).domainName);\n\n    const [domainId, setDomainId] = React.useState(JSON.parse(localStorage.getItem('domain_data')).domainId);\n    const show = useSelector(state => state.sidebarShow)\n    const dt = useRef(null);\n    const [globalFilter, setGlobalFilter] = React.useState(\"\");\n    const [permissions, setPermissions] = React.useState([]);\n    const [visible, setVisible] = useState(true)\n\n    useEffect(()=> {\n        const role_permissions = JSON.parse(localStorage.getItem(\"userPermissions\"))\n        const permissionTab = []\n        if(role_permissions.length ){\n            role_permissions.map(rolePermissions =>{\n                rolePermissions.map(permission =>{\n                    permissionTab.push(permission.key)\n                })\n            })\n            setPermissions(permissionTab)\n\n        }\n        const print_data = {\n            method: 'POST',\n            headers: {\n                \"X-Tenant\": domainName,\n                'Content-Type': 'application/json',\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"Authorization\")},\n            body: JSON.stringify({domainId: domainId})\n        };\n        fetch(PRINT_SERVICE + '/api/print/getAll',print_data)\n            .then(response => {\n                return new Promise((resolve, reject) => {\n                    response.text().then(body => {\n                        resolve(\n                            body.length ? JSON.parse(body) : null\n                        );\n                    }).catch(err => {\n                        reject(err);\n                    });\n                });\n            })\n            .then(data => {\n                console.log(data);\n                var prints_data = [];\n                data.map(print =>\n                {prints_data.push({\"S No\":print.sno, \"Nom\": print.name,\n                    \"Version\": print.version, \"id\":print.id})\n                })\n\n                /*const data_to_ten = data.length%10;\n                if(data_to_ten !== 0 && data_to_ten<=2){\n                  var index = 0;\n                  const rest_data = 10-data_to_ten;\n                  if(rest_data>2){\n                    for (index; index < 2; index++){\n                      prints_data.push({\"S No\":'', \"Nom\": '',\n                        \"Version\": '', \"id\":''})\n                    }\n                  }\n                }*/\n                setPrints(prints_data);\n                setCurrentItems(prints_data)\n                if(prints_data.size !== 0){\n                    setVisible(false)\n                }\n                localStorage.setItem(\"prints\",  JSON.stringify(data))\n                //this.props.history.push(\"/admin/formView\");\n            })\n            .catch(error => {\n                console.log(error);\n            });\n    },[])\n    const csvContent = currentItems.map(item => Object.values(item).join(',')).join('\\n')\n    const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent)\n    const menuList = (rowData) => {\n        const items =\n            [  {\n                label: 'Aperçu',\n                icon: 'pi pi-eye',\n                command:()=>{ window.location.hash=\"/admin/print/preview/\" + rowData.id;}\n\n            },\n                {\n                    label: 'Modifier',\n                    icon: 'pi pi-pencil',\n                    command:()=>{ window.location.hash=\"/admin/print/edit/\" + rowData.id ;}\n                },\n                {\n                    label: 'Supprimer',\n                    icon: 'pi pi-trash',\n                    //   command:()=>{ window.location.hash=\"/admin/print/edit/\" + rowData.id;\n\n                }\n            ]\n        return (  <div>\n            <Menu model={items} popup ref={menu} id=\"popup_menu\" />\n            <i className=\"pi pi-bars\" onClick={(event) => menu.current.toggle(event)}></i>\n        </div>)\n        //  return <i className=\"pi pi-bars p-toolbar-separator p-mr-2\" onClick={(event) => <Menu model={items} popup ref={menu} />}></i> ;\n    }\n    const menuPermissions = (item)=>{\n\n\n\n        if (permissions.includes(\"0-0-13-1\")){\n            if (permissions.includes(\"0-0-13-2\")){\n                return  (\n                    <CDropdownMenu className=\"mp-0\">\n                        {/*<CDropdownItem to={\"/admin/print/preview/\" + item.id}>\n                            <RemoveRedEye/>&nbsp;&nbsp;Aperçu\n                        </CDropdownItem>*/}\n                        <CDropdownItem to={\"/admin/print/edit/\" + item.id}>\n                            <Edit/> &nbsp;&nbsp;Editer\n                        </CDropdownItem>\n                        {/*  <CDropdownItem>\n                            <Delete/>&nbsp;&nbsp;Supprimer\n                        </CDropdownItem>*/}\n                    </CDropdownMenu>)\n            }else{\n                return  (\n                    <CDropdownMenu className=\"mp-0\">\n                        {/* <CDropdownItem to={\"/admin/print/preview/\" + item.id}>\n                            <RemoveRedEye/>&nbsp;&nbsp;Aperçu\n                        </CDropdownItem>*/}\n                        <CDropdownItem to={\"/admin/print/edit/\" + item.id}>\n                            <Edit/> &nbsp;&nbsp;Editer\n                        </CDropdownItem>\n\n                    </CDropdownMenu>\n                )\n            }\n\n        } //else{\n        /*if (permissions.includes(\"0-0-13-2\")){\n            return  (\n                <CDropdownMenu className=\"mp-0\">\n                    <CDropdownItem to={\"/admin/print/preview/\" + item.id}>\n                        <RemoveRedEye/>&nbsp;&nbsp;Aperçu\n                    </CDropdownItem>\n\n                    {/!*<CDropdownItem>\n                        <Delete/>&nbsp;&nbsp;Supprimer\n                    </CDropdownItem>*!/}\n                </CDropdownMenu>)\n        }*//*else{\n                return  (\n                    <CDropdownMenu className=\"mp-0\">\n                        <CDropdownItem to={\"/admin/print/preview/\" + item.id}>\n                            <RemoveRedEye/>&nbsp;&nbsp;Aperçu\n                        </CDropdownItem>\n\n                    </CDropdownMenu>\n                )\n            }*/\n        //   }\n\n    }\n    const createPrint =() =>{\n        if (permissions.includes(\"0-0-13-0\")){\n            return (\n                <CLink\n                    style={{color: \"#FFFFFF\"}}\n                    onClick={()=> props.history.push(\"/admin/print/create\")}\n                    rel=\"noreferrer noopener\"\n                    target=\"_blank\"\n                    className=\"card-header-action\"\n                >\n                    <Add/>Ajouter un nouveau\n                </CLink>\n            )\n        }\n    }\n\n    const reset = () => {\n        setGlobalFilter('');\n        dt.current.reset();\n    }\n    const header = (\n        <div className=\"table-header\">\n            <Button type=\"button\" label=\"Clear\" className=\"p-button-outlined\" icon=\"pi pi-filter-slash\" onClick={reset} />\n            <span className=\"p-input-icon-left\">\n                <i className=\"pi pi-search\" />\n                <InputText type=\"search\" value={globalFilter} onChange={(e) => setGlobalFilter(e.target.value)} placeholder=\"Global Search\" />\n            </span>\n        </div>\n    );\n    const isVisible = visible;\n    return (\n        <>\n\n            <CRow>\n                <CCol>\n                    <CCard style={{zIndex: \"10 !important\"}}>\n                        <CCardHeader style={{backgroundColor: \"#494399\"}}>\n                            <span style={{color: \"#FFFFFF\", fontWeight: \"bold\"}}>Liste des Cartographies</span>\n\n                            <div className=\"card-header-actions\">\n\n                                {/*<CLink style={{color: \"#FFFFFF\", paddingLeft: \"10px\" }} >\n                  <Search content=\"cil-search\" size=\"2xl\"/>\n                  </CLink>*/}\n{/*\n                                {createForm()}\n                                <CLink style={{color: \"#FFFFFF\", paddingLeft: \"10px\" }} >\n                                    <i  size=\"2xl\" className=\"pi pi-bars\" onClick={(event) => console.log(event)}></i>\n                                </CLink>*/}\n                            </div>\n                        </CCardHeader>\n                        <CCardBody>\n\n        <div>\n            <h2>Désolé! il s'agissait d'un problème temporaire ! </h2>\n        </div>\n            </CCardBody>\n        </CCard>\n                </CCol>\n            </CRow>\n            </>\n\n    )\n}\nexport default CartographyList\n","const usersData = [\n  {id: 0, name: 'John Doe', registered: '2018/01/01', role: 'Guest', status: 'Pending'},\n  {id: 1, name: 'Samppa Nori', registered: '2018/01/01', role: 'Member', status: 'Active'},\n  {id: 2, name: 'Estavan Lykos', registered: '2018/02/01', role: 'Staff', status: 'Banned'},\n  {id: 3, name: 'Chetan Mohamed', registered: '2018/02/01', role: 'Admin', status: 'Inactive'},\n  {id: 4, name: 'Derick Maximinus', registered: '2018/03/01', role: 'Member', status: 'Pending'},\n  {id: 5, name: 'Friderik Dávid', registered: '2018/01/21', role: 'Staff', status: 'Active'},\n  {id: 6, name: 'Yiorgos Avraamu', registered: '2018/01/01', role: 'Member', status: 'Active'},\n  {id: 7, name: 'Avram Tarasios', registered: '2018/02/01', role: 'Staff', status: 'Banned'},\n  {id: 8, name: 'Quintin Ed', registered: '2018/02/01', role: 'Admin', status: 'Inactive'},\n  {id: 9, name: 'Enéas Kwadwo', registered: '2018/03/01', role: 'Member', status: 'Pending'},\n  {id: 10, name: 'Agapetus Tadeáš', registered: '2018/01/21', role: 'Staff', status: 'Active'},\n  {id: 11, name: 'Carwyn Fachtna', registered: '2018/01/01', role: 'Member', status: 'Active'},\n  {id: 12, name: 'Nehemiah Tatius', registered: '2018/02/01', role: 'Staff', status: 'Banned'},\n  {id: 13, name: 'Ebbe Gemariah', registered: '2018/02/01', role: 'Admin', status: 'Inactive'},\n  {id: 14, name: 'Eustorgios Amulius', registered: '2018/03/01', role: 'Member', status: 'Pending'},\n  {id: 15, name: 'Leopold Gáspár', registered: '2018/01/21', role: 'Staff', status: 'Active'},\n  {id: 16, name: 'Pompeius René', registered: '2018/01/01', role: 'Member', status: 'Active'},\n  {id: 17, name: 'Paĉjo Jadon', registered: '2018/02/01', role: 'Staff', status: 'Banned'},\n  {id: 18, name: 'Micheal Mercurius', registered: '2018/02/01', role: 'Admin', status: 'Inactive'},\n  {id: 19, name: 'Ganesha Dubhghall', registered: '2018/03/01', role: 'Member', status: 'Pending'},\n  {id: 20, name: 'Hiroto Šimun', registered: '2018/01/21', role: 'Staff', status: 'Active'},\n  {id: 21, name: 'Vishnu Serghei', registered: '2018/01/01', role: 'Member', status: 'Active'},\n  {id: 22, name: 'Zbyněk Phoibos', registered: '2018/02/01', role: 'Staff', status: 'Banned'},\n  {id: 23, name: 'Aulus Agmundr', registered: '2018/01/01', role: 'Member', status: 'Pending'},\n  {id: 42, name: 'Ford Prefect', registered: '2001/05/25', role: 'Alien', status: 'Don\\'t panic!'}\n]\n\nexport default usersData\n","'use strict';\n\nmodule.exports = require('./components/inputtext/InputText');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');"],"sourceRoot":""}