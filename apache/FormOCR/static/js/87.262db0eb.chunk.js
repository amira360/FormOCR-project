(this["webpackJsonpisct-group"]=this["webpackJsonpisct-group"]||[]).push([[87],{3070:function(e,t,n){"use strict";n.r(t);var a=n(13),o=n(89),c=n(1),s=n.n(c),i=(n(91),n(994),n(3106)),l=n(115),u=(n(639),n(21)),r=n(633),h=n(716);t.default=function(e){var t=Object(c.useState)({showLeafIcon:!1}),n=Object(o.a)(t,2),d=n[0],b=(n[1],Object(c.useState)({})),O=Object(o.a)(b,2),f=(O[0],O[1]),m=Object(c.useState)(["3","3-17"]),j=Object(o.a)(m,2),g=j[0],p=j[1],x=Object(c.useState)([]),S=Object(o.a)(x,2),v=S[0],k=S[1],y=Object(c.useState)([]),N=Object(o.a)(y,2),I=N[0],M=N[1],w=Object(c.useState)(!0),C=Object(o.a)(w,2),E=C[0],J=C[1],_=Object(c.useState)(!0),A=Object(o.a)(_,2),K=A[0],z=(A[1],Object(c.useState)(null)),P=Object(o.a)(z,2),T=P[0],q=P[1],D=Object(c.useState)(null),L=Object(o.a)(D,2),B=(L[0],L[1]),G=s.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainName),H=Object(o.a)(G,2),Q=H[0],V=(H[1],s.a.useState([])),X=Object(o.a)(V,2),F=X[0],R=X[1],U=function(e,t){console.log("selected",e,t),f(t.node),M(e);var n="",a="",o="",c=t.node.key;-1!==c.indexOf("-")?(a=c.substr(0,c.indexOf("-")),console.log(a),c=c.substr(c.indexOf("-")+1,c.length-1),"4"===a?-1!==c.indexOf("-")?(n=c.substr(0,c.indexOf("-")),console.log(n),-1!==(c=c.substr(c.indexOf("-")+1,c.length-1)).indexOf("-")?(o=c.substr(0,c.indexOf("-")),console.log(o),c=c.substr(c.indexOf("-")+1,c.length-1),console.log("masters sub menu "),q(o)):(o=c,console.log(o),console.log("masters menu"),q(o))):(n=c,console.log(n),console.log("sub menu qms masters"),q(n)):(n=c,console.log(n),console.log("sub menu other than ims qnd masters "),q(n))):(a=c,console.log(a),console.log("menu "),q(a),B("Menu"))};Object(u.g)();Object(c.useEffect)((function(){var e=[],t={method:"GET",headers:{"X-Tenant":Q,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")}};fetch(l.l+"/api/menu/auth/allMastersMenu",t).then((function(e){return new Promise((function(t,n){e.text().then((function(e){t(e.length?JSON.parse(e):null)})).catch((function(e){n(e)}))}))})).then((function(t){var n=JSON.parse(t.menu),a={};n.map((function(t){if(a.title=t.name,a.key="4-18-"+t.id,e.push(a),a={},"CSidebarNavItem"===t._tag)a.to=t.to,e.push(a),a={};else{var n=t._children,o=[],c={};n.map((function(e){c.title=e.name,c.key="-18-"+t.id+"-"+e.id,c.to=e.to,o.push(c),c={}})),a.children=c}e.push(a),a={}}))})),fetch(l.o+"/api/menu/auth/allMenu",t).then((function(e){return new Promise((function(t,n){e.text().then((function(e){t(e.length?JSON.parse(e):null)})).catch((function(e){n(e)}))}))})).then((function(t){var n=JSON.parse(t.menu),a=[],o={};n.filter((function(e){return"Masters"===e.name})).map((function(t){if(o.key=t.id,o.title=t.name,"CSidebarNavItem"!==t._tag){var n=t._children,c=[],s={};n.map((function(n){s.key=t.id+n.id,s.title=n.name,"CSidebarNavItem"===n._tag?(c.push(s),s={}):("Masters"===t.name&&"QMS"===n.name&&(s.children=e),c.push(s),s={})})),o.children=c}a.push(o),o={}})),R(a),console.log(a)}))}),[]);return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(i.a,{checkable:!0,onExpand:function(e){console.log("onExpand",e),p(e),J(!1)},expandedKeys:g,autoExpandParent:E,onCheck:function(e){console.log("onCheck",e),k(e)},checkedKeys:v,onSelect:U,selectedKeys:I,treeData:F}),Object(a.jsx)(i.a,{showLine:d,showIcon:K,defaultExpandedKeys:["3","3-17"],onSelect:U,treeData:F})]}),Object(a.jsx)(r.h,{children:Object(a.jsxs)(r.e,{onClick:function(){return console.log(T),void alert(T)},color:"success",className:"mt-3 -item-right",active:!0,tabIndex:-1,style:{textAlign:"right"},children:[Object(a.jsx)(h.a,{}),"Submit"]})})]})}},716:function(e,t,n){"use strict";var a=n(1),o=n(1054);t.a=Object(o.a)(a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")}}]);
//# sourceMappingURL=87.262db0eb.chunk.js.map