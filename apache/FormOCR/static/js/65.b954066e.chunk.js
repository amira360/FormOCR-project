(this["webpackJsonpisct-group"]=this["webpackJsonpisct-group"]||[]).push([[65],{1440:function(e,a,l){"use strict";l.r(a);var t=l(39),s=l(13),o=l(89),i=l(1),n=l.n(i),r=l(633),c=l(115),u=(l(639),l(653),l(681)),d=l(3025),f=l(701),m=l(778),h=(l(754),l(755),l(697)),p=l(704),b=l(679),j=Object(d.a)((function(e){return{formControl:{margin:e.spacing(1),marginLeft:"0px !important",minWidth:220,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}}));a.default=Object(f.a)(Object(t.a)({},j),{withTheme:!0})((function(e){var a=n.a.useState(!0),l=Object(o.a)(a,2),t=(l[0],l[1],n.a.useState(!0)),d=Object(o.a)(t,2),f=(d[0],d[1],n.a.useState("")),O=Object(o.a)(f,2),g=O[0],x=O[1],v=n.a.useState(""),w=Object(o.a)(v,2),C=(w[0],w[1],n.a.useState("")),y=Object(o.a)(C,2),S=(y[0],y[1],n.a.useState("")),V=Object(o.a)(S,2),k=V[0],q=(V[1],n.a.useState("")),I=Object(o.a)(q,2),N=I[0],L=I[1],z=n.a.useState("form"),P=Object(o.a)(z,2),A=P[0],H=(P[1],n.a.useState("")),M=Object(o.a)(H,2),D=M[0],E=M[1],F=n.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainId),T=Object(o.a)(F,2),W=T[0],J=(T[1],n.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainName)),G=Object(o.a)(J,2),B=G[0],X=(G[1],n.a.useState([])),U=Object(o.a)(X,2),_=U[0],R=U[1],Z=n.a.useState([]),$=Object(o.a)(Z,2),K=$[0],Q=$[1],Y=n.a.useState([]),ee=Object(o.a)(Y,2),ae=ee[0],le=ee[1],te=n.a.useState({}),se=Object(o.a)(te,2),oe=se[0],ie=se[1],ne=n.a.useState(""),re=Object(o.a)(ne,2),ce=re[0],ue=re[1],de=n.a.useState(""),fe=Object(o.a)(de,2),me=fe[0],he=fe[1],pe=n.a.useState(localStorage.getItem("username")),be=Object(o.a)(pe,2),je=be[0];be[1],j();Object(i.useEffect)((function(){ie(JSON.parse(m.a).form);var e={method:"GET",headers:{"X-Tenant":B,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")}};fetch(c.v+"/api/auth/role/getRoles",e).then((function(e){return e.json()})).then((function(e){console.log(e);var a=[];e.map((function(e){a.push({value:e.roleName,label:e.roleName,id:e.roleId})})),le(a)})).catch((function(e){console.log(e)}))}),[]);return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(r.k,{xs:"12",sm:"12",children:Object(s.jsxs)(r.f,{children:[Object(s.jsx)(r.j,{children:Object(s.jsx)("h2",{children:"Cr\xe9er un formulaire"})}),Object(s.jsx)(r.g,{children:Object(s.jsxs)(r.u,{noValidate:!0,children:[Object(s.jsxs)(r.v,{row:!0,className:"my-0",children:[Object(s.jsx)(r.k,{sm:12,md:6,children:Object(s.jsxs)(r.v,{children:[Object(s.jsx)(r.H,{htmlFor:"SNo",children:"S No"}),Object(s.jsx)(r.A,{id:"SNo",disabled:!0})]})}),Object(s.jsx)(r.k,{sm:12,md:6,children:Object(s.jsxs)(r.v,{children:[Object(s.jsx)(r.H,{htmlFor:"formName",children:"Nom du formulaire"}),Object(s.jsx)(r.A,{id:"formName",onChange:function(e){return x(e.target.value)},value:g})]})})]}),Object(s.jsxs)(r.v,{row:!0,className:"my-0",children:[Object(s.jsx)(r.k,{sm:12,md:6,children:Object(s.jsxs)(r.v,{children:[Object(s.jsx)(r.H,{htmlFor:"formCode",children:"Code du formulaire"}),Object(s.jsx)(r.A,{invalid:"error"===D||"exist"===D||"notValid"===D,id:"formCode",onChange:function(e){var a,l;L(e.target.value),a=e.target.value,l=3,a.length>=l?(E("success"),function(e){var a={method:"POST",headers:{"X-Tenant":B,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")},body:JSON.stringify({code:e})};/^[a-zA-Z0-9-]*$/g.test(e)?fetch(c.g+"/api/form/auth/verifyFormCode",a).then((function(e){return e.json()})).then((function(e){console.log(e),0===e?E("success"):(E("exist"),ue("Le code de formulaire est d\xe9j\xe0 existant !"))})).catch((function(e){console.log(e)})):(E("notValid"),ue("Le code du formulaire doit contenir seulement des caract\xe8res !"))}(e.target.value)):(E("error"),ue("Le code est obligatoire !"))}}),Object(s.jsx)(r.G,{className:"help-block",children:ce})]})}),Object(s.jsx)(r.k,{sm:12,md:6,children:Object(s.jsxs)(r.v,{children:[Object(s.jsx)(r.H,{htmlFor:"AccessControlUser",children:"Contr\xf4le d'acc\xe8s"}),Object(s.jsx)(b.a,{name:"form-field-name2",placeholder:"Global",value:_,options:ae,onChange:R,isMulti:!0})]})})]}),Object(s.jsx)(r.v,{row:!0,className:"my-0",children:Object(s.jsx)(r.k,{sm:12,md:6,children:Object(s.jsxs)(r.v,{children:[Object(s.jsx)(r.H,{htmlFor:"formVersion",children:"Version"}),Object(s.jsx)(r.A,{id:"formVersion",onChange:function(e){return he(e.target.value)},value:me})]})})}),Object(s.jsxs)(r.f,{children:[Object(s.jsx)(r.j,{style:{backgroundColor:"#F5F5F5"},children:"G\xe9n\xe9rateur de formulaires"}),Object(s.jsx)(r.g,{children:Object(s.jsx)(u.FormBuilder,{form:oe,onChange:function(e){Q(e.components)}})})]}),Object(s.jsxs)(r.O,{xs:"4",children:[Object(s.jsx)(r.k,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0",children:Object(s.jsxs)(r.e,{block:!0,variant:"outline",color:"info",id:"formSave",onClick:function(a){a.preventDefault();var l={display:"form",components:K},t={method:"POST",headers:{"X-Tenant":B,"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("Authorization")},body:JSON.stringify({formName:g,display:k,type:A,formCode:N.toUpperCase(),form:l,domainId:W,roles:_,username:je,formVersion:me})};""===D&&E("error"),"success"===D&&fetch(c.g+"/api/form/create",t).then((function(a){console.log(a),e.history.push("/admin/form/list")}))},children:[Object(s.jsx)(h.a,{})," Enregister"]})}),Object(s.jsx)(r.k,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0",children:Object(s.jsxs)(r.e,{block:!0,variant:"outline",color:"danger",onClick:function(){return e.history.push("/admin/form/list")},children:[Object(s.jsx)(p.a,{})," Annuler"]})})]})]})})]})})})}))},697:function(e,a,l){"use strict";var t=l(1),s=l(1054);a.a=Object(s.a)(t.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save")},704:function(e,a,l){"use strict";var t=l(1),s=l(1054);a.a=Object(s.a)(t.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel")},778:function(e,a,l){"use strict";l.d(a,"a",(function(){return t}));var t='{"display":"form","form":{"display":"form","components":[{"title":"Panel","theme":"default","tooltip":"","customClass":"","collapsible":false,"hidden":false,"hideLabel":false,"disabled":false,"modalEdit":false,"key":"panel","tags":[],"properties":{},"customConditional":"","conditional":{"json":"","show":null,"when":null,"eq":""},"logic":[],"attributes":{},"overlay":{"style":"","page":"","left":"","top":"","width":"","height":""},"type":"panel","label":"Panel","breadcrumb":"default","tabindex":"","input":false,"placeholder":"","prefix":"","suffix":"","multiple":false,"defaultValue":null,"protected":false,"unique":false,"persistent":false,"clearOnHide":false,"refreshOn":"","redrawOn":"","tableView":false,"labelPosition":"top","description":"","errorLabel":"","autofocus":false,"dbIndex":false,"customDefaultValue":"","calculateValue":"","calculateServer":false,"widget":null,"validateOn":"change","validate":{"required":false,"custom":"","customPrivate":false,"strictDateValidation":false,"multiple":false,"unique":false},"allowCalculateOverride":false,"encrypted":false,"showCharCount":false,"showWordCount":false,"allowMultipleMasks":false,"tree":false,"components":[{"label":"Columns","columns":[{"components":[],"width":6,"offset":0,"push":0,"pull":0,"size":"md"},{"components":[],"width":6,"offset":0,"push":0,"pull":0,"size":"md"}],"autoAdjust":false,"hideOnChildrenHidden":false,"customClass":"","hidden":false,"hideLabel":false,"modalEdit":false,"key":"columns","tags":[],"properties":{},"conditional":{"show":null,"when":null,"eq":"","json":""},"customConditional":"","logic":[],"attributes":{},"overlay":{"style":"","page":"","left":"","top":"","width":"","height":""},"type":"columns","input":false,"placeholder":"","prefix":"","suffix":"","multiple":false,"defaultValue":null,"protected":false,"unique":false,"persistent":false,"clearOnHide":false,"refreshOn":"","redrawOn":"","tableView":false,"labelPosition":"top","description":"","errorLabel":"","tooltip":"","tabindex":"","disabled":false,"autofocus":false,"dbIndex":false,"customDefaultValue":"","calculateValue":"","calculateServer":false,"widget":null,"validateOn":"change","validate":{"required":false,"custom":"","customPrivate":false,"strictDateValidation":false,"multiple":false,"unique":false},"allowCalculateOverride":false,"encrypted":false,"showCharCount":false,"showWordCount":false,"allowMultipleMasks":false,"tree":false,"id":"e7wum4j"}],"id":"eoa4jqh"},{"type":"button","label":"Submit","key":"submit","size":"md","block":false,"action":"submit","disableOnInvalid":true,"theme":"primary","input":true,"placeholder":"","prefix":"","customClass":"","suffix":"","multiple":false,"defaultValue":null,"protected":false,"unique":false,"persistent":false,"hidden":false,"clearOnHide":true,"refreshOn":"","redrawOn":"","tableView":false,"modalEdit":false,"labelPosition":"top","description":"","errorLabel":"","tooltip":"","hideLabel":false,"tabindex":"","disabled":false,"autofocus":false,"dbIndex":false,"customDefaultValue":"","calculateValue":"","calculateServer":false,"widget":{"type":"input"},"attributes":{},"validateOn":"change","validate":{"required":false,"custom":"","customPrivate":false,"strictDateValidation":false,"multiple":false,"unique":false},"conditional":{"show":null,"when":null,"eq":""},"overlay":{"style":"","left":"","top":"","width":"","height":""},"allowCalculateOverride":false,"encrypted":false,"showCharCount":false,"showWordCount":false,"properties":{},"allowMultipleMasks":false,"leftIcon":"","rightIcon":"","dataGridLabel":true,"id":"eh3b4xu"}]},"domainId":1,"roles":["Admin"],"components":[{"title":"Panel","theme":"default","tooltip":"","customClass":"","collapsible":false,"hidden":false,"hideLabel":false,"disabled":false,"modalEdit":false,"key":"panel","tags":[],"properties":{},"customConditional":"","conditional":{"json":"","show":null,"when":null,"eq":""},"logic":[],"attributes":{},"overlay":{"style":"","page":"","left":"","top":"","width":"","height":""},"type":"panel","label":"Panel","breadcrumb":"default","tabindex":"","input":false,"placeholder":"","prefix":"","suffix":"","multiple":false,"defaultValue":null,"protected":false,"unique":false,"persistent":false,"clearOnHide":false,"refreshOn":"","redrawOn":"","tableView":false,"labelPosition":"top","description":"","errorLabel":"","autofocus":false,"dbIndex":false,"customDefaultValue":"","calculateValue":"","calculateServer":false,"widget":null,"validateOn":"change","validate":{"required":false,"custom":"","customPrivate":false,"strictDateValidation":false,"multiple":false,"unique":false},"allowCalculateOverride":false,"encrypted":false,"showCharCount":false,"showWordCount":false,"allowMultipleMasks":false,"tree":false,"components":[{"label":"Columns","columns":[{"components":[],"width":6,"offset":0,"push":0,"pull":0,"size":"md"},{"components":[],"width":6,"offset":0,"push":0,"pull":0,"size":"md"}],"autoAdjust":false,"hideOnChildrenHidden":false,"customClass":"","hidden":false,"hideLabel":false,"modalEdit":false,"key":"columns","tags":[],"properties":{},"conditional":{"show":null,"when":null,"eq":"","json":""},"customConditional":"","logic":[],"attributes":{},"overlay":{"style":"","page":"","left":"","top":"","width":"","height":""},"type":"columns","input":false,"placeholder":"","prefix":"","suffix":"","multiple":false,"defaultValue":null,"protected":false,"unique":false,"persistent":false,"clearOnHide":false,"refreshOn":"","redrawOn":"","tableView":false,"labelPosition":"top","description":"","errorLabel":"","tooltip":"","tabindex":"","disabled":false,"autofocus":false,"dbIndex":false,"customDefaultValue":"","calculateValue":"","calculateServer":false,"widget":null,"validateOn":"change","validate":{"required":false,"custom":"","customPrivate":false,"strictDateValidation":false,"multiple":false,"unique":false},"allowCalculateOverride":false,"encrypted":false,"showCharCount":false,"showWordCount":false,"allowMultipleMasks":false,"tree":false,"id":"e7wum4j"}],"id":"eoa4jqh"},{"type":"button","label":"Submit","key":"submit","size":"md","block":false,"action":"submit","disableOnInvalid":true,"theme":"primary","input":true,"placeholder":"","prefix":"","customClass":"","suffix":"","multiple":false,"defaultValue":null,"protected":false,"unique":false,"persistent":false,"hidden":false,"clearOnHide":true,"refreshOn":"","redrawOn":"","tableView":false,"modalEdit":false,"labelPosition":"top","description":"","errorLabel":"","tooltip":"","hideLabel":false,"tabindex":"","disabled":false,"autofocus":false,"dbIndex":false,"customDefaultValue":"","calculateValue":"","calculateServer":false,"widget":{"type":"input"},"attributes":{},"validateOn":"change","validate":{"required":false,"custom":"","customPrivate":false,"strictDateValidation":false,"multiple":false,"unique":false},"conditional":{"show":null,"when":null,"eq":""},"overlay":{"style":"","left":"","top":"","width":"","height":""},"allowCalculateOverride":false,"encrypted":false,"showCharCount":false,"showWordCount":false,"properties":{},"allowMultipleMasks":false,"leftIcon":"","rightIcon":"","dataGridLabel":true,"id":"eh3b4xu"}]}'}}]);
//# sourceMappingURL=65.b954066e.chunk.js.map