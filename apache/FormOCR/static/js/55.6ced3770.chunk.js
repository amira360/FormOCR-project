(this["webpackJsonpisct-group"]=this["webpackJsonpisct-group"]||[]).push([[55],{3087:function(e,t,s){"use strict";s.r(t);var a=s(13),c=s(89),n=s(1),r=s.n(n),o=(s(650),s(658),s(789),s(790),s(791),s(667),s(743),s(792),s(793),s(733),s(794),s(661),s(795),s(796),s(805),s(764),s(633)),i=s(697),l=s(704),u=s(115);s(875),s(742);t.default=function(e){var t=Object(n.useState)(localStorage.getItem("username")),s=Object(c.a)(t,2),j=s[0],d=(s[1],Object(n.useState)("")),h=Object(c.a)(d,2),b=h[0],O=h[1],m=Object(n.useState)(""),p=Object(c.a)(m,2),g=p[0],f=p[1],x=Object(n.useState)(""),v=Object(c.a)(x,2),S=v[0],w=v[1],k=Object(n.useState)(""),y=Object(c.a)(k,2),N=y[0],C=y[1],z=Object(n.useState)(""),A=Object(c.a)(z,2),J=A[0],T=A[1],I=Object(n.useState)(""),M=Object(c.a)(I,2),P=M[0],H=M[1],E=Object(n.useState)(""),F=Object(c.a)(E,2),V=F[0],G=F[1],L=Object(n.useState)(""),_=Object(c.a)(L,2),B=_[0],U=_[1],X=Object(n.useState)(""),q=Object(c.a)(X,2),D=q[0],K=q[1],Q=r.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainId),R=Object(c.a)(Q,2),W=R[0],Y=(R[1],r.a.useState(JSON.parse(localStorage.getItem("domain_data")).domainName)),Z=Object(c.a)(Y,2),$=Z[0];Z[1];Object(n.useEffect)((function(){}),[]);var ee=function(e,t){return e.length>=t};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(o.f,{children:[Object(a.jsx)(o.j,{children:Object(a.jsx)("h3",{children:"Changer le mot de passe"})}),Object(a.jsx)(o.g,{children:Object(a.jsx)(o.u,{noValidate:!0,style:{marginTop:"20px"},children:Object(a.jsxs)(o.v,{row:!0,className:"my-0",children:[Object(a.jsx)(o.k,{sm:12,md:6,children:Object(a.jsxs)(o.v,{children:[Object(a.jsx)(o.H,{htmlFor:"password",children:"Mot de passe actuel"}),Object(a.jsx)(o.A,{id:"password",type:"password",invalid:"error"===S,onChange:function(e){f(e.target.value),function(){var e={method:"POST",headers:{"Content-Type":"application/json","X-Tenant":$,Authorization:"Bearer "+localStorage.getItem("Authorization")},body:JSON.stringify({password:D,username:j,domainId:W})};fetch(u.v+"/api/auth/user/verifyUserPassword",e).then((function(e){return new Promise((function(t,s){e.text().then((function(e){t(e.length?JSON.parse(e):null)})).catch((function(e){s(e)}))}))})).then((function(e){null!==e?w("success"):(w("error"),O("Mot de passe invalide !"))})).catch((function(e){console.log(e)}))}(e.target.value),ee(e.target.value,3)?w("success"):(w("error"),O("Le mot de passe  est obligatoire !"))},value:g}),Object(a.jsx)(o.G,{className:"help-block",children:b})]})}),Object(a.jsx)(o.k,{sm:12,md:6,children:Object(a.jsxs)(o.v,{children:[Object(a.jsx)(o.H,{htmlFor:"password",children:"Mot de passe"}),Object(a.jsx)(o.A,{id:"password",type:"password",invalid:"error"===N,onChange:function(e){K(e.target.value),ee(e.target.value,3)?C("success"):(C("error"),T("Le mot de passe  est obligatoire !"))},value:D}),Object(a.jsx)(o.G,{className:"help-block",children:J})]})}),Object(a.jsx)(o.k,{sm:12,md:6,children:Object(a.jsxs)(o.v,{children:[Object(a.jsx)(o.H,{htmlFor:"password",children:"Confirmer le mot de passe"}),Object(a.jsx)(o.A,{id:"repeat_password",type:"password",invalid:"error"===V,valid:"success"===V,onChange:function(e){H(e.target.value),D===e.target.value?G("success"):(G("error"),U("Mot de passe invalide !"))},value:P}),Object(a.jsx)(o.G,{className:"help-block",children:B})]})}),Object(a.jsxs)(o.O,{xs:"4",style:{marginTop:"50px"},children:[Object(a.jsx)(o.k,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0",children:Object(a.jsxs)(o.e,{block:!0,variant:"outline",color:"info",id:"workflowSave",onClick:function(){return function(){if(""===N&&C("error"),""===S&&w("error"),""===V&&G("error"),"success"===V&&"success"===S&&"success"===N){var t={method:"POST",headers:{"Content-Type":"application/json","X-Tenant":$,Authorization:"Bearer "+localStorage.getItem("Authorization")},body:JSON.stringify({password:D,username:j})};fetch(u.v+"/api/auth/user/changeUserPassword",t).then((function(e){return new Promise((function(t,s){e.text().then((function(e){t(e.length?JSON.parse(e):null)})).catch((function(e){s(e)}))}))})).then((function(t){null!==t&&(alert("Votre mot de passe a \xe9t\xe9 chang\xe9 avec succ\xe8s !"),e.history.push("/dashboard"))})).catch((function(e){console.log(e)}))}}()},children:[Object(a.jsx)(i.a,{})," Enregister"]})}),Object(a.jsx)(o.k,{col:"6",sm:"4",md:"2",xl:!0,className:"mb-3 mb-xl-0",children:Object(a.jsxs)(o.e,{block:!0,variant:"outline",color:"danger",onClick:function(){return e.history.push("/dashboard")},children:[Object(a.jsx)(l.a,{}),"Annuler"]})})]})]})})})]})})}},697:function(e,t,s){"use strict";var a=s(1),c=s(1054);t.a=Object(c.a)(a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save")},704:function(e,t,s){"use strict";var a=s(1),c=s(1054);t.a=Object(c.a)(a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel")},805:function(e,t,s){}}]);
//# sourceMappingURL=55.6ced3770.chunk.js.map